"use strict";(self.webpackChunkantd_myapp=self.webpackChunkantd_myapp||[]).push([[995],{1995:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(5043),n=s(2178),r=s(7154);const c={chatAI:"index_chatAI__KrpI8",content:"index_content__W6oEL",answer:"index_answer__zPjIO",question:"index_question__l7ggH",footer:"index_footer__XxiiT"};var i=s(579);const o=()=>{const[e,t]=(0,a.useState)([]),[s,o]=(0,a.useState)(0),[l,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[p,m]=(0,a.useState)(0),[x,_]=(0,a.useState)([]),[f,v]=(0,a.useState)(!0),[S,w]=(0,a.useState)(""),[g,j]=(0,a.useState)(!1),y=(0,a.useRef)(null),{Search:N}=n.A;(0,a.useEffect)((()=>{s<e.length&&(p<e[s].length?setTimeout((()=>{d((t=>t+e[s][p])),m((e=>e+1))}),10):(o((e=>e+1)),m(0)));const t=y.current;t&&(t.scrollTop=t.scrollHeight)}),[s,p,e]);const b=e=>{const s={key:"c4db6e183893b44858fb84eb44636af9",question:e,uniqueid:"baby",mode:1,priv:1,restype:1};r.A.request({url:"https://apis.tianapi.com/robot/index",method:"post",data:s,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((e=>{const s=e.data.result.reply;t(s),s.length>0&&j(!1)})).catch((e=>{j(!1)})),o(0),m(0)};return(0,i.jsxs)("div",{className:c.chatAI,children:[(0,i.jsxs)("div",{className:c.content,ref:y,children:[x.map(((e,t)=>(0,i.jsxs)("div",{className:c.historyItem,children:[(0,i.jsx)("div",{className:c.question,children:e.question}),(0,i.jsx)("div",{className:c.answer,children:e.answer})]},t))),u&&(0,i.jsx)("div",{className:c.question,children:u}),u&&(0,i.jsx)("div",{className:c.answer,children:g?"正在思考中...":l})]}),(0,i.jsx)("div",{className:c.footer,children:(0,i.jsx)(N,{placeholder:"请输入您要搜索的内容",enterButton:"发送",size:"large",style:{width:"100%"},onSearch:s=>{t([]),d(""),h(s),w(""),j(!0),f?v(!1):_([...x,{question:u,answer:JSON.parse(JSON.stringify(e))}]),b(s);const a=y.current;a&&(a.scrollTop=a.scrollHeight)},value:S,onChange:e=>w(e.target.value)})})]})}}}]);
//# sourceMappingURL=995.3babdb99.chunk.js.map