{"version":3,"file":"static/js/990.a44a0e18.chunk.js","mappings":"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","sources":["../node_modules/xgplayer/es/_virtual/_rollupPluginBabelHelpers.js","../node_modules/xgplayer/es/utils/debug.js","../node_modules/xgplayer/es/utils/xgplayerTimeRange.js","../node_modules/xgplayer/es/utils/util.js","../node_modules/xgplayer/es/utils/sniffer.js","../node_modules/xgplayer/es/version.js","../node_modules/xgplayer/es/error.js","../node_modules/xgplayer/es/events.js","../node_modules/xgplayer/es/mediaProxy.js","../node_modules/xgplayer/es/utils/database.js","../node_modules/xgplayer/es/constant.js","../node_modules/xgplayer/es/plugin/hooksDescriptor.js","../node_modules/xgplayer/es/plugin/basePlugin.js","../node_modules/xgplayer/es/plugin/plugin.js","../node_modules/xgplayer/es/plugin/resizeObserver.js","../node_modules/xgplayer/es/plugin/pluginsManager.js","../node_modules/xgplayer/es/stateClassMap.js","../node_modules/xgplayer/es/defaultConfig.js","../node_modules/xgplayer/es/plugin/preset.js","../node_modules/xgplayer/es/plugins/controls/index.js","../node_modules/xgplayer/es/lang/i18n.js","../node_modules/xgplayer/es/lang/en.js","../node_modules/xgplayer/es/state.js","../node_modules/xgplayer/es/instManager.js","../node_modules/xgplayer/es/player.js","../node_modules/xgplayer/es/plugins/logger/index.js","../node_modules/xgplayer/es/plugins/assets/replay.js","../node_modules/xgplayer/es/plugins/replay/index.js","../node_modules/xgplayer/es/plugins/poster/index.js","../node_modules/xgplayer/es/plugins/assets/play.js","../node_modules/xgplayer/es/plugins/assets/pause.js","../node_modules/xgplayer/es/plugins/start/index.js","../node_modules/xgplayer/es/plugins/enter/index.js","../node_modules/xgplayer/es/plugins/common/iconTools.js","../node_modules/xgplayer/es/plugins/miniScreen/miniScreenIcon.js","../node_modules/xgplayer/es/utils/draggabilly.js","../node_modules/xgplayer/es/plugins/miniScreen/index.js","../node_modules/xgplayer/es/plugins/pc/index.js","../node_modules/xgplayer/es/plugins/mobile/touch.js","../node_modules/xgplayer/es/plugins/assets/seekicon.js","../node_modules/xgplayer/es/plugins/mobile/index.js","../node_modules/xgplayer/es/plugins/keyboard/index.js","../node_modules/xgplayer/es/plugins/assets/loading.js","../node_modules/xgplayer/es/plugins/loading/index.js","../node_modules/xgplayer/es/plugins/progress/innerList.js","../node_modules/xgplayer/es/plugins/progress/index.js","../node_modules/xgplayer/es/plugins/common/iconPlugin.js","../node_modules/xgplayer/es/plugins/play/index.js","../node_modules/xgplayer/es/plugins/assets/back.js","../node_modules/xgplayer/es/plugins/fullscreen/backicon.js","../node_modules/xgplayer/es/plugins/assets/requestFull.js","../node_modules/xgplayer/es/plugins/assets/exitFull.js","../node_modules/xgplayer/es/plugins/fullscreen/index.js","../node_modules/xgplayer/es/plugins/time/index.js","../node_modules/xgplayer/es/plugins/time/timesegments.js","../node_modules/xgplayer/es/plugins/assets/volumeLarge.js","../node_modules/xgplayer/es/plugins/assets/volumeSmall.js","../node_modules/xgplayer/es/plugins/assets/volumeMuted.js","../node_modules/xgplayer/es/plugins/volume/index.js","../node_modules/xgplayer/es/plugins/assets/rotate.js","../node_modules/xgplayer/es/plugins/rotate/index.js","../node_modules/xgplayer/es/plugins/assets/pipIcon.js","../node_modules/xgplayer/es/plugins/assets/pipIconExit.js","../node_modules/xgplayer/es/plugins/pip/index.js","../node_modules/xgplayer/es/plugins/assets/playNext.js","../node_modules/xgplayer/es/plugins/playNext/index.js","../node_modules/xgplayer/es/plugins/assets/download.js","../node_modules/xgplayer/es/plugins/download/index.js","../node_modules/xgplayer/es/plugins/screenShot/index.js","../node_modules/xgplayer/es/plugins/common/optionList.js","../node_modules/xgplayer/es/plugins/common/optionsIcon.js","../node_modules/xgplayer/es/plugins/definition/index.js","../node_modules/xgplayer/es/plugins/playbackRate/index.js","../node_modules/xgplayer/es/plugins/assets/requestCssFull.js","../node_modules/xgplayer/es/plugins/assets/exitCssFull.js","../node_modules/xgplayer/es/plugins/cssFullScreen/index.js","../node_modules/xgplayer/es/plugins/error/index.js","../node_modules/xgplayer/es/plugins/prompt/index.js","../node_modules/xgplayer/es/plugins/progressPreview/dotsApi.js","../node_modules/xgplayer/es/plugins/progressPreview/index.js","../node_modules/xgplayer/es/plugins/common/thumbnail.js","../node_modules/xgplayer/es/plugins/progress/miniProgress.js","../node_modules/xgplayer/es/plugins/dynamicBg/index.js","../node_modules/xgplayer/es/plugins/stats/index.js","../node_modules/xgplayer/es/plugins/gapJump/index.js","../node_modules/xgplayer/es/plugins/waitingTimeoutJump/index.js","../node_modules/xgplayer/es/plugins/testspeed/index.js","../node_modules/xgplayer/es/plugins/fpsDetect/index.js","../node_modules/xgplayer/es/presets/default.js","../node_modules/xgplayer/es/lang/zh-cn.js","../node_modules/xgplayer/es/index.umd.js","pages/Video/components/XGPlayerComponent.js","../node_modules/delegate/src/closest.js","../node_modules/delegate/src/delegate.js","../node_modules/downloadjs/download.js","../node_modules/eventemitter3/index.js"],"sourcesContent":["function ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function(sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), true).forEach(function(key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function(obj2) {\n    return typeof obj2;\n  } : function(obj2) {\n    return obj2 && \"function\" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? \"symbol\" : typeof obj2;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n      descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps)\n    _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass)\n    _setPrototypeOf(subClass, superClass);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {\n    return o2.__proto__ || Object.getPrototypeOf(o2);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {\n    o2.__proto__ = p2;\n    return o2;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false;\n  if (Reflect.construct.sham)\n    return false;\n  if (typeof Proxy === \"function\")\n    return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {\n    }));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived), result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null)\n      break;\n  }\n  return object;\n}\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get2(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base)\n        return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr))\n    return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null)\n    return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o)\n    return;\n  if (typeof o === \"string\")\n    return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor)\n    n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\")\n    return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n    return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length)\n    len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++)\n    arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null)\n    return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== void 0) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\")\n      return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\nexport { _arrayLikeToArray as arrayLikeToArray, _arrayWithoutHoles as arrayWithoutHoles, _assertThisInitialized as assertThisInitialized, _classCallCheck as classCallCheck, _createClass as createClass, _createSuper as createSuper, _defineProperty as defineProperty, _get as get, _getPrototypeOf as getPrototypeOf, _inherits as inherits, _isNativeReflectConstruct as isNativeReflectConstruct, _iterableToArray as iterableToArray, _nonIterableSpread as nonIterableSpread, _objectSpread2 as objectSpread2, _possibleConstructorReturn as possibleConstructorReturn, _setPrototypeOf as setPrototypeOf, _superPropBase as superPropBase, _toConsumableArray as toConsumableArray, _toPrimitive as toPrimitive, _toPropertyKey as toPropertyKey, _typeof as typeof, _unsupportedIterableToArray as unsupportedIterableToArray };\n","var XG_DEBUG_OPEN = typeof window !== \"undefined\" && window.location && window.location.href.indexOf(\"xgplayerdebugger=1\") > -1;\nvar STYLE = {\n  info: \"color: #525252; background-color: #90ee90;\",\n  error: \"color: #525252; background-color: red;\",\n  warn: \"color: #525252; background-color: yellow; \"\n};\nvar XGTAG = \"%c[xgplayer]\";\nvar XG_DEBUG = {\n  config: {\n    debug: XG_DEBUG_OPEN ? 3 : 0\n  },\n  logInfo: function logInfo(message) {\n    var _console;\n    for (var _len = arguments.length, optionalParams = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      optionalParams[_key - 1] = arguments[_key];\n    }\n    this.config.debug >= 3 && (_console = console).log.apply(_console, [XGTAG, STYLE.info, message].concat(optionalParams));\n  },\n  logWarn: function logWarn(message) {\n    var _console2;\n    for (var _len2 = arguments.length, optionalParams = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      optionalParams[_key2 - 1] = arguments[_key2];\n    }\n    this.config.debug >= 1 && (_console2 = console).warn.apply(_console2, [XGTAG, STYLE.warn, message].concat(optionalParams));\n  },\n  logError: function logError(message) {\n    var _console3;\n    if (this.config.debug < 1) {\n      return;\n    }\n    var _fun = this.config.debug >= 2 ? \"trace\" : \"error\";\n    for (var _len3 = arguments.length, optionalParams = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      optionalParams[_key3 - 1] = arguments[_key3];\n    }\n    (_console3 = console)[_fun].apply(_console3, [XGTAG, STYLE.error, message].concat(optionalParams));\n  }\n};\nfunction bindDebug(player) {\n  player.logInfo = XG_DEBUG.logInfo.bind(player);\n  player.logWarn = XG_DEBUG.logWarn.bind(player);\n  player.logError = XG_DEBUG.logError.bind(player);\n}\nexport { bindDebug, XG_DEBUG as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar XgplayerTimeRange = /* @__PURE__ */ function() {\n  function XgplayerTimeRange2(bufferedList) {\n    _classCallCheck(this, XgplayerTimeRange2);\n    this.bufferedList = bufferedList;\n  }\n  _createClass(XgplayerTimeRange2, [{\n    key: \"start\",\n    value: function start(index) {\n      return this.bufferedList[index].start;\n    }\n  }, {\n    key: \"end\",\n    value: function end(index) {\n      return this.bufferedList[index].end;\n    }\n  }, {\n    key: \"length\",\n    get: function get() {\n      return this.bufferedList.length;\n    }\n  }]);\n  return XgplayerTimeRange2;\n}();\nexport { XgplayerTimeRange as default };\n","import { typeof as _typeof, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport XG_DEBUG from \"./debug.js\";\nimport XgplayerTimeRange from \"./xgplayerTimeRange.js\";\nvar util = {};\nutil.createDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"div\";\n  var tpl = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var attrs = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n  var cname = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : \"\";\n  var dom = document.createElement(el);\n  dom.className = cname;\n  dom.innerHTML = tpl;\n  Object.keys(attrs).forEach(function(item) {\n    var key = item;\n    var value = attrs[item];\n    if (el === \"video\" || el === \"audio\" || el === \"live-video\") {\n      if (value) {\n        dom.setAttribute(key, value);\n      }\n    } else {\n      dom.setAttribute(key, value);\n    }\n  });\n  return dom;\n};\nutil.createDomFromHtml = function(html) {\n  var attrs = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  try {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = html;\n    var dom = doc.children;\n    doc = null;\n    if (dom.length > 0) {\n      dom = dom[0];\n      classname && util.addClass(dom, classname);\n      if (attrs) {\n        Object.keys(attrs).forEach(function(key) {\n          dom.setAttribute(key, attrs[key]);\n        });\n      }\n      return dom;\n    }\n    return null;\n  } catch (err) {\n    XG_DEBUG.logError(\"util.createDomFromHtml\", err);\n    return null;\n  }\n};\nutil.hasClass = function(el, className) {\n  if (!el || !className) {\n    return false;\n  }\n  try {\n    return Array.prototype.some.call(el.classList, function(item) {\n      return item === className;\n    });\n  } catch (e) {\n    var orgClassName = el.className && _typeof(el.className) === \"object\" ? el.getAttribute(\"class\") : el.className;\n    return orgClassName && !!orgClassName.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"));\n  }\n};\nutil.addClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.add(item);\n    });\n  } catch (e) {\n    if (!util.hasClass(el, className)) {\n      if (el.className && _typeof(el.className) === \"object\") {\n        el.setAttribute(\"class\", el.getAttribute(\"class\") + \" \" + className);\n      } else {\n        el.className += \" \" + className;\n      }\n    }\n  }\n};\nutil.removeClass = function(el, className) {\n  if (!el || !className) {\n    return;\n  }\n  try {\n    className.replace(/(^\\s+|\\s+$)/g, \"\").split(/\\s+/g).forEach(function(item) {\n      item && el.classList.remove(item);\n    });\n  } catch (e) {\n    if (util.hasClass(el, className)) {\n      className.split(/\\s+/g).forEach(function(item) {\n        var reg = new RegExp(\"(\\\\s|^)\" + item + \"(\\\\s|$)\");\n        if (el.className && _typeof(el.className) === \"object\") {\n          el.setAttribute(\"class\", el.getAttribute(\"class\").replace(reg, \" \"));\n        } else {\n          el.className = el.className.replace(reg, \" \");\n        }\n      });\n    }\n  }\n};\nutil.toggleClass = function(el, className) {\n  if (!el) {\n    return;\n  }\n  className.split(/\\s+/g).forEach(function(item) {\n    if (util.hasClass(el, item)) {\n      util.removeClass(el, item);\n    } else {\n      util.addClass(el, item);\n    }\n  });\n};\nutil.classNames = function() {\n  var _arguments = arguments;\n  var classname = [];\n  var _loop = function _loop2(i2) {\n    if (util.typeOf(_arguments[i2]) === \"String\") {\n      classname.push(_arguments[i2]);\n    } else if (util.typeOf(_arguments[i2]) === \"Object\") {\n      Object.keys(_arguments[i2]).map(function(key) {\n        if (_arguments[i2][key]) {\n          classname.push(key);\n        }\n      });\n    }\n  };\n  for (var i = 0; i < arguments.length; i++) {\n    _loop(i);\n  }\n  return classname.join(\" \");\n};\nutil.findDom = function() {\n  var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : document;\n  var sel = arguments.length > 1 ? arguments[1] : void 0;\n  var dom;\n  try {\n    dom = el.querySelector(sel);\n  } catch (e) {\n    XG_DEBUG.logError(\"util.findDom\", e);\n    if (sel.indexOf(\"#\") === 0) {\n      dom = el.getElementById(sel.slice(1));\n    }\n  }\n  return dom;\n};\nutil.getCss = function(dom, key) {\n  return dom.currentStyle ? dom.currentStyle[key] : document.defaultView.getComputedStyle(dom, false)[key];\n};\nutil.padStart = function(str, length, pad) {\n  var charstr = String(pad);\n  var len = length >> 0;\n  var maxlen = Math.ceil(len / charstr.length);\n  var chars = [];\n  var r = String(str);\n  while (maxlen--) {\n    chars.push(charstr);\n  }\n  return chars.join(\"\").substring(0, len - r.length) + r;\n};\nutil.format = function(time) {\n  if (window.isNaN(time)) {\n    return \"\";\n  }\n  time = Math.round(time);\n  var hour = util.padStart(Math.floor(time / 3600), 2, 0);\n  var minute = util.padStart(Math.floor((time - hour * 3600) / 60), 2, 0);\n  var second = util.padStart(Math.floor(time - hour * 3600 - minute * 60), 2, 0);\n  return (hour === \"00\" ? [minute, second] : [hour, minute, second]).join(\":\");\n};\nutil.event = function(e) {\n  if (e.touches) {\n    var touch = e.touches[0] || e.changedTouches[0];\n    e.clientX = touch.clientX || 0;\n    e.clientY = touch.clientY || 0;\n    e.offsetX = touch.pageX - touch.target.offsetLeft;\n    e.offsetY = touch.pageY - touch.target.offsetTop;\n  }\n  e._target = e.target || e.srcElement;\n};\nutil.typeOf = function(obj) {\n  return Object.prototype.toString.call(obj).match(/([^\\s.*]+)(?=]$)/g)[0];\n};\nutil.deepCopy = function(dst, src) {\n  if (util.typeOf(src) === \"Object\" && util.typeOf(dst) === \"Object\") {\n    Object.keys(src).forEach(function(key) {\n      if (util.typeOf(src[key]) === \"Object\" && !(src[key] instanceof Node)) {\n        if (dst[key] === void 0 || dst[key] === void 0) {\n          dst[key] = src[key];\n        } else {\n          util.deepCopy(dst[key], src[key]);\n        }\n      } else if (util.typeOf(src[key]) === \"Array\") {\n        dst[key] = util.typeOf(dst[key]) === \"Array\" ? dst[key].concat(src[key]) : src[key];\n      } else {\n        dst[key] = src[key];\n      }\n    });\n    return dst;\n  }\n};\nutil.deepMerge = function(dst, src) {\n  Object.keys(src).map(function(key) {\n    if (util.typeOf(src[key]) === \"Array\" && util.typeOf(dst[key]) === \"Array\") {\n      if (util.typeOf(dst[key]) === \"Array\") {\n        var _dst$key;\n        (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n      }\n    } else if (util.typeOf(dst[key]) === util.typeOf(src[key]) && dst[key] !== null && util.typeOf(dst[key]) === \"Object\" && !(src[key] instanceof window.Node)) {\n      util.deepMerge(dst[key], src[key]);\n    } else {\n      src[key] !== null && (dst[key] = src[key]);\n    }\n  });\n  return dst;\n};\nutil.getBgImage = function(el) {\n  var url = (el.currentStyle || window.getComputedStyle(el, null)).backgroundImage;\n  if (!url || url === \"none\") {\n    return \"\";\n  }\n  var a = document.createElement(\"a\");\n  a.href = url.replace(/url\\(\"|\"\\)/g, \"\");\n  return a.href;\n};\nutil.copyDom = function(dom) {\n  if (dom && dom.nodeType === 1) {\n    var back = document.createElement(dom.tagName);\n    Array.prototype.forEach.call(dom.attributes, function(node) {\n      back.setAttribute(node.name, node.value);\n    });\n    if (dom.innerHTML) {\n      back.innerHTML = dom.innerHTML;\n    }\n    return back;\n  } else {\n    return \"\";\n  }\n};\nutil.setInterval = function(context, eventName, intervalFunc, frequency) {\n  if (!context._interval[eventName]) {\n    context._interval[eventName] = window.setInterval(intervalFunc.bind(context), frequency);\n  }\n};\nutil.clearInterval = function(context, eventName) {\n  clearInterval(context._interval[eventName]);\n  context._interval[eventName] = null;\n};\nutil.setTimeout = function(context, fun, time) {\n  if (!context._timers) {\n    context._timers = [];\n  }\n  var id = setTimeout(function() {\n    fun();\n    util.clearTimeout(context, id);\n  }, time);\n  context._timers.push(id);\n  return id;\n};\nutil.clearTimeout = function(context, id) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    for (var i = 0; i < _timers.length; i++) {\n      if (_timers[i] === id) {\n        _timers.splice(i, 1);\n        clearTimeout(id);\n        break;\n      }\n    }\n  } else {\n    clearTimeout(id);\n  }\n};\nutil.clearAllTimers = function(context) {\n  var _timers = context._timers;\n  if (util.typeOf(_timers) === \"Array\") {\n    _timers.map(function(item) {\n      clearTimeout(item);\n    });\n    context._timerIds = [];\n  }\n};\nutil.createImgBtn = function(name, imgUrl, width, height) {\n  var btn = util.createDom(\"xg-\".concat(name), \"\", {}, \"xgplayer-\".concat(name, \"-img\"));\n  btn.style.backgroundImage = 'url(\"'.concat(imgUrl, '\")');\n  if (width && height) {\n    var w, h, unit;\n    [\"px\", \"rem\", \"em\", \"pt\", \"dp\", \"vw\", \"vh\", \"vm\", \"%\"].every(function(item) {\n      if (width.indexOf(item) > -1 && height.indexOf(item) > -1) {\n        w = parseFloat(width.slice(0, width.indexOf(item)).trim());\n        h = parseFloat(height.slice(0, height.indexOf(item)).trim());\n        unit = item;\n        return false;\n      } else {\n        return true;\n      }\n    });\n    btn.style.width = \"\".concat(w).concat(unit);\n    btn.style.height = \"\".concat(h).concat(unit);\n    btn.style.backgroundSize = \"\".concat(w).concat(unit, \" \").concat(h).concat(unit);\n    if (name === \"start\") {\n      btn.style.margin = \"-\".concat(h / 2).concat(unit, \" auto auto -\").concat(w / 2).concat(unit);\n    } else {\n      btn.style.margin = \"auto 5px auto 5px\";\n    }\n  }\n  return btn;\n};\nutil.Hex2RGBA = function(hex, alpha) {\n  var rgb = [];\n  if (/^\\#[0-9A-F]{3}$/i.test(hex)) {\n    var sixHex = \"#\";\n    hex.replace(/[0-9A-F]/ig, function(kw) {\n      sixHex += kw + kw;\n    });\n    hex = sixHex;\n  }\n  if (/^#[0-9A-F]{6}$/i.test(hex)) {\n    hex.replace(/[0-9A-F]{2}/ig, function(kw) {\n      rgb.push(parseInt(kw, 16));\n    });\n    return \"rgba(\".concat(rgb.join(\",\"), \", \").concat(alpha, \")\");\n  } else {\n    return \"rgba(255, 255, 255, 0.1)\";\n  }\n};\nutil.getFullScreenEl = function() {\n  return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;\n};\nutil.checkIsFunction = function(fun) {\n  return fun && typeof fun === \"function\";\n};\nutil.checkIsObject = function(obj) {\n  return obj !== null && _typeof(obj) === \"object\";\n};\nutil.hide = function(dom) {\n  dom.style.display = \"none\";\n};\nutil.show = function(dom, display) {\n  dom.style.display = display || \"block\";\n};\nutil.isUndefined = function(val) {\n  if (typeof val === \"undefined\" || val === null) {\n    return true;\n  }\n};\nutil.isNotNull = function(val) {\n  return !(val === void 0 || val === null);\n};\nutil.setStyleFromCsstext = function(dom, text) {\n  if (!text) {\n    return;\n  }\n  if (util.typeOf(text) === \"String\") {\n    var styleArr = text.replace(/\\s+/g, \"\").split(\";\");\n    styleArr.map(function(item) {\n      if (item) {\n        var arr = item.split(\":\");\n        if (arr.length > 1) {\n          dom.style[arr[0]] = arr[1];\n        }\n      }\n    });\n  } else {\n    Object.keys(text).map(function(key) {\n      dom.style[key] = text[key];\n    });\n  }\n};\nfunction checkIsIn(key, list) {\n  for (var i = 0, len = list.length; i < len; i++) {\n    if (key.indexOf(list[i]) > -1) {\n      return true;\n    }\n  }\n  return false;\n}\nutil.filterStyleFromText = function(dom) {\n  var list = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [\"width\", \"height\", \"top\", \"left\", \"bottom\", \"right\", \"position\", \"z-index\", \"padding\", \"margin\", \"transform\"];\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  var remain = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        if (checkIsIn(arr[0], list)) {\n          ret[arr[0]] = arr[1];\n        } else {\n          remain[arr[0]] = arr[1];\n        }\n      }\n    }\n  });\n  dom.setAttribute(\"style\", \"\");\n  Object.keys(remain).map(function(key) {\n    dom.style[key] = remain[key];\n  });\n  return ret;\n};\nutil.getStyleFromCsstext = function(dom) {\n  var _cssText = dom.style.cssText;\n  if (!_cssText) {\n    return {};\n  }\n  var styleArr = _cssText.replace(/\\s+/g, \"\").split(\";\");\n  var ret = {};\n  styleArr.map(function(item) {\n    if (item) {\n      var arr = item.split(\":\");\n      if (arr.length > 1) {\n        ret[arr[0]] = arr[1];\n      }\n    }\n  });\n  return ret;\n};\nutil.preloadImg = function(url) {\n  var onload = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : function() {\n  };\n  var onerror = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n  };\n  if (!url) {\n    return;\n  }\n  var img = new window.Image();\n  img.onload = function(e) {\n    img = null;\n    onload && onload(e);\n  };\n  img.onerror = function(e) {\n    img = null;\n    onerror && onerror(e);\n  };\n  img.src = url;\n};\nutil.stopPropagation = function(e) {\n  if (e) {\n    e.stopPropagation();\n  }\n};\nutil.scrollTop = function() {\n  return window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n};\nutil.scrollLeft = function() {\n  return window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0;\n};\nutil.checkTouchSupport = function() {\n  return \"ontouchstart\" in window;\n};\nutil.getBuffered2 = function(vbuffered) {\n  var maxHoleDuration = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0.5;\n  var buffered = [];\n  for (var i = 0; i < vbuffered.length; i++) {\n    buffered.push({\n      start: vbuffered.start(i) < 0.5 ? 0 : vbuffered.start(i),\n      end: vbuffered.end(i)\n    });\n  }\n  buffered.sort(function(a, b) {\n    var diff = a.start - b.start;\n    if (diff) {\n      return diff;\n    } else {\n      return b.end - a.end;\n    }\n  });\n  var buffered2 = [];\n  if (maxHoleDuration) {\n    for (var _i = 0; _i < buffered.length; _i++) {\n      var buf2len = buffered2.length;\n      if (buf2len) {\n        var buf2end = buffered2[buf2len - 1].end;\n        if (buffered[_i].start - buf2end < maxHoleDuration) {\n          if (buffered[_i].end > buf2end) {\n            buffered2[buf2len - 1].end = buffered[_i].end;\n          }\n        } else {\n          buffered2.push(buffered[_i]);\n        }\n      } else {\n        buffered2.push(buffered[_i]);\n      }\n    }\n  } else {\n    buffered2 = buffered;\n  }\n  return new XgplayerTimeRange(buffered2);\n};\nutil.getEventPos = function(e) {\n  var zoom = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;\n  if (e.touches && e.touches.length > 0) {\n    e = e.touches[0];\n  }\n  return {\n    x: e.x / zoom,\n    y: e.y / zoom,\n    clientX: e.clientX / zoom,\n    clientY: e.clientY / zoom,\n    offsetX: e.offsetX / zoom,\n    offsetY: e.offsetY / zoom,\n    pageX: e.pageX / zoom,\n    pageY: e.pageY / zoom\n  };\n};\nutil.requestAnimationFrame = function(callback) {\n  var _fun = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  if (_fun) {\n    return _fun(callback);\n  }\n};\nutil.getHostFromUrl = function(url) {\n  if (util.typeOf(url) !== \"String\") {\n    return \"\";\n  }\n  var results = url.split(\"/\");\n  var domain = \"\";\n  if (results.length > 3 && results[2]) {\n    domain = results[2];\n  }\n  return domain;\n};\nutil.cancelAnimationFrame = function(frameId) {\n  var _fun = window.cancelAnimationFrame || window.mozCancelAnimationFrame || window.cancelRequestAnimationFrame;\n  _fun && _fun(frameId);\n};\nutil.isMSE = function(video) {\n  if (video.media) {\n    video = video.media;\n  }\n  if (!video || !(video instanceof HTMLMediaElement)) {\n    return false;\n  }\n  return /^blob/.test(video.currentSrc) || /^blob/.test(video.src);\n};\nutil.isBlob = function(url) {\n  return typeof url === \"string\" && /^blob/.test(url);\n};\nutil.generateSessionId = function() {\n  var did = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n  var d = new Date().getTime();\n  try {\n    did = parseInt(did);\n  } catch (e) {\n    did = 0;\n  }\n  d += did;\n  if (window.performance && typeof window.performance.now === \"function\") {\n    d += parseInt(window.performance.now());\n  }\n  var uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : r & 3 | 8).toString(16);\n  });\n  return uuid;\n};\nutil.createEvent = function(eventName) {\n  var event;\n  if (typeof window.Event === \"function\") {\n    event = new Event(eventName);\n  } else {\n    event = document.createEvent(\"Event\");\n    event.initEvent(eventName, true, true);\n  }\n  return event;\n};\nutil.adjustTimeByDuration = function(time, duration, isEnded) {\n  if (!duration || !time) {\n    return time;\n  }\n  if (time > duration || isEnded && time < duration) {\n    return duration;\n  }\n  return time;\n};\nutil.createPositionBar = function(className, root) {\n  var dom = util.createDom(\"xg-bar\", \"\", {\n    \"data-index\": -1\n  }, className);\n  root.appendChild(dom);\n  return dom;\n};\nutil.getTransformStyle = function() {\n  var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n    x: 0,\n    y: 0,\n    scale: 1,\n    rotate: 0\n  };\n  var transformValue = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n  var styles = {\n    scale: \"\".concat(pos.scale || 1),\n    translate: \"\".concat(pos.x || 0, \"%, \").concat(pos.y || 0, \"%\"),\n    rotate: \"\".concat(pos.rotate || 0, \"deg\")\n  };\n  var stylesKeys = Object.keys(styles);\n  stylesKeys.forEach(function(key) {\n    var reg = new RegExp(\"\".concat(key, \"\\\\([^\\\\(]+\\\\)\"), \"g\");\n    var fn = \"\".concat(key, \"(\").concat(styles[key], \")\");\n    if (reg.test(transformValue)) {\n      reg.lastIndex = -1;\n      transformValue = transformValue.replace(reg, fn);\n    } else {\n      transformValue += \"\".concat(fn, \" \");\n    }\n  });\n  return transformValue;\n};\nutil.convertDeg = function(val) {\n  if (Math.abs(val) <= 1) {\n    return val * 360;\n  }\n  return val % 360;\n};\nutil.getIndexByTime = function(time, segments) {\n  var _len = segments.length;\n  var _index = -1;\n  if (_len < 1) {\n    return _index;\n  }\n  if (time <= segments[0].end || _len < 2) {\n    _index = 0;\n  } else if (time > segments[_len - 1].end) {\n    _index = _len - 1;\n  } else {\n    for (var i = 1; i < _len; i++) {\n      if (time > segments[i - 1].end && time <= segments[i].end) {\n        _index = i;\n        break;\n      }\n    }\n  }\n  return _index;\n};\nutil.getOffsetCurrentTime = function(currentTime, segments) {\n  var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : -1;\n  var _index = -1;\n  if (index >= 0 && index < segments.length) {\n    _index = index;\n  } else {\n    _index = util.getIndexByTime(currentTime, segments);\n  }\n  if (_index < 0) {\n    return -1;\n  }\n  var _len = segments.length;\n  var _segments$_index = segments[_index], start = _segments$_index.start, end = _segments$_index.end, cTime = _segments$_index.cTime, offset = _segments$_index.offset;\n  if (currentTime < start) {\n    return cTime;\n  } else if (currentTime >= start && currentTime <= end) {\n    return currentTime - offset;\n  } else if (currentTime > end && _index >= _len - 1) {\n    return end;\n  }\n  return -1;\n};\nutil.getCurrentTimeByOffset = function(offsetTime, segments) {\n  var _index = -1;\n  if (!segments || segments.length < 0) {\n    return offsetTime;\n  }\n  for (var i = 0; i < segments.length; i++) {\n    if (offsetTime <= segments[i].duration) {\n      _index = i;\n      break;\n    }\n  }\n  if (_index !== -1) {\n    var start = segments[_index].start;\n    if (_index - 1 < 0) {\n      return start + offsetTime;\n    } else {\n      return start + (offsetTime - segments[_index - 1].duration);\n    }\n  }\n  return offsetTime;\n};\nfunction isObject(value) {\n  var type = _typeof(value);\n  return value !== null && (type === \"object\" || type === \"function\");\n}\nfunction debounce(func, wait, options) {\n  var lastArgs, lastThis, maxWait, result, timerId, lastCallTime;\n  var lastInvokeTime = 0;\n  var leading = false;\n  var maxing = false;\n  var trailing = true;\n  var useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  wait = +wait || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = \"maxWait\" in options;\n    maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  function invokeFunc(time) {\n    var args = lastArgs;\n    var thisArg = lastThis;\n    lastArgs = lastThis = void 0;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n  function startTimer(pendingFunc, wait2) {\n    if (useRAF) {\n      window.cancelAnimationFrame(timerId);\n      return window.requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait2);\n  }\n  function cancelTimer(id) {\n    if (useRAF) {\n      return window.cancelAnimationFrame(id);\n    }\n    clearTimeout(id);\n  }\n  function leadingEdge(time) {\n    lastInvokeTime = time;\n    timerId = startTimer(timerExpired, wait);\n    return leading ? invokeFunc(time) : result;\n  }\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    var timeWaiting = wait - timeSinceLastCall;\n    return maxing ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke) : timeWaiting;\n  }\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime;\n    var timeSinceLastInvoke = time - lastInvokeTime;\n    return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n  function timerExpired() {\n    var time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n  function trailingEdge(time) {\n    timerId = void 0;\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = void 0;\n    return result;\n  }\n  function cancel() {\n    if (timerId !== void 0) {\n      cancelTimer(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = void 0;\n  }\n  function flush() {\n    return timerId === void 0 ? result : trailingEdge(Date.now());\n  }\n  function pending() {\n    return timerId !== void 0;\n  }\n  function debounced() {\n    var time = Date.now();\n    var isInvoking = shouldInvoke(time);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    lastArgs = args;\n    lastThis = this;\n    lastCallTime = time;\n    if (isInvoking) {\n      if (timerId === void 0) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        timerId = startTimer(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === void 0) {\n      timerId = startTimer(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  debounced.pending = pending;\n  return debounced;\n}\nfunction throttle(func, wait, options) {\n  var leading = true;\n  var trailing = true;\n  if (typeof func !== \"function\") {\n    throw new TypeError(\"Expected a function\");\n  }\n  if (isObject(options)) {\n    leading = \"leading\" in options ? !!options.leading : leading;\n    trailing = \"trailing\" in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    maxWait: wait\n  });\n}\nfunction getLang() {\n  var lang = (document.documentElement.getAttribute(\"lang\") || navigator.language || \"zh-cn\").toLocaleLowerCase();\n  if (lang === \"zh-cn\") {\n    lang = \"zh\";\n  }\n  return lang;\n}\nfunction checkIsCurrentVideo(element, playerId, key) {\n  if (!element) {\n    return;\n  }\n  var pid = element.getAttribute(key);\n  if (pid && pid === playerId && (element.tagName === \"VIDEO\" || element.tagName === \"AUDIO\")) {\n    return true;\n  }\n  return false;\n}\nexport { checkIsCurrentVideo, debounce, util as default, getLang, throttle };\n","var VERSION_REG = {\n  android: /(Android)\\s([\\d.]+)/,\n  ios: /(Version)\\/([\\d.]+)/\n};\nvar H264_MIMETYPES = [\"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"avc1.42E01E\", \"mp4v.20.8\", \"avc1.42E01E, mp4a.40.2\", \"avc1.58A01E, mp4a.40.2\", \"avc1.4D401E, mp4a.40.2\", \"avc1.64001E, mp4a.40.2\", \"mp4v.20.8, mp4a.40.2\", \"mp4v.20.240, mp4a.40.2\"];\nvar sniffer = {\n  get device() {\n    var r = sniffer.os;\n    return r.isPc ? \"pc\" : \"mobile\";\n  },\n  get browser() {\n    if (typeof navigator === \"undefined\") {\n      return \"\";\n    }\n    var ua = navigator.userAgent.toLowerCase();\n    var reg = {\n      ie: /rv:([\\d.]+)\\) like gecko/,\n      firefox: /firefox\\/([\\d.]+)/,\n      chrome: /chrome\\/([\\d.]+)/,\n      opera: /opera.([\\d.]+)/,\n      safari: /version\\/([\\d.]+).*safari/\n    };\n    return [].concat(Object.keys(reg).filter(function(key) {\n      return reg[key].test(ua);\n    }))[0];\n  },\n  get os() {\n    if (typeof navigator === \"undefined\") {\n      return {};\n    }\n    var ua = navigator.userAgent;\n    var isWindowsPhone = /(?:Windows Phone)/.test(ua);\n    var isSymbian = /(?:SymbianOS)/.test(ua) || isWindowsPhone;\n    var isAndroid = /(?:Android)/.test(ua);\n    var isFireFox = /(?:Firefox)/.test(ua);\n    var isIpad = /(?:iPad|PlayBook)/.test(ua) || navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1;\n    var isTablet = isIpad || isAndroid && !/(?:Mobile)/.test(ua) || isFireFox && /(?:Tablet)/.test(ua);\n    var isPhone = /(?:iPhone)/.test(ua) && !isTablet;\n    var isPc = !isPhone && !isAndroid && !isSymbian && !isTablet;\n    return {\n      isTablet,\n      isPhone,\n      isIpad,\n      isIos: isPhone || isIpad,\n      isAndroid,\n      isPc,\n      isSymbian,\n      isWindowsPhone,\n      isFireFox\n    };\n  },\n  get osVersion() {\n    if (typeof navigator === \"undefined\") {\n      return 0;\n    }\n    var ua = navigator.userAgent;\n    var reg = \"\";\n    if (/(?:iPhone)|(?:iPad|PlayBook)/.test(ua)) {\n      reg = VERSION_REG.ios;\n    } else {\n      reg = VERSION_REG.android;\n    }\n    var _match = reg ? reg.exec(ua) : [];\n    if (_match && _match.length >= 3) {\n      var version = _match[2].split(\".\");\n      return version.length > 0 ? parseInt(version[0]) : 0;\n    }\n    return 0;\n  },\n  get isWeixin() {\n    if (typeof navigator === \"undefined\") {\n      return false;\n    }\n    var reg = /(micromessenger)\\/([\\d.]+)/;\n    var match = reg.exec(navigator.userAgent.toLocaleLowerCase());\n    if (match) {\n      return true;\n    }\n    return false;\n  },\n  isSupportMP4: function isSupportMP4() {\n    var result = {\n      isSupport: false,\n      mime: \"\"\n    };\n    if (typeof document === \"undefined\") {\n      return result;\n    }\n    if (this.supportResult) {\n      return this.supportResult;\n    }\n    var a = document.createElement(\"video\");\n    if (typeof a.canPlayType === \"function\") {\n      H264_MIMETYPES.map(function(key) {\n        if (a.canPlayType('video/mp4; codecs=\"'.concat(key, '\"')) === \"probably\") {\n          result.isSupport = true;\n          result.mime += \"||\".concat(key);\n        }\n      });\n    }\n    this.supportResult = result;\n    a = null;\n    return result;\n  },\n  isMSESupport: function isMSESupport() {\n    var mime = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 'video/mp4; codecs=\"avc1.42E01E,mp4a.40.2\"';\n    if (typeof MediaSource === \"undefined\" || !MediaSource)\n      return false;\n    try {\n      return MediaSource.isTypeSupported(mime);\n    } catch (error) {\n      this._logger.error(mime, error);\n      return false;\n    }\n  },\n  isHevcSupported: function isHevcSupported() {\n    if (typeof MediaSource === \"undefined\" || !MediaSource.isTypeSupported) {\n      return false;\n    }\n    return MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.1.6.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.2.4.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.3.E.L120.90\"') || MediaSource.isTypeSupported('video/mp4;codecs=\"hev1.4.10.L120.90\"');\n  },\n  probeConfigSupported: function probeConfigSupported(info) {\n    var defaults = {\n      supported: false,\n      smooth: false,\n      powerEfficient: false\n    };\n    if (!info || typeof navigator === \"undefined\") {\n      return Promise.resolve(defaults);\n    }\n    if (navigator.mediaCapabilities && navigator.mediaCapabilities.decodingInfo) {\n      return navigator.mediaCapabilities.decodingInfo(info);\n    } else {\n      var videoConfig = info.video || {};\n      var audioConfig = info.audio || {};\n      try {\n        var videoSupported = MediaSource.isTypeSupported(videoConfig.contentType);\n        var audioSupported = MediaSource.isTypeSupported(audioConfig.contentType);\n        return Promise.resolve({\n          supported: videoSupported && audioSupported,\n          smooth: false,\n          powerEfficient: false\n        });\n      } catch (e) {\n        return Promise.resolve(defaults);\n      }\n    }\n  }\n};\nexport { sniffer as default };\n","var version = \"3.0.17\";\nexport { version as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport version from \"./version.js\";\nimport util from \"./utils/util.js\";\nvar ERROR_TYPE_MAP = {\n  1: \"media\",\n  2: \"media\",\n  3: \"media\",\n  4: \"media\",\n  5: \"media\",\n  6: \"media\"\n};\nvar ERROR_MAP = {\n  1: 5101,\n  2: 5102,\n  3: 5103,\n  4: 5104,\n  5: 5105,\n  6: 5106\n};\nvar Errors = /* @__PURE__ */ _createClass(\n  function Errors2(player) {\n    var errorInfo = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      errorType: \"\",\n      errorCode: 0,\n      errorMessage: \"\",\n      originError: \"\",\n      ext: {},\n      mediaError: null\n    };\n    _classCallCheck(this, Errors2);\n    var ERROR_TYPES = player && player.i18n ? player.i18n.ERROR_TYPES : null;\n    if (player.media) {\n      var mediaError = errorInfo.mediaError ? errorInfo.mediaError : player.media.error || {};\n      var duration = player.duration, currentTime = player.currentTime, ended = player.ended, src = player.src, currentSrc = player.currentSrc;\n      var _player$media = player.media, readyState = _player$media.readyState, networkState = _player$media.networkState;\n      var _errc = errorInfo.errorCode || mediaError.code;\n      if (ERROR_MAP[_errc]) {\n        _errc = ERROR_MAP[_errc];\n      }\n      var r = {\n        playerVersion: version,\n        currentTime,\n        duration,\n        ended,\n        readyState,\n        networkState,\n        src: src || currentSrc,\n        errorType: errorInfo.errorType,\n        errorCode: _errc,\n        message: errorInfo.errorMessage || mediaError.message,\n        mediaError,\n        originError: errorInfo.originError ? errorInfo.originError.stack : \"\",\n        host: util.getHostFromUrl(src || currentSrc)\n      };\n      errorInfo.ext && Object.keys(errorInfo.ext).map(function(key) {\n        r[key] = errorInfo.ext[key];\n      });\n      return r;\n    } else {\n      if (arguments.length > 1) {\n        var _r = {\n          playerVersion: version,\n          domain: document.domain\n        };\n        var arr = [\"errorType\", \"currentTime\", \"duration\", \"networkState\", \"readyState\", \"src\", \"currentSrc\", \"ended\", \"errd\", \"errorCode\", \"mediaError\"];\n        for (var i = 0; i < arguments.length; i++) {\n          _r[arr[i]] = arguments[i];\n        }\n        _r.ex = ERROR_TYPES ? (ERROR_TYPES[arguments[0]] || {}).msg : \"\";\n        return _r;\n      }\n    }\n  }\n);\nexport { ERROR_TYPE_MAP, Errors as default };\n","var PLAY = \"play\";\nvar PLAYING = \"playing\";\nvar ENDED = \"ended\";\nvar PAUSE = \"pause\";\nvar ERROR = \"error\";\nvar SEEKING = \"seeking\";\nvar SEEKED = \"seeked\";\nvar TIME_UPDATE = \"timeupdate\";\nvar WAITING = \"waiting\";\nvar CANPLAY = \"canplay\";\nvar CANPLAY_THROUGH = \"canplaythrough\";\nvar DURATION_CHANGE = \"durationchange\";\nvar VOLUME_CHANGE = \"volumechange\";\nvar LOADED_DATA = \"loadeddata\";\nvar LOADED_METADATA = \"loadedmetadata\";\nvar RATE_CHANGE = \"ratechange\";\nvar PROGRESS = \"progress\";\nvar LOAD_START = \"loadstart\";\nvar EMPTIED = \"emptied\";\nvar STALLED = \"stalled\";\nvar SUSPEND = \"suspend\";\nvar ABORT = \"abort\";\nvar BUFFER_CHANGE = \"bufferedChange\";\nvar PLAYER_FOCUS = \"focus\";\nvar PLAYER_BLUR = \"blur\";\nvar READY = \"ready\";\nvar URL_NULL = \"urlNull\";\nvar AUTOPLAY_STARTED = \"autoplay_started\";\nvar AUTOPLAY_PREVENTED = \"autoplay_was_prevented\";\nvar COMPLETE = \"complete\";\nvar REPLAY = \"replay\";\nvar DESTROY = \"destroy\";\nvar URL_CHANGE = \"urlchange\";\nvar DOWNLOAD_SPEED_CHANGE = \"download_speed_change\";\nvar LEAVE_PLAYER = \"leaveplayer\";\nvar ENTER_PLAYER = \"enterplayer\";\nvar LOADING = \"loading\";\nvar FULLSCREEN_CHANGE = \"fullscreen_change\";\nvar CSS_FULLSCREEN_CHANGE = \"cssFullscreen_change\";\nvar MINI_STATE_CHANGE = \"mini_state_change\";\nvar DEFINITION_CHANGE = \"definition_change\";\nvar BEFORE_DEFINITION_CHANGE = \"before_definition_change\";\nvar AFTER_DEFINITION_CHANGE = \"after_definition_change\";\nvar SEI_PARSED = \"SEI_PARSED\";\nvar RETRY = \"retry\";\nvar VIDEO_RESIZE = \"video_resize\";\nvar PIP_CHANGE = \"pip_change\";\nvar ROTATE = \"rotate\";\nvar SCREEN_SHOT = \"screenShot\";\nvar PLAYNEXT = \"playnext\";\nvar SHORTCUT = \"shortcut\";\nvar XGLOG = \"xglog\";\nvar USER_ACTION = \"user_action\";\nvar RESET = \"reset\";\nvar SOURCE_ERROR = \"source_error\";\nvar SOURCE_SUCCESS = \"source_success\";\nvar SWITCH_SUBTITLE = \"switch_subtitle\";\nvar VIDEO_EVENTS = [\"play\", \"playing\", \"ended\", \"pause\", \"error\", \"seeking\", \"seeked\", \"timeupdate\", \"waiting\", \"canplay\", \"canplaythrough\", \"durationchange\", \"volumechange\", \"loadeddata\", \"loadedmetadata\", \"ratechange\", \"progress\", \"loadstart\", \"emptied\", \"stalled\", \"suspend\", \"abort\", \"lowdecode\"];\nvar STATS_EVENTS = {\n  STATS_INFO: \"stats_info\",\n  STATS_DOWNLOAD: \"stats_download\",\n  STATS_RESET: \"stats_reset\"\n};\nvar FPS_STUCK = \"fps_stuck\";\nexport { ABORT, AFTER_DEFINITION_CHANGE, AUTOPLAY_PREVENTED, AUTOPLAY_STARTED, BEFORE_DEFINITION_CHANGE, BUFFER_CHANGE, CANPLAY, CANPLAY_THROUGH, COMPLETE, CSS_FULLSCREEN_CHANGE, DEFINITION_CHANGE, DESTROY, DOWNLOAD_SPEED_CHANGE, DURATION_CHANGE, EMPTIED, ENDED, ENTER_PLAYER, ERROR, FPS_STUCK, FULLSCREEN_CHANGE, LEAVE_PLAYER, LOADED_DATA, LOADED_METADATA, LOADING, LOAD_START, MINI_STATE_CHANGE, PAUSE, PIP_CHANGE, PLAY, PLAYER_BLUR, PLAYER_FOCUS, PLAYING, PLAYNEXT, PROGRESS, RATE_CHANGE, READY, REPLAY, RESET, RETRY, ROTATE, SCREEN_SHOT, SEEKED, SEEKING, SEI_PARSED, SHORTCUT, SOURCE_ERROR, SOURCE_SUCCESS, STALLED, STATS_EVENTS, SUSPEND, SWITCH_SUBTITLE, TIME_UPDATE, URL_CHANGE, URL_NULL, USER_ACTION, VIDEO_EVENTS, VIDEO_RESIZE, VOLUME_CHANGE, WAITING, XGLOG };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, defineProperty as _defineProperty, get as _get, getPrototypeOf as _getPrototypeOf } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nimport util from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport Errors, { ERROR_TYPE_MAP } from \"./error.js\";\nimport { VIDEO_EVENTS, SOURCE_SUCCESS, SOURCE_ERROR, URL_CHANGE, WAITING } from \"./events.js\";\nfunction emitVideoEvent(eventKey, e) {\n  if (!this || !this.emit) {\n    return;\n  }\n  if (eventKey === \"error\") {\n    this.errorHandler(eventKey, e.error);\n  } else {\n    this.emit(eventKey, e);\n  }\n}\nfunction getVideoEventHandler(eventKey, player) {\n  return function(e, _err) {\n    var eData = {\n      player,\n      eventName: eventKey,\n      originalEvent: e,\n      detail: e.detail || {},\n      timeStamp: e.timeStamp,\n      currentTime: player.currentTime,\n      duration: player.duration,\n      paused: player.paused,\n      ended: player.ended,\n      isInternalOp: !!player._internalOp[e.type],\n      muted: player.muted,\n      volume: player.volume,\n      host: util.getHostFromUrl(player.currentSrc),\n      vtype: player.vtype\n    };\n    player.removeInnerOP(e.type);\n    if (eventKey === \"timeupdate\") {\n      player._currentTime = player.media && player.media.currentTime;\n    }\n    if (eventKey === \"ratechange\") {\n      var _rate = player.media ? player.media.playbackRate : 0;\n      if (_rate && player._rate === _rate) {\n        return;\n      }\n      player._rate = player.media && player.media.playbackRate;\n    }\n    if (eventKey === \"durationchange\") {\n      player._duration = player.media.duration;\n    }\n    if (eventKey === \"volumechange\") {\n      eData.isMutedChange = player._lastMuted !== player.muted;\n      player._lastMuted = player.muted;\n    }\n    if (eventKey === \"error\") {\n      eData.error = _err || player.video.error;\n    }\n    if (player.mediaEventMiddleware[eventKey]) {\n      var callback = emitVideoEvent.bind(player, eventKey, eData);\n      try {\n        player.mediaEventMiddleware[eventKey].call(player, eData, callback);\n      } catch (err) {\n        emitVideoEvent.call(player, eventKey, eData);\n        throw err;\n      }\n    } else {\n      emitVideoEvent.call(player, eventKey, eData);\n    }\n  };\n}\nvar MediaProxy = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(MediaProxy2, _EventEmitter);\n  var _super = _createSuper(MediaProxy2);\n  function MediaProxy2(options) {\n    var _this;\n    _classCallCheck(this, MediaProxy2);\n    _this = _super.call(this, options);\n    _this._hasStart = false;\n    _this._currentTime = 0;\n    _this._duration = 0;\n    _this._internalOp = {};\n    _this._lastMuted = false;\n    _this.vtype = \"MP4\";\n    _this._rate = -1;\n    _this.mediaConfig = Object.assign({}, {\n      controls: false,\n      autoplay: options.autoplay,\n      playsinline: options.playsinline,\n      \"x5-playsinline\": options.playsinline,\n      \"webkit-playsinline\": options.playsinline,\n      \"x5-video-player-fullscreen\": options[\"x5-video-player-fullscreen\"] || options.x5VideoPlayerFullscreen,\n      \"x5-video-orientation\": options[\"x5-video-orientation\"] || options.x5VideoOrientation,\n      airplay: options.airplay,\n      \"webkit-airplay\": options.airplay,\n      tabindex: options.tabindex | 0,\n      mediaType: options.mediaType || \"video\",\n      \"data-index\": -1\n    }, options.videoConfig, options.videoAttributes);\n    var playerType = options[\"x5-video-player-type\"] || options.x5VideoPlayerType;\n    if (sniffer.isWeixin && sniffer.os.isAndroid && playerType) {\n      _this.mediaConfig[\"x5-video-player-type\"] = playerType;\n      delete _this.mediaConfig.playsinline;\n      delete _this.mediaConfig[\"webkit-playsinline\"];\n      delete _this.mediaConfig[\"x5-playsinline\"];\n    }\n    if (options.loop) {\n      _this.mediaConfig.loop = \"loop\";\n    }\n    if (options.autoplayMuted && !Object.prototype.hasOwnProperty.call(_this.mediaConfig, \"muted\")) {\n      _this.mediaConfig.muted = true;\n    }\n    _this.media = util.createDom(_this.mediaConfig.mediaType, \"\", _this.mediaConfig, \"\");\n    if (options.defaultPlaybackRate) {\n      _this.media.defaultPlaybackRate = _this.media.playbackRate = options.defaultPlaybackRate;\n    }\n    if (util.typeOf(options.volume) === \"Number\") {\n      _this.volume = options.volume;\n    }\n    if (options.autoplayMuted) {\n      _this.media.muted = true;\n      _this._lastMuted = true;\n    }\n    if (options.autoplay) {\n      _this.media.autoplay = true;\n    }\n    _this._interval = {};\n    _this.mediaEventMiddleware = {};\n    _this.attachVideoEvents();\n    return _this;\n  }\n  _createClass(MediaProxy2, [{\n    key: \"setEventsMiddleware\",\n    value: function setEventsMiddleware(middlewares) {\n      var _this2 = this;\n      Object.keys(middlewares).map(function(key) {\n        _this2.mediaEventMiddleware[key] = middlewares[key];\n      });\n    }\n  }, {\n    key: \"removeEventsMiddleware\",\n    value: function removeEventsMiddleware(middlewares) {\n      var _this3 = this;\n      Object.keys(middlewares).map(function(key) {\n        delete _this3.mediaEventMiddleware[key];\n      });\n    }\n  }, {\n    key: \"attachVideoEvents\",\n    value: function attachVideoEvents() {\n      var _this4 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      if (!this._evHandlers) {\n        this._evHandlers = VIDEO_EVENTS.map(function(eventKey) {\n          var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n          if (typeof _this4[funName] === \"function\") {\n            _this4.on(eventKey, _this4[funName]);\n          }\n          return _defineProperty({}, eventKey, getVideoEventHandler(eventKey, _this4));\n        });\n      }\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.addEventListener(eventKey, item[eventKey], false);\n      });\n    }\n  }, {\n    key: \"detachVideoEvents\",\n    value: function detachVideoEvents() {\n      var _this5 = this;\n      var media = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.media;\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        media.removeEventListener(eventKey, item[eventKey], false);\n      });\n      this._evHandlers.forEach(function(item) {\n        var eventKey = Object.keys(item)[0];\n        var funName = \"on\".concat(eventKey.charAt(0).toUpperCase()).concat(eventKey.slice(1));\n        if (typeof _this5[funName] === \"function\") {\n          _this5.off(eventKey, _this5[funName]);\n        }\n      });\n      this._evHandlers = null;\n    }\n  }, {\n    key: \"_attachSourceEvents\",\n    value: function _attachSourceEvents(video, urls) {\n      var _this6 = this;\n      video.removeAttribute(\"src\");\n      video.load();\n      urls.forEach(function(item, index) {\n        _this6.media.appendChild(util.createDom(\"source\", \"\", {\n          src: \"\".concat(item.src),\n          type: \"\".concat(item.type || \"\"),\n          \"data-index\": index + 1\n        }));\n      });\n      var _c = video.children;\n      if (!_c) {\n        return;\n      }\n      this._videoSourceCount = _c.length;\n      this._videoSourceIndex = _c.length;\n      this._vLoadeddata = function(e) {\n        _this6.emit(SOURCE_SUCCESS, {\n          src: e.target.currentSrc,\n          host: util.getHostFromUrl(e.target.currentSrc)\n        });\n      };\n      var _eHandler = null;\n      for (var i = 0; i < this._evHandlers.length; i++) {\n        if (Object.keys(this._evHandlers[i])[0] === \"error\") {\n          _eHandler = this._evHandlers[i];\n          break;\n        }\n      }\n      !this._sourceError && (this._sourceError = function(e) {\n        var _dIndex = parseInt(e.target.getAttribute(\"data-index\"), 10);\n        _this6._videoSourceIndex--;\n        if (_this6._videoSourceIndex === 0 || _dIndex >= _this6._videoSourceCount) {\n          var _err = {\n            code: 4,\n            message: \"sources_load_error\"\n          };\n          _eHandler ? _eHandler.error(e, _err) : _this6.errorHandler(\"error\", _err);\n        }\n        var type = ERROR_TYPE_MAP[4];\n        _this6.emit(SOURCE_ERROR, new Errors(_this6, {\n          errorType: type,\n          errorCode: 4,\n          errorMessage: \"sources_load_error\",\n          mediaError: {\n            code: 4,\n            message: \"sources_load_error\"\n          },\n          src: e.target.src\n        }));\n      });\n      for (var _i = 0; _i < _c.length; _i++) {\n        _c[_i].addEventListener(\"error\", this._sourceError);\n      }\n      video.addEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"_detachSourceEvents\",\n    value: function _detachSourceEvents(video) {\n      var _c = video.children;\n      if (!_c || _c.length === 0 || !this._sourceError) {\n        return;\n      }\n      for (var i = 0; i < _c.length; i++) {\n        _c[i].removeEventListener(\"error\", this._sourceError);\n      }\n      while (_c.length > 0) {\n        video.removeChild(_c[0]);\n      }\n      this._vLoadeddata && video.removeEventListener(\"loadeddata\", this._vLoadeddata);\n    }\n  }, {\n    key: \"errorHandler\",\n    value: function errorHandler(name) {\n      var error = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;\n      if (this.media && (this.media.error || error)) {\n        var _e = this.media.error || error;\n        var type = _e.code ? ERROR_TYPE_MAP[_e.code] : \"other\";\n        var message = _e.message;\n        if (!this.media.currentSrc) {\n          message = \"empty_src\";\n          _e = {\n            code: 6,\n            message\n          };\n        }\n        this.emit(name, new Errors(this, {\n          errorType: type,\n          errorCode: _e.code,\n          errorMessage: _e.message || \"\",\n          mediaError: _e\n        }));\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.media) {\n        if (this.media.pause) {\n          this.media.pause();\n          this.media.muted = true;\n        }\n        this.media.removeAttribute(\"src\");\n        this.media.load();\n      }\n      this._currentTime = 0;\n      this._duration = 0;\n      this.mediaConfig = null;\n      for (var k in this._interval) {\n        if (Object.prototype.hasOwnProperty.call(this._interval, k)) {\n          clearInterval(this._interval[k]);\n          this._interval[k] = null;\n        }\n      }\n      this.detachVideoEvents();\n      this.media = null;\n      this.mediaEventMiddleware = {};\n      this.removeAllListeners();\n    }\n  }, {\n    key: \"video\",\n    get: function get() {\n      return this.media;\n    },\n    set: function set(media) {\n      this.media = media;\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var ret = this.media ? this.media.play() : null;\n      return ret;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.media && this.media.pause();\n    }\n  }, {\n    key: \"load\",\n    value: function load() {\n      this.media && this.media.load();\n    }\n  }, {\n    key: \"canPlayType\",\n    value: function canPlayType(type) {\n      return this.media ? this.media.canPlayType(type) : false;\n    }\n  }, {\n    key: \"getBufferedRange\",\n    value: function getBufferedRange(buffered) {\n      var range = [0, 0];\n      if (!this.media) {\n        return range;\n      }\n      if (!buffered) {\n        buffered = this.media.buffered;\n      }\n      var currentTime = this.media.currentTime;\n      if (buffered) {\n        for (var i = 0, len = buffered.length; i < len; i++) {\n          range[0] = buffered.start(i);\n          range[1] = buffered.end(i);\n          if (range[0] <= currentTime && currentTime <= range[1]) {\n            break;\n          }\n        }\n      }\n      if (range[0] - currentTime <= 0 && currentTime - range[1] <= 0) {\n        return range;\n      } else {\n        return [0, 0];\n      }\n    }\n  }, {\n    key: \"autoplay\",\n    get: function get() {\n      return this.media ? this.media.autoplay : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.autoplay = isTrue);\n    }\n  }, {\n    key: \"buffered\",\n    get: function get() {\n      return this.media ? this.media.buffered : null;\n    }\n  }, {\n    key: \"buffered2\",\n    get: function get() {\n      return this.media && this.media.buffered ? util.getBuffered2(this.media.buffered) : null;\n    }\n  }, {\n    key: \"bufferedPoint\",\n    get: function get() {\n      var ret = {\n        start: 0,\n        end: 0\n      };\n      if (!this.media) {\n        return ret;\n      }\n      var _buffered = this.media.buffered;\n      if (!_buffered || _buffered.length === 0) {\n        return ret;\n      }\n      for (var i = 0; i < _buffered.length; i++) {\n        if ((_buffered.start(i) <= this.currentTime || _buffered.start(i) < 0.1) && _buffered.end(i) >= this.currentTime) {\n          return {\n            start: _buffered.start(i),\n            end: _buffered.end(i)\n          };\n        }\n      }\n      return ret;\n    }\n  }, {\n    key: \"crossOrigin\",\n    get: function get() {\n      return this.media ? this.media.crossOrigin : \"\";\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.crossOrigin = isTrue);\n    }\n  }, {\n    key: \"currentSrc\",\n    get: function get() {\n      return this.media ? this.media.currentSrc : \"\";\n    },\n    set: function set(src) {\n      this.media && (this.media.currentSrc = src);\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      if (!this.media) {\n        return 0;\n      }\n      return this.media.currentTime !== void 0 ? this.media.currentTime : this._currentTime;\n    },\n    set: function set(time) {\n      this.media && (this.media.currentTime = time);\n    }\n  }, {\n    key: \"defaultMuted\",\n    get: function get() {\n      return this.media ? this.media.defaultMuted : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.defaultMuted = isTrue);\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this._duration;\n    }\n  }, {\n    key: \"ended\",\n    get: function get() {\n      return this.media ? this.media.ended : false;\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      return this.media.error;\n    }\n  }, {\n    key: \"errorNote\",\n    get: function get() {\n      var err = this.media.error;\n      if (!err) {\n        return \"\";\n      }\n      var status = [\"MEDIA_ERR_ABORTED\", \"MEDIA_ERR_NETWORK\", \"MEDIA_ERR_DECODE\", \"MEDIA_ERR_SRC_NOT_SUPPORTED\"];\n      return status[this.media.error.code - 1];\n    }\n  }, {\n    key: \"loop\",\n    get: function get() {\n      return this.media ? this.media.loop : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.loop = isTrue);\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.media ? this.media.muted : false;\n    },\n    set: function set(isTrue) {\n      if (!this.media || this.media.muted === isTrue) {\n        return;\n      }\n      this._lastMuted = this.media.muted;\n      this.media.muted = isTrue;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return this.media.networkState;\n    }\n  }, {\n    key: \"paused\",\n    get: function get() {\n      return this.media ? this.media.paused : true;\n    }\n  }, {\n    key: \"playbackRate\",\n    get: function get() {\n      return this.media ? this.media.playbackRate : 0;\n    },\n    set: function set(rate) {\n      if (!this.media || rate === Infinity) {\n        return;\n      }\n      this.media.defaultPlaybackRate = rate;\n      this.media.playbackRate = rate;\n    }\n  }, {\n    key: \"played\",\n    get: function get() {\n      return this.media ? this.media.played : null;\n    }\n  }, {\n    key: \"preload\",\n    get: function get() {\n      return this.media ? this.media.preload : false;\n    },\n    set: function set(isTrue) {\n      this.media && (this.media.preload = isTrue);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return this.media.readyState;\n    }\n  }, {\n    key: \"seekable\",\n    get: function get() {\n      return this.media ? this.media.seekable : false;\n    }\n  }, {\n    key: \"seeking\",\n    get: function get() {\n      return this.media ? this.media.seeking : false;\n    }\n  }, {\n    key: \"src\",\n    get: function get() {\n      return this.media ? this.media.src : \"\";\n    },\n    set: function set(url) {\n      if (!this.media) {\n        return;\n      }\n      this.emit(URL_CHANGE, url);\n      this.emit(WAITING);\n      this._currentTime = 0;\n      this._duration = 0;\n      if (util.isMSE(this.media)) {\n        this.onWaiting();\n        return;\n      }\n      this._detachSourceEvents(this.media);\n      if (util.typeOf(url) === \"Array\") {\n        this._attachSourceEvents(this.media, url);\n      } else if (url) {\n        this.media.src = url;\n      } else {\n        this.media.removeAttribute(\"src\");\n      }\n      this.load();\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.media ? this.media.volume : 0;\n    },\n    set: function set(vol) {\n      if (vol === Infinity || !this.media) {\n        return;\n      }\n      this.media.volume = vol;\n    }\n  }, {\n    key: \"aspectRatio\",\n    get: function get() {\n      return this.media ? this.media.videoWidth / this.media.videoHeight : 0;\n    }\n  }, {\n    key: \"addInnerOP\",\n    value: function addInnerOP(event) {\n      this._internalOp[event] = true;\n    }\n  }, {\n    key: \"removeInnerOP\",\n    value: function removeInnerOP(event) {\n      delete this._internalOp[event];\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event, data) {\n      var _get2;\n      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n      (_get2 = _get(_getPrototypeOf(MediaProxy2.prototype), \"emit\", this)).call.apply(_get2, [this, event, data].concat(args));\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _get3;\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      (_get3 = _get(_getPrototypeOf(MediaProxy2.prototype), \"on\", this)).call.apply(_get3, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _get4;\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      (_get4 = _get(_getPrototypeOf(MediaProxy2.prototype), \"once\", this)).call.apply(_get4, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _get5;\n      for (var _len4 = arguments.length, args = new Array(_len4 > 2 ? _len4 - 2 : 0), _key4 = 2; _key4 < _len4; _key4++) {\n        args[_key4 - 2] = arguments[_key4];\n      }\n      (_get5 = _get(_getPrototypeOf(MediaProxy2.prototype), \"off\", this)).call.apply(_get5, [this, event, callback].concat(args));\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      _get(_getPrototypeOf(MediaProxy2.prototype), \"removeAllListeners\", this).call(this);\n    }\n  }]);\n  return MediaProxy2;\n}(EventEmitter);\nexport { MediaProxy as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar INDEXDB = /* @__PURE__ */ function() {\n  function INDEXDB2() {\n    var mydb = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n      name: \"xgplayer\",\n      version: 1,\n      db: null,\n      ojstore: {\n        name: \"xg-m4a\",\n        keypath: \"vid\"\n      }\n    };\n    _classCallCheck(this, INDEXDB2);\n    this.indexedDB = window.indexedDB || window.webkitindexedDB;\n    this.IDBKeyRange = window.IDBKeyRange || window.webkitIDBKeyRange;\n    this.myDB = mydb;\n  }\n  _createClass(INDEXDB2, [{\n    key: \"openDB\",\n    value: function openDB(callback) {\n      var _this = this;\n      var self = this;\n      var version = this.myDB.version || 1;\n      var request = self.indexedDB.open(self.myDB.name, version);\n      request.onerror = function(e) {\n      };\n      request.onsuccess = function(e) {\n        _this.myDB.db = e.target.result;\n        callback.call(self);\n      };\n      request.onupgradeneeded = function(e) {\n        var db = e.target.result;\n        e.target.transaction;\n        if (!db.objectStoreNames.contains(self.myDB.ojstore.name)) {\n          db.createObjectStore(self.myDB.ojstore.name, {\n            keyPath: self.myDB.ojstore.keypath\n          });\n        }\n      };\n    }\n  }, {\n    key: \"deletedb\",\n    value: function deletedb() {\n      var self = this;\n      self.indexedDB.deleteDatabase(this.myDB.name);\n    }\n  }, {\n    key: \"closeDB\",\n    value: function closeDB() {\n      this.myDB.db.close();\n    }\n  }, {\n    key: \"addData\",\n    value: function addData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.add(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"putData\",\n    value: function putData(storename, data) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request;\n      for (var i = 0; i < data.length; i++) {\n        request = store.put(data[i]);\n        request.onerror = function() {\n        };\n        request.onsuccess = function() {\n        };\n      }\n    }\n  }, {\n    key: \"getDataByKey\",\n    value: function getDataByKey(storename, key, callback) {\n      var self = this;\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      var request = store.get(key);\n      request.onerror = function() {\n        callback.call(self, null);\n      };\n      request.onsuccess = function(e) {\n        var result = e.target.result;\n        callback.call(self, result);\n      };\n    }\n  }, {\n    key: \"deleteData\",\n    value: function deleteData(storename, key) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.delete(key);\n    }\n  }, {\n    key: \"clearData\",\n    value: function clearData(storename) {\n      var store = this.myDB.db.transaction(storename, \"readwrite\").objectStore(storename);\n      store.clear();\n    }\n  }]);\n  return INDEXDB2;\n}();\nexport { INDEXDB as default };\n","var FULLSCREEN_EVENTS = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\nvar GET_FULLSCREEN_API = [\"requestFullscreen\", \"webkitRequestFullscreen\", \"mozRequestFullScreen\", \"msRequestFullscreen\"];\nvar EXIT_FULLSCREEN_API = [\"exitFullscreen\", \"webkitExitFullscreen\", \"mozCancelFullScreen\", \"msExitFullscreen\"];\nvar PLATER_ID = \"data-xgplayerid\";\nexport { EXIT_FULLSCREEN_API, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, PLATER_ID };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nfunction callHandler(obj, handler, next) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n  var ret = handler.call.apply(handler, [obj].concat(args));\n  if (!next || typeof next !== \"function\") {\n    return;\n  }\n  if (ret && ret.then) {\n    ret.then(function() {\n      for (var _len2 = arguments.length, args2 = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args2[_key2] = arguments[_key2];\n      }\n      next.call.apply(next, [obj].concat(args2));\n    });\n  } else {\n    next.call.apply(next, [obj].concat(args));\n  }\n}\nfunction hook(hookName, handler) {\n  var preset = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    pre: null,\n    next: null\n  };\n  if (!this.__hooks) {\n    this.__hooks = {};\n  }\n  !this.__hooks[hookName] && (this.__hooks[hookName] = null);\n  return function() {\n    var _arguments = arguments, _this = this;\n    if (preset.pre) {\n      try {\n        var _preset$pre;\n        (_preset$pre = preset.pre).call.apply(_preset$pre, [this].concat(Array.prototype.slice.call(arguments)));\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \":pre error] >> \").concat(e.message);\n        throw e;\n      }\n    }\n    if (this.__hooks && this.__hooks[hookName]) {\n      try {\n        var _this$__hooks$hookNam;\n        var preRet = (_this$__hooks$hookNam = this.__hooks[hookName]).call.apply(_this$__hooks$hookNam, [this, this].concat(Array.prototype.slice.call(arguments)));\n        if (preRet) {\n          if (preRet.then) {\n            preRet.then(function(isContinue) {\n              if (isContinue !== false) {\n                callHandler.apply(void 0, [_this, handler, preset.next].concat(_toConsumableArray(_arguments)));\n              }\n            }).catch(function(e) {\n              throw e;\n            });\n          } else {\n            callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n          }\n        } else if (preRet === void 0) {\n          callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n        }\n      } catch (e) {\n        e.message = \"[pluginName: \".concat(this.pluginName, \":\").concat(hookName, \"] >> \").concat(e.message);\n        throw e;\n      }\n    } else {\n      callHandler.apply(void 0, [this, handler, preset.next].concat(Array.prototype.slice.call(arguments)));\n    }\n  }.bind(this);\n}\nfunction useHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  if (!__hooks.hasOwnProperty(hookName)) {\n    console.warn(\"has no supported hook which name [\".concat(hookName, \"]\"));\n    return false;\n  }\n  __hooks && (__hooks[hookName] = handler);\n  return true;\n}\nfunction removeHooks(hookName, handler) {\n  var __hooks = this.__hooks;\n  if (!__hooks) {\n    return;\n  }\n  delete __hooks[hookName];\n}\nfunction usePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n  return plugin.useHooks && plugin.useHooks.apply(plugin, args);\n}\nfunction removePluginHooks(pluginName) {\n  if (!this.plugins || !this.plugins[pluginName.toLowerCase()]) {\n    return;\n  }\n  var plugin = this.plugins[pluginName.toLowerCase()];\n  if (plugin) {\n    for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      args[_key4 - 1] = arguments[_key4];\n    }\n    return plugin.removeHooks && plugin.removeHooks.apply(plugin, args);\n  }\n}\nfunction hooksDescriptor(instance) {\n  var presetHooks = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n  instance.__hooks = {};\n  presetHooks && presetHooks.map(function(item) {\n    instance.__hooks[item] = null;\n  });\n  Object.defineProperty(instance, \"hooks\", {\n    get: function get() {\n      return instance.__hooks && Object.keys(instance.__hooks).map(function(key) {\n        if (instance.__hooks[key]) {\n          return key;\n        }\n      });\n    }\n  });\n}\nfunction delHooksDescriptor(instance) {\n  instance.__hooks = null;\n}\nfunction runHooks(obj, hookName, handler) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n  if (obj.__hooks && obj.__hooks[hookName]) {\n    var _obj$__hooks$hookName;\n    var ret = (_obj$__hooks$hookName = obj.__hooks[hookName]).call.apply(_obj$__hooks$hookName, [obj, obj].concat(args));\n    if (ret && ret.then) {\n      ret.then(function(data) {\n        return data === false ? null : handler.call.apply(handler, [obj, obj].concat(args));\n      }).catch(function(e) {\n        console.warn(\"[runHooks]\".concat(hookName, \" reject\"), e.message);\n      });\n    } else if (ret !== false) {\n      return handler.call.apply(handler, [obj, obj].concat(args));\n    }\n  } else {\n    return handler.call.apply(handler, [obj, obj].concat(args));\n  }\n}\nexport { hooksDescriptor as default, delHooksDescriptor, hook, removeHooks, removePluginHooks, runHooks, useHooks, usePluginHooks };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, objectSpread2 as _objectSpread2 } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nexport { default as Util } from \"../utils/util.js\";\nimport XG_DEBUG from \"../utils/debug.js\";\nexport { default as XG_DEBUG } from \"../utils/debug.js\";\nimport hooksDescriptor, { hook, useHooks, removeHooks, delHooksDescriptor } from \"./hooksDescriptor.js\";\nfunction showErrorMsg(pluginName, msg) {\n  XG_DEBUG.logError(\"[\".concat(pluginName, \"] event or callback cant be undefined or null when call \").concat(msg));\n}\nvar BasePlugin = /* @__PURE__ */ function() {\n  function BasePlugin2(args) {\n    _classCallCheck(this, BasePlugin2);\n    if (util.checkIsFunction(this.beforeCreate)) {\n      this.beforeCreate(args);\n    }\n    hooksDescriptor(this);\n    this.__args = args;\n    this.__events = {};\n    this.__onceEvents = {};\n    this.config = args.config || {};\n    this.player = null;\n    this.playerConfig = {};\n    this.pluginName = \"\";\n    this.__init(args);\n  }\n  _createClass(BasePlugin2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n    }\n  }, {\n    key: \"beforePlayerInit\",\n    value: function beforePlayerInit() {\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__init\",\n    value: function __init(args) {\n      this.player = args.player;\n      this.playerConfig = args.player && args.player.config;\n      this.pluginName = args.pluginName ? args.pluginName.toLowerCase() : this.constructor.pluginName.toLowerCase();\n      this.logger = args.player && args.player.logger;\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      return this.player.i18n;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.player.i18nKeys;\n    }\n  }, {\n    key: \"domEventType\",\n    get: function get() {\n      var _e = util.checkTouchSupport() ? \"touch\" : \"mouse\";\n      if (this.playerConfig && (this.playerConfig.domEventType === \"touch\" || this.playerConfig.domEventType === \"mouse\")) {\n        _e = this.playerConfig.domEventType;\n      }\n      return _e;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, callback) {\n      var _this = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.on(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__events[event] = callback;\n        this.player.on(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this.__events[item] = callback;\n          _this.player.on(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, callback) {\n      var _this2 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.once(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        this.__onceEvents[event] = callback;\n        this.player.once(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          _this2.__onceEvents[item] = callback;\n          _this2.player.once(event, callback);\n        });\n      }\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, callback) {\n      var _this3 = this;\n      if (!event || !callback || !this.player) {\n        showErrorMsg(this.pluginName, \"plugin.off(event, callback)\");\n        return;\n      }\n      if (typeof event === \"string\") {\n        delete this.__events[event];\n        this.player.off(event, callback);\n      } else if (Array.isArray(event)) {\n        event.forEach(function(item) {\n          delete _this3.__events[event];\n          _this3.player.off(item, callback);\n        });\n      }\n    }\n  }, {\n    key: \"offAll\",\n    value: function offAll() {\n      var _this4 = this;\n      [\"__events\", \"__onceEvents\"].forEach(function(key) {\n        Object.keys(_this4[key]).forEach(function(item) {\n          _this4[key][item] && _this4.off(item, _this4[key][item]);\n          item && delete _this4[key][item];\n        });\n      });\n      this.__events = {};\n      this.__onceEvents = {};\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      var _this$player;\n      if (!this.player) {\n        return;\n      }\n      for (var _len = arguments.length, res = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        res[_key - 1] = arguments[_key];\n      }\n      (_this$player = this.player).emit.apply(_this$player, [event].concat(res));\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action) {\n      var params = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n      if (!this.player) {\n        return;\n      }\n      var nParams = _objectSpread2(_objectSpread2({}, params), {}, {\n        pluginName: this.pluginName\n      });\n      this.player.emitUserAction(event, action, nParams);\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n        args[_key3 - 2] = arguments[_key3];\n      }\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      if (!this.player) {\n        return;\n      }\n      name && (options.pluginName = name);\n      return this.player.registerPlugin({\n        plugin,\n        options\n      });\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(name) {\n      return this.player ? this.player.getPlugin(name) : null;\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this5 = this;\n      var player = this.player;\n      var pluginName = this.pluginName;\n      this.offAll();\n      util.clearAllTimers(this);\n      if (util.checkIsFunction(this.destroy)) {\n        this.destroy();\n      }\n      [\"player\", \"playerConfig\", \"pluginName\", \"logger\", \"__args\", \"__hooks\"].map(function(item) {\n        _this5[item] = null;\n      });\n      player.unRegisterPlugin(pluginName);\n      delHooksDescriptor(this);\n    }\n  }], [{\n    key: \"defineGetterOrSetter\",\n    value: function defineGetterOrSetter(Obj, map) {\n      for (var key in map) {\n        if (Object.prototype.hasOwnProperty.call(map, key)) {\n          Object.defineProperty(Obj, key, map[key]);\n        }\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"pluginName\",\n    get: function get() {\n      return \"pluginName\";\n    }\n  }]);\n  return BasePlugin2;\n}();\nexport { BasePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, get as _get, getPrototypeOf as _getPrototypeOf, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport BasePlugin from \"./basePlugin.js\";\nimport _delegate from \"delegate\";\nimport XG_DEBUG from \"../utils/debug.js\";\nimport util from \"../utils/util.js\";\nvar ROOT_TYPES = {\n  CONTROLS: \"controls\",\n  ROOT: \"root\"\n};\nvar POSITIONS = {\n  ROOT: \"root\",\n  ROOT_LEFT: \"rootLeft\",\n  ROOT_RIGHT: \"rootRight\",\n  ROOT_TOP: \"rootTop\",\n  CONTROLS_LEFT: \"controlsLeft\",\n  CONTROLS_RIGTH: \"controlsRight\",\n  CONTROLS_RIGHT: \"controlsRight\",\n  CONTROLS_CENTER: \"controlsCenter\",\n  CONTROLS: \"controls\"\n};\nvar PLUGIN_STATE_CLASS = {\n  ICON_DISABLE: \"xg-icon-disable\",\n  ICON_HIDE: \"xg-icon-hide\"\n};\nfunction isUrl(str) {\n  if (!str) {\n    return false;\n  }\n  return str.indexOf && /^(?:http|data:|\\/)/.test(str);\n}\nfunction mergeIconClass(icon, classname) {\n  if (_typeof(icon) === \"object\" && icon.class && typeof icon.class === \"string\") {\n    return \"\".concat(classname, \" \").concat(icon.class);\n  }\n  return classname;\n}\nfunction mergeIconAttr(icon, attr) {\n  if (_typeof(icon) === \"object\" && icon.attr && _typeof(icon.attr) === \"object\") {\n    Object.keys(icon.attr).map(function(key) {\n      attr[key] = icon.attr[key];\n    });\n  }\n  return attr;\n}\nfunction createIcon(icon, key) {\n  var classname = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n  var attr = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {};\n  var pluginName = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n  var newIcon = null;\n  if (icon instanceof window.Element) {\n    util.addClass(icon, classname);\n    Object.keys(attr).map(function(key2) {\n      icon.setAttribute(key2, attr[key2]);\n    });\n    return icon;\n  }\n  if (isUrl(icon) || isUrl(icon.url)) {\n    attr.src = isUrl(icon) ? icon : icon.url || \"\";\n    newIcon = util.createDom(icon.tag || \"img\", \"\", attr, \"xg-img \".concat(classname));\n    return newIcon;\n  }\n  if (typeof icon === \"function\") {\n    try {\n      newIcon = icon();\n      if (newIcon instanceof window.Element) {\n        util.addClass(newIcon, classname);\n        Object.keys(attr).map(function(key2) {\n          newIcon.setAttribute(key2, attr[key2]);\n        });\n        return newIcon;\n      } else {\n        XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is a function mast return an Element Object\"));\n      }\n      return null;\n    } catch (e) {\n      XG_DEBUG.logError(\"Plugin named [\".concat(pluginName, \"]:createIcon\"), e);\n      return null;\n    }\n  }\n  if (typeof icon === \"string\") {\n    return util.createDomFromHtml(icon, attr, classname);\n  }\n  XG_DEBUG.logWarn(\"warn>>icons.\".concat(key, \" in config of plugin named [\").concat(pluginName, \"] is invalid\"));\n  return null;\n}\nfunction registerIconsObj(iconsConfig, plugin) {\n  var _icons = plugin.config.icons || plugin.playerConfig.icons;\n  Object.keys(iconsConfig).map(function(key) {\n    var orgIcon = iconsConfig[key];\n    var classname = orgIcon && orgIcon.class ? orgIcon.class : \"\";\n    var attr = orgIcon && orgIcon.attr ? orgIcon.attr : {};\n    var newIcon = null;\n    if (_icons && _icons[key]) {\n      classname = mergeIconClass(_icons[key], classname);\n      attr = mergeIconAttr(_icons[key], attr);\n      newIcon = createIcon(_icons[key], key, classname, attr, plugin.pluginName);\n    }\n    if (!newIcon && orgIcon) {\n      newIcon = createIcon(orgIcon.icon ? orgIcon.icon : orgIcon, attr, classname, {}, plugin.pluginName);\n    }\n    plugin.icons[key] = newIcon;\n  });\n}\nfunction registerTextObj(textConfig, plugin) {\n  Object.keys(textConfig).map(function(key) {\n    Object.defineProperty(plugin.langText, key, {\n      get: function get() {\n        var lang = plugin.lang, i18n = plugin.i18n;\n        if (i18n[key]) {\n          return i18n[key];\n        } else {\n          return textConfig[key] ? textConfig[key][lang] || \"\" : \"\";\n        }\n      }\n    });\n  });\n}\nvar Plugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Plugin2, _BasePlugin);\n  var _super = _createSuper(Plugin2);\n  function Plugin2() {\n    var _this;\n    var args = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    _classCallCheck(this, Plugin2);\n    _this = _super.call(this, args);\n    _this.__delegates = [];\n    return _this;\n  }\n  _createClass(Plugin2, [{\n    key: \"__init\",\n    value: function __init(args) {\n      _get(_getPrototypeOf(Plugin2.prototype), \"__init\", this).call(this, args);\n      if (!args.root) {\n        return;\n      }\n      var _parent = args.root;\n      var _el = null;\n      this.icons = {};\n      this.root = null;\n      this.parent = null;\n      var _orgicons = this.registerIcons() || {};\n      registerIconsObj(_orgicons, this);\n      this.langText = {};\n      var defaultTexConfig = this.registerLanguageTexts() || {};\n      registerTextObj(defaultTexConfig, this);\n      var renderStr = \"\";\n      try {\n        renderStr = this.render();\n      } catch (e) {\n        XG_DEBUG.logError(\"Plugin:\".concat(this.pluginName, \":render\"), e);\n        throw new Error(\"Plugin:\".concat(this.pluginName, \":render:\").concat(e.message));\n      }\n      if (renderStr) {\n        _el = Plugin2.insert(renderStr, _parent, args.index);\n        _el.setAttribute(\"data-index\", args.index);\n      } else if (args.tag) {\n        _el = util.createDom(args.tag, \"\", args.attr, args.name);\n        _el.setAttribute(\"data-index\", args.index);\n        _parent.appendChild(_el);\n      } else {\n        return;\n      }\n      this.root = _el;\n      this.parent = _parent;\n      var attr = this.config.attr || {};\n      var style = this.config.style || {};\n      this.setAttr(attr);\n      this.setStyle(style);\n      if (this.config.index) {\n        this.root.setAttribute(\"data-index\", this.config.index);\n      }\n      this.__registerChildren();\n    }\n  }, {\n    key: \"__registerChildren\",\n    value: function __registerChildren() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      this._children = [];\n      var children = this.children();\n      if (children && _typeof(children) === \"object\") {\n        if (Object.keys(children).length > 0) {\n          Object.keys(children).map(function(item) {\n            var name = item;\n            var _plugin = children[name];\n            var options = {\n              root: _this2.root\n            };\n            var config, _Plugin;\n            if (typeof _plugin === \"function\") {\n              config = _this2.config[name] || {};\n              _Plugin = _plugin;\n            } else if (_typeof(_plugin) === \"object\" && typeof _plugin.plugin === \"function\") {\n              config = _plugin.options ? util.deepCopy(_this2.config[name] || {}, _plugin.options) : _this2.config[name] || {};\n              _Plugin = _plugin.plugin;\n            }\n            options.config = config;\n            config.index !== void 0 && (options.index = config.index);\n            config.root && (options.root = config.root);\n            _this2.registerPlugin(_Plugin, options, name);\n          });\n        }\n      }\n    }\n  }, {\n    key: \"updateLang\",\n    value: function updateLang(lang) {\n      if (!lang) {\n        lang = this.lang;\n      }\n      function checkChildren(node, callback) {\n        for (var i = 0; i < node.children.length; i++) {\n          if (node.children[i].children.length > 0) {\n            checkChildren(node.children[i], callback);\n          } else {\n            callback(node.children[i]);\n          }\n        }\n      }\n      var root = this.root, i18n = this.i18n, langText = this.langText;\n      if (root) {\n        checkChildren(root, function(node) {\n          var langKey = node.getAttribute && node.getAttribute(\"lang-key\");\n          if (!langKey) {\n            return;\n          }\n          var langTextShow = i18n[langKey.toUpperCase()] || langText[langKey];\n          if (langTextShow) {\n            node.innerHTML = typeof langTextShow === \"function\" ? langTextShow(lang) : langTextShow;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.player.lang;\n    }\n  }, {\n    key: \"changeLangTextKey\",\n    value: function changeLangTextKey(dom) {\n      var key = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : \"\";\n      var i18n = this.i18n || {};\n      var langText = this.langText;\n      dom.setAttribute && dom.setAttribute(\"lang-key\", key);\n      var text = i18n[key] || langText[key] || \"\";\n      if (text) {\n        dom.innerHTML = text;\n      }\n    }\n  }, {\n    key: \"plugins\",\n    value: function plugins() {\n      return this._children;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      util.addClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n      util.removeClass(this.find(\".xgplayer-icon\"), PLUGIN_STATE_CLASS.ICON_DISABLE);\n    }\n  }, {\n    key: \"children\",\n    value: function children() {\n      return {};\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      options.root = options.root || this.root;\n      var _c = _get(_getPrototypeOf(Plugin2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      this._children.push(_c);\n      return _c;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {};\n    }\n  }, {\n    key: \"registerLanguageTexts\",\n    value: function registerLanguageTexts() {\n      return {};\n    }\n  }, {\n    key: \"find\",\n    value: function find(qs) {\n      if (!this.root) {\n        return;\n      }\n      return this.root.querySelector(qs);\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(querySelector, eventType, callback) {\n      var _this3 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this3.bindEL(item, eventType);\n          });\n        } else {\n          this.bindEL(querySelector, eventType);\n        }\n      } else {\n        var ret = Plugin2.delegate.call(this, this.root, querySelector, eventType, callback);\n        this.__delegates = this.__delegates.concat(ret);\n      }\n    }\n  }, {\n    key: \"unbind\",\n    value: function unbind(querySelector, eventType) {\n      var _this4 = this;\n      if (arguments.length < 3 && typeof eventType === \"function\") {\n        if (Array.isArray(querySelector)) {\n          querySelector.forEach(function(item) {\n            _this4.unbindEL(item, eventType);\n          });\n        } else {\n          this.unbindEL(querySelector, eventType);\n        }\n      } else {\n        var key = \"\".concat(querySelector, \"_\").concat(eventType);\n        for (var i = 0; i < this.__delegates.length; i++) {\n          if (this.__delegates[i].key === key) {\n            this.__delegates[i].destroy();\n            this.__delegates.splice(i, 1);\n            break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(name, value) {\n      var _this5 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.style[name] = value;\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this5.root.style[key] = name[key];\n        });\n      }\n    }\n  }, {\n    key: \"setAttr\",\n    value: function setAttr(name, value) {\n      var _this6 = this;\n      if (!this.root) {\n        return;\n      }\n      if (util.typeOf(name) === \"String\") {\n        return this.root.setAttribute(name, value);\n      } else if (util.typeOf(name) === \"Object\") {\n        Object.keys(name).map(function(key) {\n          _this6.root.setAttribute(key, name[key]);\n        });\n      }\n    }\n  }, {\n    key: \"setHtml\",\n    value: function setHtml(htmlStr, callback) {\n      if (!this.root) {\n        return;\n      }\n      this.root.innerHTML = htmlStr;\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    }\n  }, {\n    key: \"bindEL\",\n    value: function bindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.addEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"unbindEL\",\n    value: function unbindEL(event, eventHandle) {\n      var isBubble = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;\n      if (!this.root) {\n        return;\n      }\n      if (\"on\".concat(event) in this.root && typeof eventHandle === \"function\") {\n        this.root.removeEventListener(event, eventHandle, isBubble);\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.style.display = value !== void 0 ? value : \"block\";\n      var cs = window.getComputedStyle(this.root, null);\n      var cssDisplayValue = cs.getPropertyValue(\"display\");\n      if (cssDisplayValue === \"none\") {\n        return this.root.style.display = \"block\";\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root && (this.root.style.display = \"none\");\n    }\n  }, {\n    key: \"appendChild\",\n    value: function appendChild(pdom, child) {\n      if (!this.root) {\n        return null;\n      }\n      if (arguments.length < 2 && arguments[0] instanceof window.Element) {\n        return this.root.appendChild(arguments[0]);\n      }\n      if (!child || !(child instanceof window.Element)) {\n        return null;\n      }\n      try {\n        if (typeof pdom === \"string\") {\n          return this.find(pdom).appendChild(child);\n        } else {\n          return pdom.appendChild(child);\n        }\n      } catch (err) {\n        XG_DEBUG.logError(\"Plugin:appendChild\", err);\n        return null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n    }\n  }, {\n    key: \"__destroy\",\n    value: function __destroy() {\n      var _this7 = this;\n      var player = this.player;\n      this.__delegates.map(function(item) {\n        item.destroy();\n      });\n      this.__delegates = [];\n      if (this._children instanceof Array) {\n        this._children.map(function(item) {\n          player.unRegisterPlugin(item.pluginName);\n        });\n        this._children = null;\n      }\n      if (this.root) {\n        if (this.root.hasOwnProperty(\"remove\")) {\n          this.root.remove();\n        } else if (this.root.parentNode) {\n          this.root.parentNode.removeChild(this.root);\n        }\n      }\n      _get(_getPrototypeOf(Plugin2.prototype), \"__destroy\", this).call(this);\n      this.icons = {};\n      [\"root\", \"parent\"].map(function(item) {\n        _this7[item] = null;\n      });\n    }\n  }], [{\n    key: \"insert\",\n    value: function insert(html, parent) {\n      var index = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var len = parent.children.length;\n      var insertIdx = Number(index);\n      var isDomElement = html instanceof window.Node;\n      if (len) {\n        var i = 0;\n        var coordinate = null;\n        var mode = \"\";\n        for (; i < len; i++) {\n          coordinate = parent.children[i];\n          var curIdx = Number(coordinate.getAttribute(\"data-index\"));\n          if (curIdx >= insertIdx) {\n            mode = \"beforebegin\";\n            break;\n          } else if (curIdx < insertIdx) {\n            mode = \"afterend\";\n          }\n        }\n        if (isDomElement) {\n          if (mode === \"afterend\") {\n            parent.appendChild(html);\n          } else {\n            parent.insertBefore(html, coordinate);\n          }\n        } else {\n          coordinate.insertAdjacentHTML(mode, html);\n        }\n        return mode === \"afterend\" ? parent.children[parent.children.length - 1] : parent.children[i];\n      } else {\n        isDomElement ? parent.appendChild(html) : parent.insertAdjacentHTML(\"beforeend\", html);\n        return parent.children[parent.children.length - 1];\n      }\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }, {\n    key: \"delegate\",\n    value: function delegate(root, querySelector, eventType, callback) {\n      var capture = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : false;\n      var dels = [];\n      if (root instanceof window.Node && typeof callback === \"function\") {\n        if (Array.isArray(eventType)) {\n          eventType.forEach(function(item) {\n            var ret2 = _delegate(root, querySelector, item, callback, capture);\n            ret2.key = \"\".concat(querySelector, \"_\").concat(item);\n            dels.push(ret2);\n          });\n        } else {\n          var ret = _delegate(root, querySelector, eventType, callback, capture);\n          ret.key = \"\".concat(querySelector, \"_\").concat(eventType);\n          dels.push(ret);\n        }\n      }\n      return dels;\n    }\n  }, {\n    key: \"ROOT_TYPES\",\n    get: function get() {\n      return ROOT_TYPES;\n    }\n  }, {\n    key: \"POSITIONS\",\n    get: function get() {\n      return POSITIONS;\n    }\n  }]);\n  return Plugin2;\n}(BasePlugin);\nexport { PLUGIN_STATE_CLASS, POSITIONS, ROOT_TYPES, Plugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport { throttle } from \"../utils/util.js\";\nimport { PLATER_ID } from \"../constant.js\";\nvar ResizeObserver = /* @__PURE__ */ function() {\n  function ResizeObserver2() {\n    var _this = this;\n    _classCallCheck(this, ResizeObserver2);\n    _defineProperty(this, \"__trigger\", function(entries) {\n      var t = new Date().getTime();\n      _this.timeStamp = t;\n      for (var i = 0; i < entries.length; i++) {\n        _this.__runHandler(entries[i].target);\n      }\n    });\n    this.__handlers = [];\n    this.timeStamp = 0;\n    this.observer = null;\n    if (!window.ResizeObserver) {\n      return;\n    }\n    try {\n      this.observer = new window.ResizeObserver(throttle(this.__trigger, 100, {\n        trailing: true\n      }));\n      this.timeStamp = new Date().getTime();\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  _createClass(ResizeObserver2, [{\n    key: \"addObserver\",\n    value: function addObserver2(target, handler) {\n      if (!this.observer) {\n        return;\n      }\n      this.observer && this.observer.observe(target);\n      var _pid = target.getAttribute(PLATER_ID);\n      var __handlers = this.__handlers;\n      var index = -1;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          index = i;\n        }\n      }\n      if (index > -1) {\n        this.__handlers[index].handler = handler;\n      } else {\n        this.__handlers.push({\n          target,\n          handler,\n          playerId: _pid\n        });\n      }\n    }\n  }, {\n    key: \"unObserver\",\n    value: function unObserver2(target) {\n      var i = -1;\n      this.__handlers.map(function(item, index) {\n        if (target === item.target) {\n          i = index;\n        }\n      });\n      try {\n        this.observer && this.observer.unobserve(target);\n      } catch (e) {\n      }\n      this.observer && this.observer.unobserve(target);\n      i > -1 && this.__handlers.splice(i, 1);\n    }\n  }, {\n    key: \"destroyObserver\",\n    value: function destroyObserver() {\n      this.observer && this.observer.disconnect();\n      this.observer = null;\n      this.__handlers = null;\n    }\n  }, {\n    key: \"__runHandler\",\n    value: function __runHandler(target) {\n      var __handlers = this.__handlers;\n      for (var i = 0; i < __handlers.length; i++) {\n        if (__handlers[i] && target === __handlers[i].target) {\n          try {\n            __handlers[i].handler(target);\n          } catch (error) {\n            console.error(error);\n          }\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return ResizeObserver2;\n}();\nvar resizeObserver = null;\nfunction addObserver(target, handler) {\n  if (!resizeObserver) {\n    resizeObserver = new ResizeObserver();\n  }\n  resizeObserver.addObserver(target, handler);\n  return resizeObserver;\n}\nfunction unObserver(target, handler) {\n  resizeObserver.unObserver(target, handler);\n}\nexport { addObserver, unObserver };\n","import { addObserver, unObserver } from \"./resizeObserver.js\";\nimport util from \"../utils/util.js\";\nvar pluginsManager = {\n  pluginGroup: {},\n  init: function init(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid) {\n      cgid = new Date().getTime();\n      player._pluginInfoId = cgid;\n    }\n    !player.config.closeResizeObserver && addObserver(player.root, function() {\n      player.resize();\n    });\n    this.pluginGroup[cgid] = {\n      _originalOptions: player.config || {},\n      _plugins: {}\n    };\n  },\n  formatPluginInfo: function formatPluginInfo(plugin, config) {\n    var PLUFGIN = null;\n    var options = null;\n    if (plugin.plugin && typeof plugin.plugin === \"function\") {\n      PLUFGIN = plugin.plugin;\n      options = plugin.options;\n    } else {\n      PLUFGIN = plugin;\n      options = {};\n    }\n    if (config) {\n      options.config = config || {};\n    }\n    return {\n      PLUFGIN,\n      options\n    };\n  },\n  checkPluginIfExits: function checkPluginIfExits(pluginName, plugins) {\n    for (var i = 0; i < plugins.length; i++) {\n      if (pluginName.toLowerCase() === plugins[i].pluginName.toLowerCase()) {\n        return true;\n      }\n    }\n    return false;\n  },\n  getRootByConfig: function getRootByConfig(pluginName, playerConfig) {\n    var keys = Object.keys(playerConfig);\n    var _pConfig = null;\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        _pConfig = playerConfig[keys[i]];\n        break;\n      }\n    }\n    if (util.typeOf(_pConfig) === \"Object\") {\n      return {\n        root: _pConfig.root,\n        position: _pConfig.position\n      };\n    }\n    return {};\n  },\n  lazyRegister: function lazyRegister(player, lazyPlugin) {\n    var _this = this;\n    var timeout = lazyPlugin.timeout || 1500;\n    return Promise.race([lazyPlugin.loader().then(function(plugin) {\n      var result;\n      if (plugin && plugin.__esModule) {\n        result = plugin.default;\n      } else {\n        result = plugin;\n      }\n      _this.register(player, result, plugin.options);\n    }), new Promise(function(resolve, reject) {\n      setTimeout(function() {\n        reject(new Error(\"timeout\"));\n      }, timeout);\n    })]);\n  },\n  register: function register(player, plugin) {\n    var options = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};\n    if (!player || !plugin || typeof plugin !== \"function\" || plugin.prototype === void 0) {\n      return;\n    }\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    if (!this.pluginGroup[cgid]._plugins) {\n      this.pluginGroup[cgid]._plugins = {};\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    var originalOptions = this.pluginGroup[cgid]._originalOptions;\n    options.player = player;\n    var pluginName = options.pluginName || plugin.pluginName;\n    if (!pluginName) {\n      throw new Error(\"The property pluginName is necessary\");\n    }\n    if (plugin.isSupported && !plugin.isSupported(player.config.mediaType, player.config.codecType)) {\n      console.warn(\"not supported plugin [\".concat(pluginName, \"]\"));\n      return;\n    }\n    if (!options.config) {\n      options.config = {};\n    }\n    var keys = Object.keys(originalOptions);\n    for (var i = 0; i < keys.length; i++) {\n      if (pluginName.toLowerCase() === keys[i].toLowerCase()) {\n        var config = originalOptions[keys[i]];\n        if (util.typeOf(config) === \"Object\") {\n          options.config = Object.assign({}, options.config, originalOptions[keys[i]]);\n        } else if (util.typeOf(config) === \"Boolean\") {\n          options.config.disable = !config;\n        }\n        break;\n      }\n    }\n    if (plugin.defaultConfig) {\n      Object.keys(plugin.defaultConfig).forEach(function(key) {\n        if (typeof options.config[key] === \"undefined\") {\n          options.config[key] = plugin.defaultConfig[key];\n        }\n      });\n    }\n    if (!options.root) {\n      options.root = player.root;\n    } else if (typeof options.root === \"string\") {\n      options.root = player[options.root];\n    }\n    options.index = options.config.index || 0;\n    try {\n      if (plugins[pluginName.toLowerCase()]) {\n        this.unRegister(cgid, pluginName.toLowerCase());\n        console.warn(\"the is one plugin with same pluginName [\".concat(pluginName, \"] exist, destroy the old instance\"));\n      }\n      var _instance = new plugin(options);\n      plugins[pluginName.toLowerCase()] = _instance;\n      plugins[pluginName.toLowerCase()].func = plugin;\n      if (_instance && typeof _instance.afterCreate === \"function\") {\n        _instance.afterCreate();\n      }\n      return _instance;\n    } catch (err) {\n      console.error(err);\n      throw err;\n    }\n  },\n  unRegister: function unRegister(cgid, name) {\n    if (cgid._pluginInfoId) {\n      cgid = cgid._pluginInfoId;\n    }\n    name = name.toLowerCase();\n    try {\n      var plugin = this.pluginGroup[cgid]._plugins[name];\n      if (plugin) {\n        plugin.pluginName && plugin.__destroy();\n        delete this.pluginGroup[cgid]._plugins[name];\n      }\n    } catch (e) {\n      console.error(\"[unRegister:\".concat(name, \"] cgid:[\").concat(cgid, \"] error\"), e);\n    }\n  },\n  deletePlugin: function deletePlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (cgid && this.pluginGroup[cgid] && this.pluginGroup[cgid]._plugins) {\n      delete this.pluginGroup[cgid]._plugins[name];\n    }\n  },\n  getPlugins: function getPlugins(player) {\n    var cgid = player._pluginInfoId;\n    return cgid && this.pluginGroup[cgid] ? this.pluginGroup[cgid]._plugins : {};\n  },\n  findPlugin: function findPlugin(player, name) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return null;\n    }\n    var cName = name.toLowerCase();\n    return this.pluginGroup[cgid]._plugins[cName];\n  },\n  beforeInit: function beforeInit(player) {\n    var _this2 = this;\n    function retPromise(fun) {\n      if (!fun || !fun.then) {\n        return new Promise(function(resolve) {\n          resolve();\n        });\n      } else {\n        return fun;\n      }\n    }\n    return new Promise(function(resolve) {\n      if (!_this2.pluginGroup) {\n        return;\n      }\n      var prevTask;\n      if (player._loadingPlugins && player._loadingPlugins.length) {\n        prevTask = Promise.all(player._loadingPlugins);\n      } else {\n        prevTask = Promise.resolve();\n      }\n      return prevTask.then(function() {\n        var cgid = player._pluginInfoId;\n        if (!_this2.pluginGroup[cgid]) {\n          resolve();\n          return;\n        }\n        var plugins = _this2.pluginGroup[cgid]._plugins;\n        var pluginsRet = [];\n        Object.keys(plugins).forEach(function(pName) {\n          if (plugins[pName] && plugins[pName].beforePlayerInit) {\n            try {\n              var ret = plugins[pName].beforePlayerInit();\n              pluginsRet.push(retPromise(ret));\n            } catch (e) {\n              pluginsRet.push(retPromise(null));\n              throw e;\n            }\n          }\n        });\n        Promise.all([].concat(pluginsRet)).then(function() {\n          resolve();\n        }).catch(function(e) {\n          console.error(e);\n          resolve();\n        });\n      });\n    });\n  },\n  afterInit: function afterInit(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (plugins[pName] && plugins[pName].afterPlayerInit) {\n        plugins[pName].afterPlayerInit();\n      }\n    });\n  },\n  setLang: function setLang(lang, player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(item) {\n      if (plugins[item].updateLang) {\n        plugins[item].updateLang(lang);\n      } else {\n        try {\n          plugins[item].lang = lang;\n        } catch (error) {\n          console.warn(\"\".concat(item, \" setLang\"));\n        }\n      }\n    });\n  },\n  reRender: function reRender(player) {\n    var _this3 = this;\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var _pList = [];\n    var plugins = this.pluginGroup[cgid]._plugins;\n    Object.keys(plugins).forEach(function(pName) {\n      if (pName !== \"controls\" && plugins[pName]) {\n        _pList.push({\n          plugin: plugins[pName].func,\n          options: plugins[pName].__args\n        });\n        _this3.unRegister(cgid, pName);\n      }\n    });\n    _pList.forEach(function(item) {\n      _this3.register(player, item.plugin, item.options);\n    });\n  },\n  onPluginsReady: function onPluginsReady(player) {\n    var cgid = player._pluginInfoId;\n    if (!cgid || !this.pluginGroup[cgid]) {\n      return;\n    }\n    var plugins = this.pluginGroup[cgid]._plugins || {};\n    Object.keys(plugins).forEach(function(key) {\n      if (plugins[key].onPluginsReady && typeof plugins[key].onPluginsReady === \"function\") {\n        plugins[key].onPluginsReady();\n      }\n    });\n  },\n  destroy: function destroy(player) {\n    var cgid = player._pluginInfoId;\n    if (!this.pluginGroup[cgid]) {\n      return;\n    }\n    unObserver(player.root);\n    var plugins = this.pluginGroup[cgid]._plugins;\n    for (var _i = 0, _Object$keys = Object.keys(plugins); _i < _Object$keys.length; _i++) {\n      var item = _Object$keys[_i];\n      this.unRegister(cgid, item);\n    }\n    delete this.pluginGroup[cgid];\n    delete player._pluginInfoId;\n  }\n};\nexport { pluginsManager as default };\n","var STATE_CLASS = {\n  DEFAULT: \"xgplayer\",\n  DEFAULT_SKIN: \"xgplayer-skin-default\",\n  ENTER: \"xgplayer-is-enter\",\n  PAUSED: \"xgplayer-pause\",\n  PLAYING: \"xgplayer-playing\",\n  ENDED: \"xgplayer-ended\",\n  CANPLAY: \"xgplayer-canplay\",\n  LOADING: \"xgplayer-isloading\",\n  ERROR: \"xgplayer-is-error\",\n  REPLAY: \"xgplayer-replay\",\n  NO_START: \"xgplayer-nostart\",\n  ACTIVE: \"xgplayer-active\",\n  INACTIVE: \"xgplayer-inactive\",\n  FULLSCREEN: \"xgplayer-is-fullscreen\",\n  CSS_FULLSCREEN: \"xgplayer-is-cssfullscreen\",\n  ROTATE_FULLSCREEN: \"xgplayer-rotate-fullscreen\",\n  PARENT_ROTATE_FULLSCREEN: \"xgplayer-rotate-parent\",\n  PARENT_FULLSCREEN: \"xgplayer-fullscreen-parent\",\n  INNER_FULLSCREEN: \"xgplayer-fullscreen-inner\",\n  NO_CONTROLS: \"no-controls\",\n  FLEX_CONTROLS: \"flex-controls\",\n  CONTROLS_FOLLOW: \"controls-follow\",\n  CONTROLS_AUTOHIDE: \"controls-autohide\",\n  TOP_BAR_AUTOHIDE: \"top-bar-autohide\",\n  NOT_ALLOW_AUTOPLAY: \"not-allow-autoplay\",\n  SEEKING: \"seeking\",\n  PC: \"xgplayer-pc\",\n  MOBILE: \"xgplayer-mobile\",\n  MINI: \"xgplayer-mini\"\n};\nexport { STATE_CLASS as default };\n","import { getLang } from \"./utils/util.js\";\nfunction getDefaultConfig() {\n  return {\n    id: \"\",\n    el: null,\n    url: \"\",\n    domEventType: \"default\",\n    nullUrlStart: false,\n    width: 600,\n    height: 337.5,\n    fluid: false,\n    fitVideoSize: \"fixed\",\n    videoFillMode: \"auto\",\n    volume: 0.6,\n    autoplay: false,\n    autoplayMuted: false,\n    loop: false,\n    isLive: false,\n    zoom: 1,\n    videoInit: true,\n    poster: \"\",\n    isMobileSimulateMode: false,\n    defaultPlaybackRate: 1,\n    execBeforePluginsCall: null,\n    allowSeekAfterEnded: true,\n    enableContextmenu: true,\n    closeVideoClick: false,\n    closeVideoDblclick: false,\n    closePlayerBlur: false,\n    closeDelayBlur: false,\n    leavePlayerTime: 3e3,\n    closePlayVideoFocus: false,\n    closePauseVideoFocus: false,\n    closeFocusVideoFocus: true,\n    closeControlsBlur: true,\n    topBarAutoHide: true,\n    videoAttributes: {},\n    startTime: 0,\n    seekedStatus: \"play\",\n    miniprogress: false,\n    disableSwipeHandler: function disableSwipeHandler() {\n    },\n    enableSwipeHandler: function enableSwipeHandler() {\n    },\n    preProcessUrl: null,\n    ignores: [],\n    whitelist: [],\n    inactive: 3e3,\n    lang: getLang(),\n    controls: true,\n    marginControls: false,\n    fullscreenTarget: null,\n    screenShot: false,\n    rotate: false,\n    pip: false,\n    download: false,\n    mini: false,\n    cssFullscreen: true,\n    keyShortcut: true,\n    presets: [],\n    plugins: [],\n    playbackRate: 1,\n    definition: {\n      list: []\n    },\n    playsinline: true,\n    customDuration: 0,\n    timeOffset: 0,\n    icons: {},\n    i18n: [],\n    tabindex: 0,\n    thumbnail: null,\n    videoConfig: {},\n    isHideTips: false,\n    minWaitDelay: 200,\n    commonStyle: {\n      progressColor: \"\",\n      playedColor: \"\",\n      cachedColor: \"\",\n      sliderBtnStyle: {},\n      volumeColor: \"\"\n    }\n  };\n}\nexport { getDefaultConfig as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nvar usePreset = function usePreset2(player, Preset) {\n  var _player$config$plugin, _player$config$ignore;\n  var presetInst;\n  if (Preset.preset && Preset.options) {\n    presetInst = new Preset.preset(Preset.options, player.config);\n  } else {\n    presetInst = new Preset({}, player.config);\n  }\n  var _presetInst = presetInst, _presetInst$plugins = _presetInst.plugins, plugins = _presetInst$plugins === void 0 ? [] : _presetInst$plugins, _presetInst$ignores = _presetInst.ignores, ignores = _presetInst$ignores === void 0 ? [] : _presetInst$ignores, _presetInst$icons = _presetInst.icons, icons = _presetInst$icons === void 0 ? {} : _presetInst$icons, _presetInst$i18n = _presetInst.i18n, i18n = _presetInst$i18n === void 0 ? [] : _presetInst$i18n;\n  if (!player.config.plugins) {\n    player.config.plugins = [];\n  }\n  if (!player.config.ignores) {\n    player.config.ignores = [];\n  }\n  (_player$config$plugin = player.config.plugins).push.apply(_player$config$plugin, _toConsumableArray(plugins));\n  (_player$config$ignore = player.config.ignores).push.apply(_player$config$ignore, _toConsumableArray(ignores));\n  Object.keys(icons).map(function(key) {\n    if (!player.config.icons[key]) {\n      player.config.icons[key] = icons[key];\n    }\n  });\n  var _ci18n = player.config.i18n || [];\n  i18n.push.apply(i18n, _toConsumableArray(_ci18n));\n  player.config.i18n = i18n;\n};\nexport { usePreset };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Controls = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Controls2, _Plugin);\n  var _super = _createSuper(Controls2);\n  function Controls2() {\n    var _this;\n    _classCallCheck(this, Controls2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      playerConfig.closeControlsBlur && player.focus({\n        autoHide: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      player.focus();\n    });\n    return _this;\n  }\n  _createClass(Controls2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (!args.config.mode && sniffer.device === \"mobile\") {\n        args.config.mode = \"flex\";\n      }\n      if (args.player.config.marginControls) {\n        args.config.autoHide = false;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, disable = _this$config.disable, height = _this$config.height, mode = _this$config.mode;\n      if (disable) {\n        return;\n      }\n      mode === \"flex\" && this.player.addClass(STATE_CLASS.FLEX_CONTROLS);\n      var style = {\n        height: \"\".concat(height, \"px\")\n      };\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n      this.left = this.find(\"xg-left-grid\");\n      this.center = this.find(\"xg-center-grid\");\n      this.right = this.find(\"xg-right-grid\");\n      this.innerRoot = this.find(\"xg-inner-controls\");\n      this.on(MINI_STATE_CHANGE, function(isMini) {\n        isMini ? util.addClass(_this2.root, \"mini-controls\") : util.removeClass(_this2.root, \"mini-controls\");\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (sniffer.device !== \"mobile\" && isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.focus({\n        autoHide: false\n      });\n    }\n  }, {\n    key: \"focusAwhile\",\n    value: function focusAwhile() {\n      this.player.focus({\n        autoHide: true\n      });\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.player.blur({\n        ignorePaused: true\n      });\n    }\n  }, {\n    key: \"recoverAutoHide\",\n    value: function recoverAutoHide() {\n      this.config.autoHide && util.addClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"pauseAutoHide\",\n    value: function pauseAutoHide() {\n      util.removeClass(this.root, STATE_CLASS.CONTROLS_AUTOHIDE);\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      this.root.style.display = \"\";\n      this.player.focus();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"mode\",\n    get: function get() {\n      return this.config.mode;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var name = arguments.length > 2 ? arguments[2] : void 0;\n      if (!this.root) {\n        return;\n      }\n      var defaultConfig = plugin.defaultConfig || {};\n      if (!options.root) {\n        var position = options.position ? options.position : options.config && options.config.position ? options.config.position : defaultConfig.position;\n        switch (position) {\n          case POSITIONS.CONTROLS_LEFT:\n            options.root = this.left;\n            break;\n          case POSITIONS.CONTROLS_RIGHT:\n            options.root = this.right;\n            break;\n          case POSITIONS.CONTROLS_CENTER:\n            options.root = this.center;\n            break;\n          case POSITIONS.CONTROLS:\n            options.root = this.root;\n            break;\n          default:\n            options.root = this.left;\n        }\n        return _get(_getPrototypeOf(Controls2.prototype), \"registerPlugin\", this).call(this, plugin, options, name);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (sniffer.device !== \"mobile\") {\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config2 = this.config, mode = _this$config2.mode, autoHide = _this$config2.autoHide, initShow = _this$config2.initShow, disable = _this$config2.disable;\n      if (disable) {\n        return;\n      }\n      var className = util.classNames({\n        \"xgplayer-controls\": true\n      }, {\n        \"flex-controls\": mode === \"flex\"\n      }, {\n        \"bottom-controls\": mode === \"bottom\"\n      }, _defineProperty({}, STATE_CLASS.CONTROLS_AUTOHIDE, autoHide), {\n        \"xgplayer-controls-initshow\": initShow || !autoHide\n      });\n      return '<xg-controls class=\"'.concat(className, '\" unselectable=\"on\">\\n    <xg-inner-controls class=\"xg-inner-controls xg-pos\">\\n      <xg-left-grid class=\"xg-left-grid\">\\n      </xg-left-grid>\\n      <xg-center-grid class=\"xg-center-grid\"></xg-center-grid>\\n      <xg-right-grid class=\"xg-right-grid\">\\n      </xg-right-grid>\\n    </xg-inner-controls>\\n    </xg-controls>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"controls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false,\n        autoHide: true,\n        mode: \"\",\n        initShow: false\n      };\n    }\n  }]);\n  return Controls2;\n}(Plugin);\nexport { Controls as default };\n","import { toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../utils/util.js\";\nimport EN from \"./en.js\";\nvar XGI18nLang = {\n  lang: {},\n  langKeys: [],\n  textKeys: []\n};\nfunction deepMerge(dst, src) {\n  Object.keys(src).forEach(function(key) {\n    var _s = util.typeOf(src[key]);\n    var _t = util.typeOf(dst[key]);\n    if (_s === \"Array\") {\n      var _dst$key;\n      if (_t !== \"Array\") {\n        dst[key] = [];\n      }\n      (_dst$key = dst[key]).push.apply(_dst$key, _toConsumableArray(src[key]));\n    } else if (_s === \"Object\") {\n      if (_t !== \"Object\") {\n        dst[key] = {};\n      }\n      deepMerge(dst[key], src[key]);\n    } else {\n      dst[key] = src[key];\n    }\n  });\n  return dst;\n}\nfunction updateKeys() {\n  Object.keys(XGI18nLang.lang.en).map(function(key) {\n    XGI18nLang.textKeys[key] = key;\n  });\n}\nfunction extend(i18nTextList, i18nLangs) {\n  var ext = [];\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  if (util.typeOf(i18nTextList) !== \"Array\") {\n    ext = Object.keys(i18nTextList).map(function(lang2) {\n      var keyLang = lang2 === \"zh\" ? \"zh-cn\" : lang2;\n      return {\n        LANG: keyLang,\n        TEXT: i18nTextList[lang2]\n      };\n    });\n  } else {\n    ext = i18nTextList;\n  }\n  var _i18nLangs = i18nLangs, lang = _i18nLangs.lang;\n  ext.map(function(item) {\n    if (item.LANG === \"zh\") {\n      item.LANG = \"zh-cn\";\n    }\n    if (!lang[item.LANG]) {\n      use(item, i18nLangs);\n    } else {\n      deepMerge(lang[item.LANG] || {}, item.TEXT || {});\n    }\n  });\n  updateKeys();\n}\nfunction use(langData, i18nLangs) {\n  var _clang = langData.LANG;\n  if (!i18nLangs) {\n    i18nLangs = XGI18nLang;\n  }\n  if (!i18nLangs.lang) {\n    return;\n  }\n  var texts = langData.TEXT || {};\n  if (_clang === \"zh\") {\n    _clang = \"zh-cn\";\n  }\n  if (!i18nLangs.lang[_clang]) {\n    i18nLangs.langKeys.push(_clang);\n    i18nLangs.lang[_clang] = texts;\n  } else {\n    deepMerge(i18nLangs.lang[_clang], texts);\n  }\n  updateKeys();\n}\nfunction init(id) {\n  var _ret$langKeys;\n  var ret = {\n    lang: {},\n    langKeys: [],\n    textKeys: {},\n    pId: id\n  };\n  deepMerge(ret.lang, XGI18nLang.lang);\n  (_ret$langKeys = ret.langKeys).push.apply(_ret$langKeys, _toConsumableArray(XGI18nLang.langKeys));\n  deepMerge(ret.textKeys, XGI18nLang.textKeys);\n  return ret;\n}\nuse(EN);\nvar I18N = {\n  get textKeys() {\n    return XGI18nLang.textKeys;\n  },\n  get langKeys() {\n    return XGI18nLang.langKeys;\n  },\n  get lang() {\n    var ret = {};\n    XGI18nLang.langKeys.map(function(key) {\n      ret[key] = XGI18nLang.lang[key];\n    });\n    if (XGI18nLang.lang[\"zh-cn\"]) {\n      ret.zh = XGI18nLang.lang[\"zh-cn\"] || {};\n    }\n    return ret;\n  },\n  extend,\n  use,\n  init\n};\nexport { I18N as default };\n","var EN = {\n  LANG: \"en\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"video download error\"\n      },\n      mse: {\n        code: 2,\n        msg: \"stream append error\"\n      },\n      parse: {\n        code: 3,\n        msg: \"parsing error\"\n      },\n      format: {\n        code: 4,\n        msg: \"wrong format\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"decoding error\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"grammatical errors\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"play timeout\"\n      },\n      other: {\n        code: 8,\n        msg: \"other errors\"\n      }\n    },\n    HAVE_NOTHING: \"There is no information on whether audio/video is ready\",\n    HAVE_METADATA: \"Audio/video metadata is ready \",\n    HAVE_CURRENT_DATA: \"Data about the current play location is available, but there is not enough data to play the next frame/millisecond\",\n    HAVE_FUTURE_DATA: \"Current and at least one frame of data is available\",\n    HAVE_ENOUGH_DATA: \"The available data is sufficient to start playing\",\n    NETWORK_EMPTY: \"Audio/video has not been initialized\",\n    NETWORK_IDLE: \"Audio/video is active and has been selected for resources, but no network is used\",\n    NETWORK_LOADING: \"The browser is downloading the data\",\n    NETWORK_NO_SOURCE: \"No audio/video source was found\",\n    MEDIA_ERR_ABORTED: \"The fetch process is aborted by the user\",\n    MEDIA_ERR_NETWORK: \"An error occurred while downloading\",\n    MEDIA_ERR_DECODE: \"An error occurred while decoding\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"Audio/video is not supported\",\n    REPLAY: \"Replay\",\n    ERROR: \"Network is offline\",\n    PLAY_TIPS: \"Play\",\n    PAUSE_TIPS: \"Pause\",\n    PLAYNEXT_TIPS: \"Play next\",\n    DOWNLOAD_TIPS: \"Download\",\n    ROTATE_TIPS: \"Rotate\",\n    RELOAD_TIPS: \"Reload\",\n    FULLSCREEN_TIPS: \"Fullscreen\",\n    EXITFULLSCREEN_TIPS: \"Exit fullscreen\",\n    CSSFULLSCREEN_TIPS: \"Cssfullscreen\",\n    EXITCSSFULLSCREEN_TIPS: \"Exit cssfullscreen\",\n    TEXTTRACK: \"Caption\",\n    PIP: \"PIP\",\n    SCREENSHOT: \"Screenshot\",\n    LIVE: \"LIVE\",\n    OFF: \"Off\",\n    OPEN: \"Open\",\n    MINI_DRAG: \"Click and hold to drag\",\n    MINISCREEN: \"Miniscreen\",\n    REFRESH_TIPS: \"Please Try\",\n    REFRESH: \"Refresh\",\n    FORWARD: \"forward\",\n    LIVE_TIP: \"Live\"\n  }\n};\nexport { EN as default };\n","var STATES = {\n  INITIAL: 1,\n  READY: 2,\n  ATTACHING: 3,\n  ATTACHED: 4,\n  NOTALLOW: 5,\n  RUNNING: 6,\n  ENDED: 7,\n  DESTROYED: 8\n};\nvar STATE_ARRAY = [\"ERROR\", \"INITIAL\", \"READY\", \"ATTACHING\", \"ATTACHED\", \"NOTALLOW\", \"RUNNING\", \"ENDED\", \"DESTROYED\"];\nexport { STATES, STATE_ARRAY };\n","import { inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport { EventEmitter } from \"eventemitter3\";\nvar store = {};\nvar instance = null;\nvar InstManager = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(InstManager2, _EventEmitter);\n  var _super = _createSuper(InstManager2);\n  function InstManager2() {\n    _classCallCheck(this, InstManager2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(InstManager2, [{\n    key: \"add\",\n    value: function add(player) {\n      if (!player) {\n        return;\n      }\n      store[player.playerId] = player;\n      if (Object.keys(store).length === 1) {\n        this.setActive(player.playerId, true);\n      }\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(player) {\n      if (!player) {\n        return;\n      }\n      player.isUserActive;\n      delete store[player.playerId];\n    }\n  }, {\n    key: \"_iterate\",\n    value: function _iterate(fn) {\n      var endEarly = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      for (var key in store) {\n        if (Object.prototype.hasOwnProperty.call(store, key)) {\n          var player = store[key];\n          if (endEarly) {\n            if (fn(player)) {\n              break;\n            }\n          } else {\n            fn(player);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      this._iterate(fn);\n    }\n  }, {\n    key: \"find\",\n    value: function find(fn) {\n      var result = null;\n      this._iterate(function(player) {\n        var flag = fn(player);\n        if (flag) {\n          result = player;\n        }\n        return flag;\n      }, true);\n      return result;\n    }\n  }, {\n    key: \"findAll\",\n    value: function findAll(fn) {\n      var results = [];\n      this._iterate(function(player) {\n        if (fn(player)) {\n          results.push(player);\n        }\n      });\n      return results;\n    }\n  }, {\n    key: \"setActive\",\n    value: function setActive(playerId) {\n      var isActive = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      if (!store[playerId]) {\n        return;\n      }\n      if (isActive) {\n        this.forEach(function(inst) {\n          if (playerId === inst.playerId) {\n            inst.isUserActive = true;\n            inst.isInstNext = false;\n          } else {\n            inst.isUserActive = false;\n          }\n        });\n      } else {\n        store[playerId].isUserActive = isActive;\n      }\n      return playerId;\n    }\n  }, {\n    key: \"getActiveId\",\n    value: function getActiveId() {\n      var keys = Object.keys(store);\n      for (var i = 0; i < keys.length; i++) {\n        var c = store[keys[i]];\n        if (c && c.isUserActive) {\n          return keys[i];\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"setNext\",\n    value: function setNext(playerId) {\n      var isNext = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      if (!store[playerId]) {\n        return;\n      }\n      if (isNext) {\n        this.forEach(function(inst) {\n          if (playerId === inst.playerId) {\n            inst.isUserActive = false;\n            inst.isInstNext = true;\n          } else {\n            inst.isInstNext = false;\n          }\n        });\n      } else {\n        store[playerId].isInstNext = isNext;\n      }\n      return playerId;\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      instance || (instance = new InstManager2());\n      return instance;\n    }\n  }]);\n  return InstManager2;\n}(EventEmitter);\nfunction checkPlayerRoot(root) {\n  var keys = Object.keys(store);\n  for (var i = 0; i < keys.length; i++) {\n    var p = store[keys[i]];\n    if (p.root === root) {\n      return p;\n    }\n  }\n  return null;\n}\nexport { InstManager, checkPlayerRoot };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck, assertThisInitialized as _assertThisInitialized, possibleConstructorReturn as _possibleConstructorReturn, get as _get, getPrototypeOf as _getPrototypeOf, objectSpread2 as _objectSpread2 } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport MediaProxy from \"./mediaProxy.js\";\nimport util, { checkIsCurrentVideo } from \"./utils/util.js\";\nexport { default as Util } from \"./utils/util.js\";\nimport sniffer from \"./utils/sniffer.js\";\nexport { default as Sniffer } from \"./utils/sniffer.js\";\nimport INDEXDB from \"./utils/database.js\";\nimport Errors from \"./error.js\";\nexport { default as Errors } from \"./error.js\";\nimport { CANPLAY, USER_ACTION, FULLSCREEN_CHANGE, READY, ERROR, LOADED_DATA, PLAY, URL_NULL, COMPLETE, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, SEEKED, DEFINITION_CHANGE, AFTER_DEFINITION_CHANGE, RESET, DESTROY, CSS_FULLSCREEN_CHANGE, PLAYER_FOCUS, PLAYER_BLUR, LOADING, VIDEO_RESIZE, REPLAY, PLAYNEXT } from \"./events.js\";\nimport * as events from \"./events.js\";\nexport { events as Events };\nimport { PLATER_ID, FULLSCREEN_EVENTS, GET_FULLSCREEN_API, EXIT_FULLSCREEN_API } from \"./constant.js\";\nimport { POSITIONS } from \"./plugin/plugin.js\";\nexport { default as Plugin } from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nexport { default as BasePlugin } from \"./plugin/basePlugin.js\";\nimport pluginsManager from \"./plugin/pluginsManager.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nexport { default as STATE_CLASS } from \"./stateClassMap.js\";\nimport getDefaultConfig from \"./defaultConfig.js\";\nimport { usePreset } from \"./plugin/preset.js\";\nimport hooksDescriptor, { runHooks, delHooksDescriptor, hook, useHooks, removeHooks, usePluginHooks, removePluginHooks } from \"./plugin/hooksDescriptor.js\";\nimport Controls from \"./plugins/controls/index.js\";\nimport XG_DEBUG, { bindDebug } from \"./utils/debug.js\";\nimport I18N from \"./lang/i18n.js\";\nexport { default as I18N } from \"./lang/i18n.js\";\nimport version from \"./version.js\";\nimport { STATES, STATE_ARRAY } from \"./state.js\";\nimport { InstManager, checkPlayerRoot } from \"./instManager.js\";\nvar PlAYER_HOOKS = [\"play\", \"pause\", \"replay\", \"retry\"];\nvar REAL_TIME_SPEED = 0;\nvar AVG_SPEED = 0;\nvar instManager = null;\nvar Player = /* @__PURE__ */ function(_MediaProxy) {\n  _inherits(Player2, _MediaProxy);\n  var _super = _createSuper(Player2);\n  function Player2(options) {\n    var _this;\n    _classCallCheck(this, Player2);\n    var _config = util.deepMerge(getDefaultConfig(), options);\n    _this = _super.call(this, _config);\n    _defineProperty(_assertThisInitialized(_this), \"canPlayFunc\", function() {\n      if (!_this.config) {\n        return;\n      }\n      var _this$config = _this.config, autoplay = _this$config.autoplay, defaultPlaybackRate = _this$config.defaultPlaybackRate;\n      XG_DEBUG.logInfo(\"player\", \"canPlayFunc, startTime\", _this.__startTime);\n      if (_this.__startTime > 0 && _this.duration > 0) {\n        _this.currentTime = _this.__startTime > _this.duration ? _this.duration : _this.__startTime;\n        _this.__startTime = -1;\n      }\n      _this.playbackRate = defaultPlaybackRate;\n      (autoplay || _this._useAutoplay) && _this.mediaPlay();\n      _this.off(CANPLAY, _this.canPlayFunc);\n      _this.removeClass(STATE_CLASS.ENTER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onFullscreenChange\", function(event, isFullScreen) {\n      var delayResize = function delayResize2() {\n        util.setTimeout(_assertThisInitialized(_this), function() {\n          _this.resize();\n        }, 100);\n      };\n      var fullEl = util.getFullScreenEl();\n      if (_this._fullActionFrom) {\n        _this._fullActionFrom = \"\";\n      } else {\n        _this.emit(USER_ACTION, {\n          eventType: \"system\",\n          action: \"switch_fullscreen\",\n          pluginName: \"player\",\n          currentTime: _this.currentTime,\n          duration: _this.duration,\n          props: [{\n            prop: \"fullscreen\",\n            from: true,\n            to: false\n          }]\n        });\n      }\n      var isVideo = checkIsCurrentVideo(fullEl, _this.playerId, PLATER_ID);\n      if (isFullScreen || fullEl && (fullEl === _this._fullscreenEl || isVideo)) {\n        delayResize();\n        !_this.config.closeFocusVideoFocus && _this.media.focus();\n        _this.fullscreen = true;\n        _this.changeFullStyle(_this.root, fullEl, STATE_CLASS.FULLSCREEN);\n        _this.emit(FULLSCREEN_CHANGE, true, _this._fullScreenOffset);\n        if (_this.cssfullscreen) {\n          _this.exitCssFullscreen();\n        }\n      } else if (_this.fullscreen) {\n        delayResize();\n        var _assertThisInitialize = _assertThisInitialized(_this), _fullScreenOffset = _assertThisInitialize._fullScreenOffset, config = _assertThisInitialize.config;\n        if (config.needFullscreenScroll) {\n          window.scrollTo(_fullScreenOffset.left, _fullScreenOffset.top);\n          util.setTimeout(_assertThisInitialized(_this), function() {\n            _this.fullscreen = false;\n            _this._fullScreenOffset = null;\n          }, 100);\n        } else {\n          !_this.config.closeFocusVideoFocus && _this.media.focus();\n          _this.fullscreen = false;\n          _this._fullScreenOffset = null;\n        }\n        if (!_this.cssfullscreen) {\n          _this.recoverFullStyle(_this.root, _this._fullscreenEl, STATE_CLASS.FULLSCREEN);\n        } else {\n          _this.removeClass(STATE_CLASS.FULLSCREEN);\n        }\n        _this._fullscreenEl = null;\n        _this.emit(FULLSCREEN_CHANGE, false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitbeginfullscreen\", function(e) {\n      _this._fullscreenEl = _this.media;\n      _this.onFullscreenChange(e, true);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWebkitendfullscreen\", function(e) {\n      _this.onFullscreenChange(e, false);\n    });\n    hooksDescriptor(_assertThisInitialized(_this), PlAYER_HOOKS);\n    _this.config = _config;\n    _this._pluginInfoId = util.generateSessionId();\n    bindDebug(_assertThisInitialized(_this));\n    var defaultPreset = _this.constructor.defaultPreset;\n    if (_this.config.presets.length) {\n      var defaultIdx = _this.config.presets.indexOf(\"default\");\n      if (defaultIdx >= 0 && defaultPreset) {\n        _this.config.presets[defaultIdx] = defaultPreset;\n      }\n    } else if (defaultPreset) {\n      _this.config.presets.push(defaultPreset);\n    }\n    _this.userTimer = null;\n    _this.waitTimer = null;\n    _this.handleSource = true;\n    _this._state = STATES.INITIAL;\n    _this.isError = false;\n    _this._hasStart = false;\n    _this.isSeeking = false;\n    _this.isCanplay = false;\n    _this._useAutoplay = false;\n    _this.__startTime = -1;\n    _this.rotateDeg = 0;\n    _this.isActive = false;\n    _this.fullscreen = false;\n    _this.cssfullscreen = false;\n    _this.isRotateFullscreen = false;\n    _this._fullscreenEl = null;\n    _this.timeSegments = [];\n    _this._cssfullscreenEl = null;\n    _this.curDefinition = null;\n    _this._orgCss = \"\";\n    _this._fullScreenOffset = null;\n    _this._videoHeight = 0;\n    _this._videoWidth = 0;\n    _this.videoPos = {\n      pi: 1,\n      scale: 0,\n      rotate: -1,\n      x: 0,\n      y: 0,\n      h: -1,\n      w: -1,\n      vy: 0,\n      vx: 0\n    };\n    _this.sizeInfo = {\n      width: 0,\n      height: 0,\n      left: 0,\n      top: 0\n    };\n    _this._accPlayed = {\n      t: 0,\n      acc: 0,\n      loopAcc: 0\n    };\n    _this._offsetInfo = {\n      currentTime: -1,\n      duration: 0\n    };\n    _this.innerContainer = null;\n    _this.controls = null;\n    _this.topBar = null;\n    _this.root = null;\n    _this.__i18n = I18N.init(_this._pluginInfoId);\n    if (sniffer.os.isAndroid && sniffer.osVersion > 0 && sniffer.osVersion < 6) {\n      _this.config.autoplay = false;\n    }\n    _this.database = new INDEXDB();\n    _this.isUserActive = false;\n    _this._onceSeekCanplay = null;\n    _this._isPauseBeforeSeek = 0;\n    _this.innerStates = {\n      isActiveLocked: false\n    };\n    _this.instManager = instManager;\n    var rootInit = _this._initDOM();\n    if (!rootInit) {\n      console.error(new Error(\"can't find the dom which id is \".concat(_this.config.id, \" or this.config.el does not exist\")));\n      return _possibleConstructorReturn(_this);\n    }\n    var _this$config2 = _this.config, _this$config2$definit = _this$config2.definition, definition = _this$config2$definit === void 0 ? {} : _this$config2$definit, url = _this$config2.url;\n    if (!url && definition.list && definition.list.length > 0) {\n      var defaultDefinitionObj = definition.list.find(function(e) {\n        return e.definition && e.definition === definition.defaultDefinition;\n      });\n      if (!defaultDefinitionObj) {\n        definition.defaultDefinition = definition.list[0].definition;\n        defaultDefinitionObj = definition.list[0];\n      }\n      _this.config.url = defaultDefinitionObj.url;\n      _this.curDefinition = defaultDefinitionObj;\n    }\n    _this._bindEvents();\n    _this._registerPresets();\n    _this._registerPlugins();\n    pluginsManager.onPluginsReady(_assertThisInitialized(_this));\n    _this.getInitDefinition();\n    _this.setState(STATES.READY);\n    util.setTimeout(_assertThisInitialized(_this), function() {\n      _this.emit(READY);\n    }, 0);\n    _this.onReady && _this.onReady();\n    if (_this.config.videoInit || _this.config.autoplay) {\n      if (!_this.hasStart || _this.state < STATES.ATTACHED) {\n        _this.start();\n      }\n    }\n    return _this;\n  }\n  _createClass(Player2, [{\n    key: \"_initDOM\",\n    value: function _initDOM() {\n      var _instManager, _this2 = this;\n      this.root = this.config.id ? document.getElementById(this.config.id) : null;\n      if (!this.root) {\n        var el = this.config.el;\n        if (el && el.nodeType === 1) {\n          this.root = el;\n        } else {\n          this.emit(ERROR, new Errors(\"use\", this.config.vid, {\n            line: 32,\n            handle: \"Constructor\",\n            msg: \"container id can't be empty\"\n          }));\n          console.error(\"this.confg.id or this.config.el can't be empty\");\n          return false;\n        }\n      }\n      var ret = checkPlayerRoot(this.root);\n      if (ret) {\n        XG_DEBUG.logWarn(\"The is an Player instance already exists in this.root, destroy it and reinitialize\");\n        ret.destroy();\n      }\n      this.root.setAttribute(PLATER_ID, this.playerId);\n      (_instManager = instManager) === null || _instManager === void 0 ? void 0 : _instManager.add(this);\n      pluginsManager.init(this);\n      this._initBaseDoms();\n      var XgVideoProxy = this.constructor.XgVideoProxy;\n      if (XgVideoProxy && this.mediaConfig.mediaType === XgVideoProxy.mediaType) {\n        var _el = this.innerContainer || this.root;\n        this.detachVideoEvents(this.media);\n        var _nVideo = new XgVideoProxy(_el, this.config, this.mediaConfig);\n        this.attachVideoEvents(_nVideo);\n        this.media = _nVideo;\n      }\n      this.media.setAttribute(PLATER_ID, this.playerId);\n      if (this.config.controls) {\n        var _root = this.config.controls.root || null;\n        var controls = pluginsManager.register(this, Controls, {\n          root: _root\n        });\n        this.controls = controls;\n      }\n      var device = this.config.isMobileSimulateMode === \"mobile\" ? \"mobile\" : sniffer.device;\n      this.addClass(\"\".concat(STATE_CLASS.DEFAULT, \" \").concat(STATE_CLASS.INACTIVE, \" xgplayer-\").concat(device, \" \").concat(this.config.controls ? \"\" : STATE_CLASS.NO_CONTROLS));\n      if (this.config.autoplay) {\n        this.addClass(STATE_CLASS.ENTER);\n      } else {\n        this.addClass(STATE_CLASS.NO_START);\n      }\n      if (this.config.fluid) {\n        var _this$config3 = this.config, _width = _this$config3.width, _height = _this$config3.height;\n        if (typeof _width !== \"number\" || typeof _height !== \"number\") {\n          _width = 600;\n          _height = 337.5;\n        }\n        var style = {\n          width: \"100%\",\n          height: \"0\",\n          \"max-width\": \"100%\",\n          \"padding-top\": \"\".concat(_height * 100 / _width, \"%\")\n        };\n        Object.keys(style).forEach(function(key) {\n          _this2.root.style[key] = style[key];\n        });\n      } else {\n        [\"width\", \"height\"].forEach(function(key) {\n          if (_this2.config[key]) {\n            if (typeof _this2.config[key] !== \"number\") {\n              _this2.root.style[key] = _this2.config[key];\n            } else {\n              _this2.root.style[key] = \"\".concat(_this2.config[key], \"px\");\n            }\n          }\n        });\n      }\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, left = _this$root$getBoundin.left, top = _this$root$getBoundin.top;\n      this.sizeInfo.width = width;\n      this.sizeInfo.height = height;\n      this.sizeInfo.left = left;\n      this.sizeInfo.top = top;\n      return true;\n    }\n  }, {\n    key: \"_initBaseDoms\",\n    value: function _initBaseDoms() {\n      this.topBar = null;\n      this.leftBar = null;\n      this.rightBar = null;\n      if (this.config.marginControls) {\n        this.innerContainer = util.createDom(\"xg-video-container\", \"\", {\n          \"data-index\": -1\n        }, \"xg-video-container\");\n        this.root.appendChild(this.innerContainer);\n      }\n    }\n  }, {\n    key: \"_bindEvents\",\n    value: function _bindEvents() {\n      var _this3 = this;\n      [\"focus\", \"blur\"].forEach(function(item) {\n        _this3.on(item, _this3[\"on\" + item.charAt(0).toUpperCase() + item.slice(1)]);\n      });\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document && document.addEventListener(item, _this3.onFullscreenChange);\n      });\n      if (sniffer.os.isIos) {\n        this.media.addEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n        this.media.addEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n      }\n      this.once(LOADED_DATA, this.resize);\n      this.playFunc = function() {\n        if (!_this3.config.closeFocusVideoFocus) {\n          _this3.media.focus();\n        }\n      };\n      this.once(PLAY, this.playFunc);\n    }\n  }, {\n    key: \"_unbindEvents\",\n    value: function _unbindEvents() {\n      var _this4 = this;\n      this.root.removeEventListener(\"mousemove\", this.mousemoveFunc);\n      FULLSCREEN_EVENTS.forEach(function(item) {\n        document.removeEventListener(item, _this4.onFullscreenChange);\n      });\n      this.playFunc && this.off(PLAY, this.playFunc);\n      this.off(CANPLAY, this.canPlayFunc);\n      this.media.removeEventListener(\"webkitbeginfullscreen\", this._onWebkitbeginfullscreen);\n      this.media.removeEventListener(\"webkitendfullscreen\", this._onWebkitendfullscreen);\n    }\n  }, {\n    key: \"_clearUserTimer\",\n    value: function _clearUserTimer() {\n      if (!this.userTimer) {\n        return;\n      }\n      util.clearTimeout(this, this.userTimer);\n      this.userTimer = null;\n    }\n  }, {\n    key: \"_startInit\",\n    value: function _startInit(url) {\n      var _this5 = this;\n      if (!this.media) {\n        return;\n      }\n      if (!url || url === \"\" || util.typeOf(url) === \"Array\" && url.length === 0) {\n        url = \"\";\n        this.emit(URL_NULL);\n        XG_DEBUG.logWarn(\"config.url is null, please get url and run player._startInit(url)\");\n        if (this.config.nullUrlStart) {\n          return;\n        }\n      }\n      if (this.handleSource) {\n        this._detachSourceEvents(this.media);\n        if (util.typeOf(url) === \"Array\" && url.length > 0) {\n          this._attachSourceEvents(this.media, url);\n        } else if (!this.media.src || this.media.src !== url) {\n          this.media.src = url;\n        } else if (!url) {\n          this.media.removeAttribute(\"src\");\n        }\n      }\n      if (util.typeOf(this.config.volume) === \"Number\") {\n        this.volume = this.config.volume;\n      }\n      var _root = this.innerContainer ? this.innerContainer : this.root;\n      if (this.media instanceof window.Element && !_root.contains(this.media)) {\n        _root.insertBefore(this.media, _root.firstChild);\n      }\n      var readyState = this.media.readyState;\n      XG_DEBUG.logInfo(\"_startInit readyState\", readyState);\n      if (this.config.autoplay) {\n        !util.isMSE(this.media) && this.load();\n        (sniffer.os.isIpad || sniffer.os.isPhone) && this.mediaPlay();\n      }\n      var startTime = this.config.startTime;\n      this.__startTime = startTime > 0 ? startTime : -1;\n      this.config.startTime = 0;\n      if (readyState >= 2 && this.duration > 0) {\n        this.canPlayFunc();\n      } else {\n        this.on(CANPLAY, this.canPlayFunc);\n      }\n      if (!this.hasStart || this.state < STATES.ATTACHED) {\n        pluginsManager.afterInit(this);\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHED);\n      util.setTimeout(this, function() {\n        _this5.emit(COMPLETE);\n      }, 0);\n    }\n  }, {\n    key: \"_registerPlugins\",\n    value: function _registerPlugins() {\n      var _this6 = this;\n      var isInit = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this._loadingPlugins = [];\n      var ignores = this.config.ignores || [];\n      var plugins = this.config.plugins || [];\n      var i18n = this.config.i18n || [];\n      isInit && I18N.extend(i18n, this.__i18n);\n      var ignoresStr = ignores.join(\"||\").toLowerCase().split(\"||\");\n      var cuPlugins = this.plugins;\n      plugins.forEach(function(plugin) {\n        try {\n          var pluginName = plugin.plugin ? plugin.plugin.pluginName : plugin.pluginName;\n          if (pluginName && ignoresStr.indexOf(pluginName.toLowerCase()) > -1) {\n            return null;\n          }\n          if (!isInit && cuPlugins[pluginName.toLowerCase()]) {\n            return;\n          }\n          if (plugin.lazy && plugin.loader) {\n            var loadingPlugin = pluginsManager.lazyRegister(_this6, plugin);\n            if (plugin.forceBeforeInit) {\n              loadingPlugin.then(function() {\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              }).catch(function(e) {\n                XG_DEBUG.logError(\"_registerPlugins:loadingPlugin\", e);\n                _this6._loadingPlugins.splice(_this6._loadingPlugins.indexOf(loadingPlugin), 1);\n              });\n              _this6._loadingPlugins.push(loadingPlugin);\n            }\n            return;\n          }\n          return _this6.registerPlugin(plugin);\n        } catch (err) {\n          XG_DEBUG.logError(\"_registerPlugins:\", err);\n        }\n      });\n    }\n  }, {\n    key: \"_registerPresets\",\n    value: function _registerPresets() {\n      var _this7 = this;\n      this.config.presets.forEach(function(preset) {\n        usePreset(_this7, preset);\n      });\n    }\n  }, {\n    key: \"_getRootByPosition\",\n    value: function _getRootByPosition(position) {\n      var _root = null;\n      switch (position) {\n        case POSITIONS.ROOT_RIGHT:\n          if (!this.rightBar) {\n            this.rightBar = util.createPositionBar(\"xg-right-bar\", this.root);\n          }\n          _root = this.rightBar;\n          break;\n        case POSITIONS.ROOT_LEFT:\n          if (!this.leftBar) {\n            this.leftBar = util.createPositionBar(\"xg-left-bar\", this.root);\n          }\n          _root = this.leftBar;\n          break;\n        case POSITIONS.ROOT_TOP:\n          if (!this.topBar) {\n            this.topBar = util.createPositionBar(\"xg-top-bar\", this.root);\n            if (this.config.topBarAutoHide) {\n              util.addClass(this.topBar, STATE_CLASS.TOP_BAR_AUTOHIDE);\n            }\n          }\n          _root = this.topBar;\n          break;\n        default:\n          _root = this.innerContainer || this.root;\n          break;\n      }\n      return _root;\n    }\n  }, {\n    key: \"registerPlugin\",\n    value: function registerPlugin(plugin, config) {\n      var _retPlugin = pluginsManager.formatPluginInfo(plugin, config);\n      var PLUFGIN = _retPlugin.PLUFGIN, options = _retPlugin.options;\n      var plugins = this.config.plugins;\n      var exits = pluginsManager.checkPluginIfExits(PLUFGIN.pluginName, plugins);\n      !exits && plugins.push(PLUFGIN);\n      var _pConfig = pluginsManager.getRootByConfig(PLUFGIN.pluginName, this.config);\n      _pConfig.root && (options.root = _pConfig.root);\n      _pConfig.position && (options.position = _pConfig.position);\n      var position = options.position ? options.position : options.config && options.config.position || PLUFGIN.defaultConfig && PLUFGIN.defaultConfig.position;\n      if (!options.root && typeof position === \"string\" && position.indexOf(\"controls\") > -1) {\n        return this.controls && this.controls.registerPlugin(PLUFGIN, options, PLUFGIN.pluginName);\n      }\n      if (!options.root) {\n        options.root = this._getRootByPosition(position);\n      }\n      return pluginsManager.register(this, PLUFGIN, options);\n    }\n  }, {\n    key: \"deregister\",\n    value: function deregister(plugin) {\n      if (typeof plugin === \"string\") {\n        pluginsManager.unRegister(this, plugin);\n      } else if (plugin instanceof BasePlugin) {\n        pluginsManager.unRegister(this, plugin.pluginName);\n      }\n    }\n  }, {\n    key: \"unRegisterPlugin\",\n    value: function unRegisterPlugin(plugin) {\n      var removedFromConfig = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n      this.deregister(plugin);\n      if (removedFromConfig) {\n        this.removePluginFromConfig(plugin);\n      }\n    }\n  }, {\n    key: \"removePluginFromConfig\",\n    value: function removePluginFromConfig(plugin) {\n      var pluginName;\n      if (typeof plugin === \"string\") {\n        pluginName = plugin;\n      } else if (plugin instanceof BasePlugin) {\n        pluginName = plugin.pluginName;\n      }\n      if (!pluginName) {\n        return;\n      }\n      for (var i = this.config.plugins.length - 1; i > -1; i--) {\n        var _plugin = this.config.plugins[i];\n        if (_plugin.pluginName.toLowerCase() === pluginName.toLowerCase()) {\n          this.config.plugins.splice(i, 1);\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"plugins\",\n    get: function get() {\n      return pluginsManager.getPlugins(this);\n    }\n  }, {\n    key: \"getPlugin\",\n    value: function getPlugin(pluginName) {\n      var plugin = pluginsManager.findPlugin(this, pluginName);\n      return plugin && plugin.pluginName ? plugin : null;\n    }\n  }, {\n    key: \"addClass\",\n    value: function addClass(className) {\n      if (!this.root) {\n        return;\n      }\n      if (!util.hasClass(this.root, className)) {\n        util.addClass(this.root, className);\n      }\n    }\n  }, {\n    key: \"removeClass\",\n    value: function removeClass(className) {\n      if (!this.root) {\n        return;\n      }\n      util.removeClass(this.root, className);\n    }\n  }, {\n    key: \"hasClass\",\n    value: function hasClass(className) {\n      if (!this.root) {\n        return;\n      }\n      return util.hasClass(this.root, className);\n    }\n  }, {\n    key: \"setAttribute\",\n    value: function setAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.setAttribute(key, value);\n    }\n  }, {\n    key: \"removeAttribute\",\n    value: function removeAttribute(key, value) {\n      if (!this.root) {\n        return;\n      }\n      this.root.removeAttribute(key, value);\n    }\n  }, {\n    key: \"start\",\n    value: function start(url) {\n      var _this8 = this;\n      if (this.state > STATES.ATTACHING) {\n        return;\n      }\n      if (!url && !this.config.url) {\n        this.getInitDefinition();\n      }\n      this.hasStart = true;\n      this.setState(STATES.ATTACHING);\n      this._registerPlugins(false);\n      return pluginsManager.beforeInit(this).then(function() {\n        if (!_this8.config) {\n          return;\n        }\n        if (!url) {\n          url = _this8.url || _this8.config.url;\n        }\n        var _furl = _this8._preProcessUrl(url);\n        var ret = _this8._startInit(_furl.url);\n        return ret;\n      }).catch(function(e) {\n        e.fileName = \"player\";\n        e.lineNumber = \"236\";\n        XG_DEBUG.logError(\"start:beforeInit:\", e);\n        throw e;\n      });\n    }\n  }, {\n    key: \"switchURL\",\n    value: function switchURL(url, options) {\n      var _this9 = this;\n      var _src = url;\n      if (util.typeOf(url) === \"Object\") {\n        _src = url.url;\n      }\n      _src = this._preProcessUrl(_src).url;\n      var curTime = this.currentTime;\n      this.__startTime = curTime;\n      var isPaused = this.paused && !this.isError;\n      this.src = _src;\n      return new Promise(function(resolve, reject) {\n        var _error = function _error2(e) {\n          _this9.off(\"timeupdate\", _canplay);\n          _this9.off(\"canplay\", _canplay);\n          reject(e);\n        };\n        var _canplay = function _canplay2() {\n          if (_this9.duration > 0 && _this9.__startTime > 0) {\n            _this9.currentTime = _this9.__startTime;\n            _this9.__startTime = -1;\n          }\n          if (isPaused) {\n            _this9.pause();\n          }\n          _this9.off(\"error\", _error);\n          resolve(true);\n        };\n        _this9.once(\"error\", _error);\n        if (!_src) {\n          _this9.errorHandler(\"error\", {\n            code: 6,\n            message: \"empty_src\"\n          });\n          return;\n        }\n        if (sniffer.os.isAndroid) {\n          _this9.once(\"timeupdate\", _canplay);\n        } else {\n          _this9.once(\"canplay\", _canplay);\n        }\n        _this9.play();\n      });\n    }\n  }, {\n    key: \"videoPlay\",\n    value: function videoPlay() {\n      this.mediaPlay();\n    }\n  }, {\n    key: \"mediaPlay\",\n    value: function mediaPlay() {\n      var _this10 = this;\n      if (!this.hasStart && this.state < STATES.ATTACHED) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.addClass(STATE_CLASS.ENTER);\n        this.start();\n        this._useAutoplay = true;\n        return;\n      }\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        !this.isCanplay && this.addClass(STATE_CLASS.ENTER);\n      }\n      var playPromise = _get(_getPrototypeOf(Player2.prototype), \"play\", this).call(this);\n      if (playPromise !== void 0 && playPromise && playPromise.then) {\n        playPromise.then(function() {\n          _this10.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          _this10.addClass(STATE_CLASS.PLAYING);\n          if (_this10.state < STATES.RUNNING) {\n            XG_DEBUG.logInfo(\">>>>playPromise.then\");\n            _this10.setState(STATES.RUNNING);\n            _this10.emit(AUTOPLAY_STARTED);\n          }\n        }).catch(function(e) {\n          XG_DEBUG.logWarn(\">>>>playPromise.catch\", e.name);\n          if (_this10.media && _this10.media.error) {\n            _this10.onError();\n            _this10.removeClass(STATE_CLASS.ENTER);\n            return;\n          }\n          if (e.name === \"NotAllowedError\") {\n            _this10._errorTimer = util.setTimeout(_this10, function() {\n              _this10._errorTimer = null;\n              _this10.emit(AUTOPLAY_PREVENTED);\n              _this10.addClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n              _this10.removeClass(STATE_CLASS.ENTER);\n              _this10.pause();\n              _this10.setState(STATES.NOTALLOW);\n            }, 0);\n          }\n        });\n      } else {\n        XG_DEBUG.logWarn(\"video.play not return promise\");\n        if (this.state < STATES.RUNNING) {\n          this.setState(STATES.RUNNING);\n          this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n          this.removeClass(STATE_CLASS.NO_START);\n          this.removeClass(STATE_CLASS.ENTER);\n          this.addClass(STATE_CLASS.PLAYING);\n          this.emit(AUTOPLAY_STARTED);\n        }\n      }\n      return playPromise;\n    }\n  }, {\n    key: \"mediaPause\",\n    value: function mediaPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"videoPause\",\n    value: function videoPause() {\n      _get(_getPrototypeOf(Player2.prototype), \"pause\", this).call(this);\n    }\n  }, {\n    key: \"play\",\n    value: function play() {\n      var _this11 = this;\n      this.removeClass(STATE_CLASS.PAUSED);\n      return runHooks(this, \"play\", function() {\n        return _this11.mediaPlay();\n      });\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var _this12 = this;\n      runHooks(this, \"pause\", function() {\n        _get(_getPrototypeOf(Player2.prototype), \"pause\", _this12).call(_this12);\n      });\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(time, status) {\n      var _this13 = this;\n      if (!this.media || Number.isNaN(Number(time)) || !this.hasStart) {\n        return;\n      }\n      var _this$config4 = this.config, isSeekedPlay = _this$config4.isSeekedPlay, seekedStatus = _this$config4.seekedStatus;\n      var _status = status || (isSeekedPlay ? \"play\" : seekedStatus);\n      time = time < 0 ? 0 : time > this.duration ? parseInt(this.duration, 10) : time;\n      !this._isPauseBeforeSeek && (this._isPauseBeforeSeek = this.paused ? 2 : 1);\n      this._onceSeekCanplay && this.off(SEEKED, this._onceSeekCanplay);\n      this._onceSeekCanplay = function() {\n        _this13.removeClass(STATE_CLASS.ENTER);\n        _this13.isSeeking = false;\n        switch (_status) {\n          case \"play\":\n            _this13.play();\n            break;\n          case \"pause\":\n            _this13.pause();\n            break;\n          default:\n            _this13._isPauseBeforeSeek > 1 || _this13.paused ? _this13.pause() : _this13.play();\n        }\n        _this13._isPauseBeforeSeek = 0;\n        _this13._onceSeekCanplay = null;\n      };\n      this.once(SEEKED, this._onceSeekCanplay);\n      if (this.state < STATES.RUNNING) {\n        this.removeClass(STATE_CLASS.NO_START);\n        this.currentTime = time;\n        this.play();\n      } else {\n        this.currentTime = time;\n      }\n    }\n  }, {\n    key: \"getInitDefinition\",\n    value: function getInitDefinition() {\n      var _this14 = this;\n      var _this$config5 = this.config, definition = _this$config5.definition, url = _this$config5.url;\n      if (!url && definition && definition.list && definition.list.length > 0 && definition.defaultDefinition) {\n        definition.list.map(function(item) {\n          if (item.definition === definition.defaultDefinition) {\n            _this14.config.url = item.url;\n            _this14.curDefinition = item;\n          }\n        });\n      }\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      var _this15 = this;\n      var definition = this.config.definition;\n      if (Array.isArray(definition === null || definition === void 0 ? void 0 : definition.list)) {\n        definition.list.forEach(function(item) {\n          if ((to === null || to === void 0 ? void 0 : to.definition) === item.definition) {\n            _this15.curDefinition = item;\n          }\n        });\n      }\n      if (to !== null && to !== void 0 && to.bitrate && typeof to.bitrate !== \"number\") {\n        to.bitrate = parseInt(to.bitrate, 10) || 0;\n      }\n      this.emit(DEFINITION_CHANGE, {\n        from,\n        to\n      });\n      if (!this.hasStart) {\n        this.config.url = to.url;\n        return;\n      }\n      var ret = this.switchURL(to.url, _objectSpread2({\n        seamless: definition.seamless !== false && typeof MediaSource !== \"undefined\" && typeof MediaSource.isTypeSupported === \"function\"\n      }, to));\n      if (ret && ret.then) {\n        ret.then(function() {\n          _this15.emit(AFTER_DEFINITION_CHANGE, {\n            from,\n            to\n          });\n        });\n      } else {\n        this.emit(AFTER_DEFINITION_CHANGE, {\n          from,\n          to\n        });\n      }\n    }\n  }, {\n    key: \"reload\",\n    value: function reload() {\n      this.load();\n      this.reloadFunc = function() {\n        this.play();\n      };\n      this.once(LOADED_DATA, this.reloadFunc);\n    }\n  }, {\n    key: \"resetState\",\n    value: function resetState() {\n      var _this16 = this;\n      var NOT_ALLOW_AUTOPLAY = STATE_CLASS.NOT_ALLOW_AUTOPLAY, PLAYING = STATE_CLASS.PLAYING, NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, REPLAY2 = STATE_CLASS.REPLAY, ENTER = STATE_CLASS.ENTER, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, LOADING2 = STATE_CLASS.LOADING;\n      var clsList = [NOT_ALLOW_AUTOPLAY, PLAYING, NO_START, PAUSED, REPLAY2, ENTER, ENDED, ERROR2, LOADING2];\n      this.hasStart = false;\n      this.isError = false;\n      this._useAutoplay = false;\n      this.mediaPause();\n      this._accPlayed.acc = 0;\n      this._accPlayed.t = 0;\n      this._accPlayed.loopAcc = 0;\n      clsList.forEach(function(cls) {\n        _this16.removeClass(cls);\n      });\n      this.addClass(STATE_CLASS.NO_START);\n      this.emit(RESET);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this17 = this;\n      var unregisterPlugins = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var isResetConfig = arguments.length > 1 ? arguments[1] : void 0;\n      this.resetState();\n      var plugins = this.plugins;\n      if (!plugins) {\n        return;\n      }\n      unregisterPlugins.map(function(pn) {\n        _this17.deregister(pn);\n      });\n      if (isResetConfig) {\n        var de = getDefaultConfig();\n        Object.keys(this.config).keys(function(k) {\n          if (_this17.config[k] !== \"undefined\" && (k === \"plugins\" || k === \"presets\" || k === \"el\" || k === \"id\")) {\n            _this17.config[k] = de[k];\n          }\n        });\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _instManager2, _this18 = this;\n      var innerContainer = this.innerContainer, root = this.root, media = this.media;\n      if (!root || !media) {\n        return;\n      }\n      this.hasStart = false;\n      this._useAutoplay = false;\n      root.removeAttribute(PLATER_ID);\n      this.updateAcc(\"destroy\");\n      this._unbindEvents();\n      this._detachSourceEvents(this.media);\n      util.clearAllTimers(this);\n      this.emit(DESTROY);\n      (_instManager2 = instManager) === null || _instManager2 === void 0 ? void 0 : _instManager2.remove(this);\n      pluginsManager.destroy(this);\n      delHooksDescriptor(this);\n      _get(_getPrototypeOf(Player2.prototype), \"destroy\", this).call(this);\n      if (this.fullscreen && this._fullscreenEl === this.root) {\n        this.exitFullscreen();\n      }\n      if (innerContainer) {\n        var _c = innerContainer.children;\n        for (var i = 0; i < _c.length; i++) {\n          innerContainer.removeChild(_c[i]);\n        }\n      }\n      !innerContainer && media instanceof window.Node && root.contains(media) && root.removeChild(media);\n      [\"topBar\", \"leftBar\", \"rightBar\", \"innerContainer\"].map(function(item) {\n        _this18[item] && root.removeChild(_this18[item]);\n        _this18[item] = null;\n      });\n      var cList = root.className.split(\" \");\n      if (cList.length > 0) {\n        root.className = cList.filter(function(name) {\n          return name.indexOf(\"xgplayer\") < 0;\n        }).join(\" \");\n      } else {\n        root.className = \"\";\n      }\n      this.removeAttribute(\"data-xgfill\");\n      [\"isSeeking\", \"isCanplay\", \"isActive\", \"cssfullscreen\", \"fullscreen\"].forEach(function(key) {\n        _this18[key] = false;\n      });\n    }\n  }, {\n    key: \"replay\",\n    value: function replay() {\n      var _this19 = this;\n      this.removeClass(STATE_CLASS.ENDED);\n      this.currentTime = 0;\n      this.isSeeking = false;\n      runHooks(this, \"replay\", function() {\n        _this19.once(SEEKED, function() {\n          var playPromise = _this19.mediaPlay();\n          if (playPromise && playPromise.catch) {\n            playPromise.catch(function(err) {\n              console.log(err);\n            });\n          }\n        });\n        _this19.emit(REPLAY);\n        _this19.onPlay();\n      });\n    }\n  }, {\n    key: \"retry\",\n    value: function retry() {\n      var _this20 = this;\n      this.removeClass(STATE_CLASS.ERROR);\n      this.addClass(STATE_CLASS.LOADING);\n      runHooks(this, \"retry\", function() {\n        var cur = _this20.currentTime;\n        var url = _this20.config.url;\n        var _srcRet = !util.isMSE(_this20.media) ? _this20._preProcessUrl(url) : {\n          url\n        };\n        _this20.src = _srcRet.url;\n        !_this20.config.isLive && (_this20.currentTime = cur);\n        _this20.once(CANPLAY, function() {\n          _this20.mediaPlay();\n        });\n      });\n    }\n  }, {\n    key: \"changeFullStyle\",\n    value: function changeFullStyle(root, el, rootClass, pClassName) {\n      if (!root) {\n        return;\n      }\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (!this._orgCss) {\n        this._orgCss = util.filterStyleFromText(root);\n      }\n      util.addClass(root, rootClass);\n      if (el && el !== root && !this._orgPCss) {\n        this._orgPCss = util.filterStyleFromText(el);\n        util.addClass(el, pClassName);\n        el.setAttribute(PLATER_ID, this.playerId);\n      }\n    }\n  }, {\n    key: \"recoverFullStyle\",\n    value: function recoverFullStyle(root, el, rootClass, pClassName) {\n      if (!pClassName) {\n        pClassName = STATE_CLASS.PARENT_FULLSCREEN;\n      }\n      if (this._orgCss) {\n        util.setStyleFromCsstext(root, this._orgCss);\n        this._orgCss = \"\";\n      }\n      util.removeClass(root, rootClass);\n      if (el && el !== root && this._orgPCss) {\n        util.setStyleFromCsstext(el, this._orgPCss);\n        this._orgPCss = \"\";\n        util.removeClass(el, pClassName);\n        el.removeAttribute(PLATER_ID);\n      }\n    }\n  }, {\n    key: \"getFullscreen\",\n    value: function getFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      var root = this.root, media = this.media;\n      if (!el) {\n        el = root;\n      }\n      this._fullScreenOffset = {\n        top: util.scrollTop(),\n        left: util.scrollLeft()\n      };\n      this._fullscreenEl = el;\n      this._fullActionFrom = \"get\";\n      var fullEl = util.getFullScreenEl();\n      if (fullEl === this._fullscreenEl) {\n        this.onFullscreenChange();\n        return Promise.resolve();\n      }\n      try {\n        for (var i = 0; i < GET_FULLSCREEN_API.length; i++) {\n          var key = GET_FULLSCREEN_API[i];\n          if (el[key]) {\n            var ret = key === \"webkitRequestFullscreen\" ? el.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT) : el[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media.fullscreenEnabled || media.webkitSupportsFullscreen) {\n          media.webkitEnterFullscreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call getFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(el) {\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      }\n      if (!this._fullscreenEl && !util.getFullScreenEl()) {\n        return;\n      }\n      this.root;\n      var media = this.media;\n      this._fullActionFrom = \"exit\";\n      try {\n        for (var i = 0; i < EXIT_FULLSCREEN_API.length; i++) {\n          var key = EXIT_FULLSCREEN_API[i];\n          if (document[key]) {\n            var ret = document[key]();\n            if (ret && ret.then) {\n              return ret;\n            } else {\n              return Promise.resolve();\n            }\n          }\n        }\n        if (media && media.webkitSupportsFullscreen) {\n          media.webkitExitFullScreen();\n          return Promise.resolve();\n        }\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      } catch (err) {\n        return Promise.reject(new Error(\"call exitFullscreen fail\"));\n      }\n    }\n  }, {\n    key: \"getCssFullscreen\",\n    value: function getCssFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.isRotateFullscreen) {\n        this.exitRotateFullscreen();\n      } else if (this.fullscreen) {\n        this.exitFullscreen();\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      this.changeFullStyle(this.root, el, _class);\n      var _this$config$fullscre = this.config.fullscreen, fullscreen = _this$config$fullscre === void 0 ? {} : _this$config$fullscre;\n      var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n      if (useCssFullscreen) {\n        this.fullscreen = true;\n        this.emit(FULLSCREEN_CHANGE, true);\n      }\n      this._cssfullscreenEl = el;\n      this.cssfullscreen = true;\n      this.emit(CSS_FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitCssFullscreen\",\n    value: function exitCssFullscreen() {\n      var _class = this._cssfullscreenEl ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.CSS_FULLSCREEN) : STATE_CLASS.CSS_FULLSCREEN;\n      if (!this.fullscreen) {\n        this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n      } else {\n        var _this$config$fullscre2 = this.config.fullscreen, fullscreen = _this$config$fullscre2 === void 0 ? {} : _this$config$fullscre2;\n        var useCssFullscreen = fullscreen.useCssFullscreen === true || typeof fullscreen.useCssFullscreen === \"function\" && fullscreen.useCssFullscreen();\n        if (useCssFullscreen) {\n          this.recoverFullStyle(this.root, this._cssfullscreenEl, _class);\n          this.fullscreen = false;\n          this.emit(FULLSCREEN_CHANGE, false);\n        } else {\n          this.removeClass(_class);\n        }\n      }\n      this._cssfullscreenEl = null;\n      this.cssfullscreen = false;\n      this.emit(CSS_FULLSCREEN_CHANGE, false);\n    }\n  }, {\n    key: \"getRotateFullscreen\",\n    value: function getRotateFullscreen() {\n      var el = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.fullscreenTarget;\n      if (this.cssfullscreen) {\n        this.exitCssFullscreen(el);\n      }\n      var _class = el ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this._fullscreenEl = el || this.root;\n      this.changeFullStyle(this.root, el, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = true;\n      this.fullscreen = true;\n      this.setRotateDeg(90);\n      this._rootStyle = this.root.getAttribute(\"style\");\n      this.root.style.width = \"\".concat(window.innerHeight, \"px\");\n      this.emit(FULLSCREEN_CHANGE, true);\n    }\n  }, {\n    key: \"exitRotateFullscreen\",\n    value: function exitRotateFullscreen(el) {\n      var _class = this._fullscreenEl !== this.root ? \"\".concat(STATE_CLASS.INNER_FULLSCREEN, \" \").concat(STATE_CLASS.ROTATE_FULLSCREEN) : STATE_CLASS.ROTATE_FULLSCREEN;\n      this.recoverFullStyle(this.root, this._fullscreenEl, _class, STATE_CLASS.PARENT_ROTATE_FULLSCREEN);\n      this.isRotateFullscreen = false;\n      this.fullscreen = false;\n      this.setRotateDeg(0);\n      this.emit(FULLSCREEN_CHANGE, false);\n      if (this._rootStyle) {\n        this.root.style.style = this._rootStyle;\n        this._rootStyle = false;\n      }\n    }\n  }, {\n    key: \"setRotateDeg\",\n    value: function setRotateDeg(deg) {\n      if (window.orientation === 90 || window.orientation === -90) {\n        this.rotateDeg = 0;\n      } else {\n        this.rotateDeg = deg;\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: !this.config.closeDelayBlur,\n        delay: this.config.inactive\n      };\n      if (this.isActive) {\n        this.onFocus(data);\n        return;\n      }\n      this.emit(PLAYER_FOCUS, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        ignorePaused: false\n      };\n      if (!this.isActive) {\n        this.onBlur(data);\n        return;\n      }\n      this._clearUserTimer();\n      this.emit(PLAYER_BLUR, _objectSpread2({\n        paused: this.paused,\n        ended: this.ended\n      }, data));\n    }\n  }, {\n    key: \"onFocus\",\n    value: function onFocus() {\n      var _this21 = this;\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        autoHide: true,\n        delay: 3e3\n      };\n      var innerStates = this.innerStates;\n      this.isActive = true;\n      this.removeClass(STATE_CLASS.INACTIVE);\n      this._clearUserTimer();\n      if (data.isLock !== void 0) {\n        innerStates.isActiveLocked = data.isLock;\n      }\n      if (data.autoHide === false || data.isLock === true || innerStates.isActiveLocked) {\n        this._clearUserTimer();\n        return;\n      }\n      var time = data && data.delay ? data.delay : this.config.inactive;\n      this.userTimer = util.setTimeout(this, function() {\n        _this21.userTimer = null;\n        _this21.blur();\n      }, time);\n    }\n  }, {\n    key: \"onBlur\",\n    value: function onBlur() {\n      var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ref$ignorePaused = _ref.ignorePaused, ignorePaused = _ref$ignorePaused === void 0 ? false : _ref$ignorePaused;\n      if (this.innerStates.isActiveLocked) {\n        return;\n      }\n      var closePauseVideoFocus = this.config.closePauseVideoFocus;\n      this.isActive = false;\n      if (ignorePaused || closePauseVideoFocus || !this.paused && !this.ended) {\n        this.addClass(STATE_CLASS.INACTIVE);\n      }\n    }\n  }, {\n    key: \"onEmptied\",\n    value: function onEmptied() {\n      this.updateAcc(\"emptied\");\n    }\n  }, {\n    key: \"onCanplay\",\n    value: function onCanplay() {\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.ERROR);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.isCanplay = true;\n      this.waitTimer && util.clearTimeout(this, this.waitTimer);\n    }\n  }, {\n    key: \"onDurationchange\",\n    value: function onDurationchange() {\n      if (this.__startTime > 0 && this.duration > 0) {\n        this.currentTime = this.__startTime;\n        this.__startTime = -1;\n      }\n    }\n  }, {\n    key: \"onLoadeddata\",\n    value: function onLoadeddata() {\n      this.isError = false;\n      this.isSeeking = false;\n    }\n  }, {\n    key: \"onLoadstart\",\n    value: function onLoadstart() {\n      this.removeClass(STATE_CLASS.ERROR);\n      this.isCanplay = false;\n    }\n  }, {\n    key: \"onPlay\",\n    value: function onPlay() {\n      if (this.state === STATES.ENDED) {\n        this.setState(STATES.RUNNING);\n      }\n      this.removeClass(STATE_CLASS.PAUSED);\n      this.ended && this.removeClass(STATE_CLASS.ENDED);\n      !this.config.closePlayVideoFocus && this.focus();\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      this.addClass(STATE_CLASS.PAUSED);\n      this.updateAcc(\"pause\");\n      if (!this.config.closePauseVideoFocus) {\n        this._clearUserTimer();\n        this.focus();\n      }\n    }\n  }, {\n    key: \"onEnded\",\n    value: function onEnded() {\n      this.updateAcc(\"ended\");\n      this.addClass(STATE_CLASS.ENDED);\n      this.setState(STATES.ENDED);\n    }\n  }, {\n    key: \"onError\",\n    value: function onError() {\n      this.isError = true;\n      this.updateAcc(\"error\");\n      this.removeClass(STATE_CLASS.NOT_ALLOW_AUTOPLAY);\n      this.removeClass(STATE_CLASS.NO_START);\n      this.removeClass(STATE_CLASS.ENTER);\n      this.removeClass(STATE_CLASS.LOADING);\n      this.addClass(STATE_CLASS.ERROR);\n    }\n  }, {\n    key: \"onSeeking\",\n    value: function onSeeking() {\n      if (!this.isSeeking) {\n        this.updateAcc(\"seeking\");\n      }\n      this.isSeeking = true;\n      this.addClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onSeeked\",\n    value: function onSeeked() {\n      this.isSeeking = false;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.removeClass(STATE_CLASS.LOADING);\n      this.removeClass(STATE_CLASS.SEEKING);\n    }\n  }, {\n    key: \"onWaiting\",\n    value: function onWaiting() {\n      var _this22 = this;\n      if (this.waitTimer) {\n        util.clearTimeout(this, this.waitTimer);\n      }\n      this.updateAcc(\"waiting\");\n      this.waitTimer = util.setTimeout(this, function() {\n        _this22.addClass(STATE_CLASS.LOADING);\n        _this22.emit(LOADING);\n        util.clearTimeout(_this22, _this22.waitTimer);\n        _this22.waitTimer = null;\n      }, this.config.minWaitDelay);\n    }\n  }, {\n    key: \"onPlaying\",\n    value: function onPlaying() {\n      var _this23 = this;\n      this.isError = false;\n      var NO_START = STATE_CLASS.NO_START, PAUSED = STATE_CLASS.PAUSED, ENDED = STATE_CLASS.ENDED, ERROR2 = STATE_CLASS.ERROR, REPLAY2 = STATE_CLASS.REPLAY, LOADING2 = STATE_CLASS.LOADING;\n      var clsList = [NO_START, PAUSED, ENDED, ERROR2, REPLAY2, LOADING2];\n      clsList.forEach(function(cls) {\n        _this23.removeClass(cls);\n      });\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate() {\n      !this._videoHeight && this.media.videoHeight && this.resize();\n      if ((this.waitTimer || this.hasClass(STATE_CLASS.LOADING)) && this.media.readyState > 2) {\n        this.removeClass(STATE_CLASS.LOADING);\n        util.clearTimeout(this, this.waitTimer);\n        this.waitTimer = null;\n      }\n      if (!this.paused && this.state < STATES.RUNNING && this.duration) {\n        this.setState(STATES.RUNNING);\n        this.emit(AUTOPLAY_STARTED);\n      }\n      if (!this._accPlayed.t && !this.paused && !this.ended) {\n        this._accPlayed.t = new Date().getTime();\n      }\n    }\n  }, {\n    key: \"onVolumechange\",\n    value: function onVolumechange() {\n      util.typeOf(this.config.volume) === \"Number\" && (this.config.volume = this.volume);\n    }\n  }, {\n    key: \"onRatechange\",\n    value: function onRatechange() {\n      this.config.defaultPlaybackRate = this.playbackRate;\n    }\n  }, {\n    key: \"emitUserAction\",\n    value: function emitUserAction(event, action, params) {\n      if (!this.media || !action || !event) {\n        return;\n      }\n      var eventType = util.typeOf(event) === \"String\" ? event : event.type || \"\";\n      if (params.props && util.typeOf(params.props) !== \"Array\") {\n        params.props = [params.props];\n      }\n      this.emit(USER_ACTION, _objectSpread2({\n        eventType,\n        action,\n        currentTime: this.currentTime,\n        duration: this.duration,\n        ended: this.ended,\n        event\n      }, params));\n    }\n  }, {\n    key: \"updateAcc\",\n    value: function updateAcc(endType) {\n      if (this._accPlayed.t) {\n        var _at = new Date().getTime() - this._accPlayed.t;\n        this._accPlayed.acc += _at;\n        this._accPlayed.t = 0;\n        if (endType === \"ended\" || this.ended) {\n          this._accPlayed.loopAcc = this._accPlayed.acc;\n        }\n      }\n    }\n  }, {\n    key: \"checkBuffer\",\n    value: function checkBuffer(time) {\n      var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        startDiff: 0,\n        endDiff: 0\n      };\n      var _ref2 = options || {}, _ref2$startDiff = _ref2.startDiff, startDiff = _ref2$startDiff === void 0 ? 0 : _ref2$startDiff, _ref2$endDiff = _ref2.endDiff, endDiff = _ref2$endDiff === void 0 ? 0 : _ref2$endDiff;\n      var buffered = this.media.buffered;\n      if (!buffered || buffered.length === 0 || !this.duration) {\n        return true;\n      }\n      var currentTime = time || this.media.currentTime || 0.2;\n      var len = buffered.length;\n      for (var i = 0; i < len; i++) {\n        if (buffered.start(i) + startDiff <= currentTime && buffered.end(i) - endDiff > currentTime) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"resizePosition\",\n    value: function resizePosition() {\n      var _this$videoPos = this.videoPos, vy = _this$videoPos.vy, vx = _this$videoPos.vx, h = _this$videoPos.h, w = _this$videoPos.w;\n      var rotate = this.videoPos.rotate;\n      if (rotate < 0 && h < 0 && w < 0) {\n        return;\n      }\n      var _pi = this.videoPos._pi;\n      if (!_pi && this.media.videoHeight) {\n        _pi = this.media.videoWidth / this.media.videoHeight * 100;\n      }\n      if (!_pi) {\n        return;\n      }\n      this.videoPos.pi = _pi;\n      rotate = rotate < 0 ? 0 : rotate;\n      var _pos = {\n        rotate\n      };\n      var offsetY = 0;\n      var offsetX = 0;\n      var scale = 1;\n      var _t = Math.abs(rotate / 90);\n      var root = this.root, innerContainer = this.innerContainer;\n      var width = root.offsetWidth;\n      var height = innerContainer ? innerContainer.offsetHeight : root.offsetHeight;\n      var rHeight = height;\n      var rWidth = width;\n      if (_t % 2 === 0) {\n        scale = h > 0 ? 100 / h : w > 0 ? 100 / w : 1;\n        _pos.scale = scale;\n        offsetY = vy > 0 ? (100 - h) / 2 - vy : 0;\n        _pos.y = _t === 2 ? 0 - offsetY : offsetY;\n        offsetX = vx > 0 ? (100 - w) / 2 - vx : 0;\n        _pos.x = _t === 2 ? 0 - offsetX : offsetX;\n        this.media.style.width = \"\".concat(rWidth, \"px\");\n        this.media.style.height = \"\".concat(rHeight, \"px\");\n      } else if (_t % 2 === 1) {\n        rWidth = height;\n        rHeight = width;\n        var offset = height - width;\n        offsetX = -offset / 2 / rWidth * 100;\n        _pos.x = _t === 3 ? offsetX + vy / 2 : offsetX - vy / 2;\n        offsetY = offset / 2 / rHeight * 100;\n        _pos.y = _t === 3 ? offsetY + vx / 2 : offsetY - vx / 2;\n        _pos.scale = scale;\n        this.media.style.width = \"\".concat(rWidth, \"px\");\n        this.media.style.height = \"\".concat(rHeight, \"px\");\n      }\n      var formStyle = util.getTransformStyle(_pos, this.media.style.transform || this.media.style.webkitTransform);\n      this.media.style.transform = formStyle;\n      this.media.style.webkitTransform = formStyle;\n    }\n  }, {\n    key: \"position\",\n    value: function position() {\n      var pos = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        h: 0,\n        y: 0,\n        x: 0,\n        w: 0\n      };\n      if (!this.media || !pos || !pos.h) {\n        return;\n      }\n      var videoPos = this.videoPos;\n      videoPos.h = pos.h * 100 || 0;\n      videoPos.w = pos.w * 100 || 0;\n      videoPos.vx = pos.x * 100 || 0;\n      videoPos.vy = pos.y * 100 || 0;\n      this.resizePosition();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this24 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        if (key !== \"plugins\") {\n          _this24.config[key] = config[key];\n          var plugin = _this24.plugins[key.toLowerCase()];\n          if (plugin && util.typeOf(plugin.setConfig) === \"Function\") {\n            plugin.setConfig(config[key]);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"playNext\",\n    value: function playNext(config) {\n      var _this25 = this;\n      this.resetState();\n      this.setConfig(config);\n      this._currentTime = 0;\n      this._duration = 0;\n      runHooks(this, \"playnext\", function() {\n        _this25.start();\n        _this25.emit(PLAYNEXT, config);\n      });\n    }\n  }, {\n    key: \"resize\",\n    value: function resize() {\n      var _this26 = this;\n      if (!this.media) {\n        return;\n      }\n      var containerSize = this.root.getBoundingClientRect();\n      this.sizeInfo.width = containerSize.width;\n      this.sizeInfo.height = containerSize.height;\n      this.sizeInfo.left = containerSize.left;\n      this.sizeInfo.top = containerSize.top;\n      var _this$media = this.media, videoWidth = _this$media.videoWidth, videoHeight = _this$media.videoHeight;\n      var _this$config6 = this.config, fitVideoSize = _this$config6.fitVideoSize, videoFillMode = _this$config6.videoFillMode;\n      if (videoFillMode === \"fill\" || videoFillMode === \"cover\" || videoFillMode === \"contain\") {\n        this.setAttribute(\"data-xgfill\", videoFillMode);\n      }\n      if (!videoHeight || !videoWidth) {\n        return;\n      }\n      this._videoHeight = videoHeight;\n      this._videoWidth = videoWidth;\n      var controlsHeight = this.controls && this.innerContainer ? this.controls.root.getBoundingClientRect().height : 0;\n      var width = containerSize.width;\n      var height = containerSize.height - controlsHeight;\n      var videoFit = parseInt(videoWidth / videoHeight * 1e3, 10);\n      var fit = parseInt(width / height * 1e3, 10);\n      var rWidth = width;\n      var rHeight = height;\n      var _style = {};\n      if (fitVideoSize === \"auto\" && fit > videoFit || fitVideoSize === \"fixWidth\") {\n        rHeight = width / videoFit * 1e3;\n        if (this.config.fluid) {\n          _style.paddingTop = \"\".concat(rHeight * 100 / rWidth, \"%\");\n        } else {\n          _style.height = \"\".concat(rHeight + controlsHeight, \"px\");\n        }\n      } else if (fitVideoSize === \"auto\" && fit < videoFit || fitVideoSize === \"fixHeight\") {\n        rWidth = videoFit * height / 1e3;\n        _style.width = \"\".concat(rWidth, \"px\");\n      }\n      if (!this.fullscreen && !this.cssfullscreen) {\n        Object.keys(_style).forEach(function(key) {\n          _this26.root.style[key] = _style[key];\n        });\n      }\n      if (videoFillMode === \"fillHeight\" && fit < videoFit || videoFillMode === \"fillWidth\" && fit > videoFit) {\n        this.setAttribute(\"data-xgfill\", \"cover\");\n      }\n      var data = {\n        videoScale: videoFit,\n        vWidth: rWidth,\n        vHeight: rHeight,\n        cWidth: rWidth,\n        cHeight: rHeight + controlsHeight\n      };\n      this.resizePosition();\n      this.emit(VIDEO_RESIZE, data);\n    }\n  }, {\n    key: \"updateObjectPosition\",\n    value: function updateObjectPosition() {\n      var left = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;\n      var top = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      if (this.media.updateObjectPosition) {\n        this.media.updateObjectPosition(left, top);\n        return;\n      }\n      this.media.style.objectPosition = \"\".concat(left * 100, \"% \").concat(top * 100, \"%\");\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(newState) {\n      XG_DEBUG.logInfo(\"setState\", \"state from:\".concat(STATE_ARRAY[this.state], \" to:\").concat(STATE_ARRAY[newState]));\n      this._state = newState;\n    }\n  }, {\n    key: \"_preProcessUrl\",\n    value: function _preProcessUrl(url, ext) {\n      var preProcessUrl = this.config.preProcessUrl;\n      return !util.isBlob(url) && typeof preProcessUrl === \"function\" ? preProcessUrl(url, ext) : {\n        url\n      };\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._state;\n    }\n  }, {\n    key: \"isFullscreen\",\n    get: function get() {\n      return this.fullscreen;\n    }\n  }, {\n    key: \"isCssfullScreen\",\n    get: function get() {\n      return this.cssfullscreen;\n    }\n  }, {\n    key: \"hasStart\",\n    get: function get() {\n      return this._hasStart;\n    },\n    set: function set(bool) {\n      if (typeof bool === \"boolean\") {\n        this._hasStart = bool;\n        if (bool === false) {\n          this.setState(STATES.READY);\n        }\n        this.emit(\"hasstart\");\n      }\n    }\n  }, {\n    key: \"isPlaying\",\n    get: function get() {\n      return this._state === STATES.RUNNING || this._state === STATES.ENDED;\n    },\n    set: function set(value) {\n      if (value) {\n        this.setState(STATES.RUNNING);\n      } else {\n        this._state >= STATES.RUNNING && this.setState(STATES.ATTACHED);\n      }\n    }\n  }, {\n    key: \"definitionList\",\n    get: function get() {\n      if (!this.config || !this.config.definition) {\n        return [];\n      }\n      return this.config.definition.list || [];\n    },\n    set: function set(list) {\n      var _this27 = this;\n      var definition = this.config.definition;\n      var curDef = null;\n      var targetDef = null;\n      definition.list = list;\n      this.emit(\"resourceReady\", list);\n      list.forEach(function(item) {\n        var _this27$curDefinition;\n        if (((_this27$curDefinition = _this27.curDefinition) === null || _this27$curDefinition === void 0 ? void 0 : _this27$curDefinition.definition) === item.definition) {\n          curDef = item;\n        }\n        if (definition.defaultDefinition === item.definition) {\n          targetDef = item;\n        }\n      });\n      if (!targetDef && list.length > 0) {\n        targetDef = list[0];\n      }\n      curDef ? this.changeDefinition(curDef) : targetDef && this.changeDefinition(targetDef);\n    }\n  }, {\n    key: \"videoFrameInfo\",\n    get: function get() {\n      var ret = {\n        total: 0,\n        dropped: 0,\n        corrupted: 0,\n        droppedRate: 0,\n        droppedDuration: 0\n      };\n      if (!this.media || !this.media.getVideoPlaybackQuality) {\n        return ret;\n      }\n      var _quality = this.media.getVideoPlaybackQuality();\n      ret.dropped = _quality.droppedVideoFrames || 0;\n      ret.total = _quality.totalVideoFrames || 0;\n      ret.corrupted = _quality.corruptedVideoFrames || 0;\n      if (ret.total > 0) {\n        ret.droppedRate = ret.dropped / ret.total * 100;\n        ret.droppedDuration = parseInt(this.cumulateTime / ret.total * ret.dropped, 0);\n      }\n      return ret;\n    }\n  }, {\n    key: \"lang\",\n    get: function get() {\n      return this.config.lang;\n    },\n    set: function set(lang) {\n      var result = I18N.langKeys.filter(function(key) {\n        return key === lang;\n      });\n      if (result.length === 0 && lang !== \"zh\") {\n        console.error(\"Sorry, set lang fail, because the language [\".concat(lang, \"] is not supported now, list of all supported languages is [\").concat(I18N.langKeys.join(), \"] \"));\n        return;\n      }\n      this.config.lang = lang;\n      pluginsManager.setLang(lang, this);\n    }\n  }, {\n    key: \"i18n\",\n    get: function get() {\n      var _l = this.config.lang;\n      if (_l === \"zh\") {\n        _l = \"zh-cn\";\n      }\n      return this.__i18n.lang[_l] || this.__i18n.lang.en;\n    }\n  }, {\n    key: \"i18nKeys\",\n    get: function get() {\n      return this.__i18n.textKeys || {};\n    }\n  }, {\n    key: \"version\",\n    get: function get() {\n      return version;\n    }\n  }, {\n    key: \"playerId\",\n    get: function get() {\n      return this._pluginInfoId;\n    }\n  }, {\n    key: \"url\",\n    get: function get() {\n      return this.__url || this.config.url;\n    },\n    set: function set(url) {\n      this.__url = url;\n    }\n  }, {\n    key: \"poster\",\n    get: function get() {\n      return this.plugins.poster ? this.plugins.poster.config.poster : this.config.poster;\n    },\n    set: function set(posterUrl) {\n      this.plugins.poster && this.plugins.poster.update(posterUrl);\n    }\n  }, {\n    key: \"readyState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"readyState\", this);\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      var key = _get(_getPrototypeOf(Player2.prototype), \"error\", this);\n      return this.i18n[key] || key;\n    }\n  }, {\n    key: \"networkState\",\n    get: function get() {\n      return _get(_getPrototypeOf(Player2.prototype), \"networkState\", this);\n    }\n  }, {\n    key: \"fullscreenChanging\",\n    get: function get() {\n      return !(this._fullScreenOffset === null);\n    }\n  }, {\n    key: \"cumulateTime\",\n    get: function get() {\n      var _this$_accPlayed = this._accPlayed, acc = _this$_accPlayed.acc, t = _this$_accPlayed.t;\n      return t ? new Date().getTime() - t + acc : acc;\n    }\n  }, {\n    key: \"zoom\",\n    get: function get() {\n      return this.config.zoom;\n    },\n    set: function set(value) {\n      this.config.zoom = value;\n    }\n  }, {\n    key: \"videoRotateDeg\",\n    get: function get() {\n      return this.videoPos.rotate;\n    },\n    set: function set(val) {\n      val = util.convertDeg(val);\n      if (val % 90 !== 0 || val === this.videoPos.rotate) {\n        return;\n      }\n      this.videoPos.rotate = val;\n      this.resizePosition();\n    }\n  }, {\n    key: \"avgSpeed\",\n    get: function get() {\n      return AVG_SPEED;\n    },\n    set: function set(val) {\n      AVG_SPEED = val;\n    }\n  }, {\n    key: \"realTimeSpeed\",\n    get: function get() {\n      return REAL_TIME_SPEED;\n    },\n    set: function set(val) {\n      REAL_TIME_SPEED = val;\n    }\n  }, {\n    key: \"offsetCurrentTime\",\n    get: function get() {\n      return this._offsetInfo.currentTime || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.currentTime = val;\n    }\n  }, {\n    key: \"offsetDuration\",\n    get: function get() {\n      return this._offsetInfo.duration || 0;\n    },\n    set: function set(val) {\n      this._offsetInfo.duration = val || 0;\n    }\n  }, {\n    key: \"hook\",\n    value: function hook$1(hookName, handler) {\n      return hook.call.apply(hook, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"useHooks\",\n    value: function useHooks$1(hookName, handler) {\n      return useHooks.call.apply(useHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removeHooks\",\n    value: function removeHooks$1(hookName, handler) {\n      return removeHooks.call.apply(removeHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"usePluginHooks\",\n    value: function usePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        args[_key - 3] = arguments[_key];\n      }\n      return usePluginHooks.call.apply(usePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"removePluginHooks\",\n    value: function removePluginHooks$1(pluginName, hookName, handler) {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n        args[_key2 - 3] = arguments[_key2];\n      }\n      return removePluginHooks.call.apply(removePluginHooks, [this].concat(Array.prototype.slice.call(arguments)));\n    }\n  }, {\n    key: \"setUserActive\",\n    value: function setUserActive(isActive, isMuted) {\n      var _instManager3;\n      if (typeof isMuted === \"boolean\" && isMuted !== this.muted) {\n        this.addInnerOP(\"volumechange\");\n        if (util.typeOf(isMuted) === Boolean) {\n          this.muted = isMuted;\n        }\n      }\n      (_instManager3 = instManager) === null || _instManager3 === void 0 ? void 0 : _instManager3.setActive(this.playerId, isActive);\n    }\n  }], [{\n    key: \"debugger\",\n    get: function get() {\n      return XG_DEBUG.config.debug;\n    },\n    set: function set(value) {\n      XG_DEBUG.config.debug = value;\n    }\n  }, {\n    key: \"instManager\",\n    get: function get() {\n      return instManager;\n    },\n    set: function set(value) {\n      instManager = value;\n    }\n  }, {\n    key: \"getCurrentUserActivePlayerId\",\n    value: function getCurrentUserActivePlayerId() {\n      var _instManager4;\n      return (_instManager4 = instManager) === null || _instManager4 === void 0 ? void 0 : _instManager4.getActiveId();\n    }\n  }, {\n    key: \"setCurrentUserActive\",\n    value: function setCurrentUserActive(playerId, isActive) {\n      var _instManager5;\n      (_instManager5 = instManager) === null || _instManager5 === void 0 ? void 0 : _instManager5.setActive(playerId, isActive);\n    }\n  }, {\n    key: \"isHevcSupported\",\n    value: function isHevcSupported() {\n      return sniffer.isHevcSupported();\n    }\n  }, {\n    key: \"probeConfigSupported\",\n    value: function probeConfigSupported(info) {\n      return sniffer.probeConfigSupported(info);\n    }\n  }, {\n    key: \"install\",\n    value: function install(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      if (!Player2.plugins[name]) {\n        Player2.plugins[name] = descriptor;\n      }\n    }\n  }, {\n    key: \"use\",\n    value: function use(name, descriptor) {\n      if (!Player2.plugins) {\n        Player2.plugins = {};\n      }\n      Player2.plugins[name] = descriptor;\n    }\n  }]);\n  return Player2;\n}(MediaProxy);\n_defineProperty(Player, \"defaultPreset\", null);\n_defineProperty(Player, \"XgVideoProxy\", null);\nPlayer.instManager = InstManager.getInstance();\nexport { Player as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { LOAD_START, LOADED_DATA, SEEKING, SEEKED, DESTROY, URL_CHANGE, PLAYING, CANPLAY, WAITING, ERROR, RESET, AUTOPLAY_STARTED, TIME_UPDATE, XGLOG } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction now() {\n  return new Date().getTime();\n}\nvar LOG_TYPES = {\n  LOAD_START: \"loadstart\",\n  LOADED_DATA: \"loadeddata\",\n  FIRST_FRAME: \"firstFrame\",\n  WAIT_START: \"waitingStart\",\n  WAIT_END: \"waitingEnd\",\n  SEEK_START: \"seekStart\",\n  SEEK_END: \"seekEnd\"\n};\nvar XGLogger = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(XGLogger2, _BasePlugin);\n  var _super = _createSuper(XGLogger2);\n  function XGLogger2() {\n    var _this;\n    _classCallCheck(this, XGLogger2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      _this._state.isTimeUpdate = true;\n      if (_this._state.autoplayStart) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onTimeupdate\"));\n        _this._sendFF(\"onTimeupdate\");\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onAutoplayStart\", function() {\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this.player.playerId, \" _onAutoplayStart\"));\n      _this._state.autoplayStart = true;\n      _this.vt && _this._sendFF(\"onAutoplayStart\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this._state = {\n        autoplayStart: false,\n        isFFLoading: false,\n        isTimeUpdate: false,\n        isFFSend: false,\n        isLs: false\n      };\n      _this.vt = 0;\n      _this.pt = 0;\n      _this.fvt = 0;\n      _this.newPointTime = now();\n      _this.loadedCostTime = 0;\n      _this.startCostTime = 0;\n      _this._isSeeking = false;\n      _this.seekingStart = 0;\n      _this.waitingStart = 0;\n      _this.fixedWaitingStart = 0;\n      _this._isWaiting = false;\n      _this._waitTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n      _this._waittTimer && util.clearTimeout(_assertThisInitialized(_this), _this._waittTimer);\n      _this._waitTimer = null;\n      _this._waittTimer = null;\n      _this._waitType = 0;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      if (_this.seekingStart) {\n        return;\n      }\n      _this.suspendWaitingStatus(\"seek\");\n      _this.seekingStart = now();\n      _this.emitLog(LOG_TYPES.SEEK_START, {\n        start: now()\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeked\", function() {\n      _this.suspendSeekingStatus(\"seeked\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaitingLoadStart\", function() {\n      if (_this._isWaiting || _this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      _this.waitingStart = now();\n      _this.fixedWaitingStart = now();\n      _this._waitType = 1;\n      _this.emitLog(LOG_TYPES.WAIT_START, {\n        fixedStart: _this.fixedWaitingStart,\n        start: _this.waitingStart,\n        type: 1,\n        endType: \"loadstart\"\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onWaiting\", function() {\n      if (_this._isWaiting || !_this.vt) {\n        return;\n      }\n      _this._isWaiting = true;\n      if (!_this.vt) {\n        _this._waitType = 1;\n      } else if (_this.seekingStart) {\n        _this._waitType = 2;\n      } else {\n        _this._waitType = 0;\n      }\n      _this.fixedWaitingStart = now();\n      _this._waitTimer = util.setTimeout(_assertThisInitialized(_this), function() {\n        if (_this._isWaiting) {\n          _this.waitingStart = now();\n          util.clearTimeout(_assertThisInitialized(_this), _this._waitTimer);\n          _this._waitTimer = null;\n          _this._startWaitTimeout();\n          _this.emitLog(LOG_TYPES.WAIT_START, {\n            fixedStart: _this.fixedWaitingStart,\n            start: _this.waitingStart,\n            type: _this._waitType,\n            endType: _this._waitType === 2 ? \"seek\" : \"playing\"\n          });\n        }\n      }, 200);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onError\", function() {\n      _this.suspendSeekingStatus(\"error\");\n      _this.suspendWaitingStatus(\"error\");\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlaying\", function() {\n      _this._isWaiting && _this.suspendWaitingStatus(\"playing\");\n    });\n    return _this;\n  }\n  _createClass(XGLogger2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._onReset();\n      this._waitType = \"firstFrame\";\n      this._initOnceEvents();\n      this.newPointTime = now();\n      this.loadedCostTime = 0;\n      this.startCostTime = 0;\n      this.on(LOAD_START, function() {\n        var _state = _this2._state;\n        var autoplayStart = _state.autoplayStart, isFFSend = _state.isFFSend;\n        _this2.startCostTime = now() - _this2.newPointTime;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOAD_START\"), \"autoplayStart:\".concat(autoplayStart, \" isFFSend:\").concat(isFFSend, \" startCostTime:\").concat(_this2.startCostTime, \" newPointTime\").concat(_this2.newPointTime));\n        if (isFFSend) {\n          return;\n        }\n        !_state.isLs && _this2.emitLog(LOG_TYPES.LOAD_START, {});\n        _state.isLs = true;\n        _state.isTimeUpdate = false;\n        _state.isFFLoading = true;\n        _this2.pt = now();\n        _this2.vt = 0;\n        _this2.fvt = 0;\n        _this2._initOnceEvents();\n        _this2._onWaitingLoadStart();\n      });\n      this.on(LOADED_DATA, function() {\n        _this2.vt = now();\n        _this2.fvt = _this2.vt - _this2.pt;\n        _this2.loadedCostTime = _this2.vt - _this2.newPointTime;\n        var _this2$_state = _this2._state, isTimeUpdate = _this2$_state.isTimeUpdate, isFFSend = _this2$_state.isFFSend, autoplayStart = _this2$_state.autoplayStart;\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" LOADED_DATA\"), \"fvt:\".concat(_this2.fvt, \" isTimeUpdate:\").concat(_this2._state.isTimeUpdate, \" loadedCostTime:\").concat(_this2.loadedCostTime));\n        if (isTimeUpdate || autoplayStart) {\n          _this2._sendFF(\"loadedData\");\n        }\n        if (!isFFSend) {\n          _this2.emitLog(LOG_TYPES.LOADED_DATA, {});\n        }\n        _this2.suspendWaitingStatus(\"loadeddata\");\n      });\n      this.on(SEEKING, this._onSeeking);\n      this.on(SEEKED, this._onSeeked);\n      this.on(DESTROY, function() {\n        _this2.endState(\"destroy\");\n      });\n      this.on(URL_CHANGE, function() {\n        _this2.endState(\"urlChange\");\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" URL_CHANGE\"));\n        _this2._state.isFFSend && _this2._onReset();\n      });\n      this.on([PLAYING, CANPLAY], this._onPlaying);\n      this.on(WAITING, this._onWaiting);\n      this.on(ERROR, this._onError);\n      this.on(RESET, function() {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(_this2.player.playerId, \" RESET\"));\n        _this2.endState(\"reset\");\n        _this2._initOnceEvents();\n        _this2._onReset();\n      });\n    }\n  }, {\n    key: \"_initOnceEvents\",\n    value: function _initOnceEvents() {\n      this.off(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.off(TIME_UPDATE, this._onTimeupdate);\n      this.once(AUTOPLAY_STARTED, this._onAutoplayStart);\n      this.once(TIME_UPDATE, this._onTimeupdate);\n    }\n  }, {\n    key: \"_sendFF\",\n    value: function _sendFF(endType) {\n      this.s = now();\n      var _this$_state = this._state, isFFLoading = _this$_state.isFFLoading, isFFSend = _this$_state.isFFSend;\n      XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" _sendFF\"), \"\".concat(endType, \" fvt:\").concat(this.fvt, \" isFFLoading:\").concat(isFFLoading, \" !isFFSend:\").concat(!isFFSend));\n      if (this.vt > 0 && isFFLoading && !isFFSend) {\n        XG_DEBUG.logInfo(\"[xgLogger]\".concat(this.player.playerId, \" emitLog_firstFrame\"), endType);\n        this._state.isFFLoading = false;\n        this._state.isFFSend = true;\n        this.emitLog(LOG_TYPES.FIRST_FRAME, {\n          fvt: this.fvt,\n          costTime: this.fvt,\n          vt: this.vt,\n          startCostTime: this.startCostTime,\n          loadedCostTime: this.loadedCostTime\n        });\n      }\n    }\n  }, {\n    key: \"_startWaitTimeout\",\n    value: function _startWaitTimeout() {\n      var _this3 = this;\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n      }\n      this._waittTimer = util.setTimeout(this, function() {\n        _this3.suspendWaitingStatus(\"timeout\");\n        util.clearTimeout(_this3, _this3._waittTimer);\n        _this3._waittTimer = null;\n      }, this.config.waitTimeout);\n    }\n  }, {\n    key: \"endState\",\n    value: function endState(endType) {\n      this.suspendWaitingStatus(endType);\n      this.suspendSeekingStatus(endType);\n    }\n  }, {\n    key: \"suspendSeekingStatus\",\n    value: function suspendSeekingStatus(endType) {\n      if (!this.seekingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.seekingStart;\n      this.seekingStart = 0;\n      this.emitLog(LOG_TYPES.SEEK_END, {\n        end: _now,\n        costTime: _cost,\n        endType\n      });\n    }\n  }, {\n    key: \"suspendWaitingStatus\",\n    value: function suspendWaitingStatus(endType) {\n      if (this._waitTimer) {\n        util.clearTimeout(this, this._waitTimer);\n        this._waitTimer = null;\n      }\n      if (this._waittTimer) {\n        util.clearTimeout(this, this._waittTimer);\n        this._waittTimer = null;\n      }\n      this._isWaiting = false;\n      if (!this.waitingStart) {\n        return;\n      }\n      var _now = now();\n      var _cost = _now - this.waitingStart;\n      var _fixedCost = _now - this.fixedWaitingStart;\n      var waitTimeout = this.config.waitTimeout;\n      this._isWaiting = false;\n      this.waitingStart = 0;\n      this.fixedWaitingStart = 0;\n      this.emitLog(LOG_TYPES.WAIT_END, {\n        fixedCostTime: _fixedCost > waitTimeout ? waitTimeout : _fixedCost,\n        costTime: _cost > waitTimeout ? waitTimeout : _cost,\n        type: endType === \"loadeddata\" ? 1 : this._waitType,\n        endType: this._waitType === 2 ? \"seek\" : endType\n      });\n    }\n  }, {\n    key: \"emitLog\",\n    value: function emitLog(eventType, data) {\n      var player = this.player;\n      this.emit(XGLOG, _objectSpread2({\n        t: now(),\n        host: util.getHostFromUrl(player.currentSrc),\n        vtype: player.vtype,\n        eventType,\n        currentTime: this.player.currentTime,\n        readyState: player.video.readyState,\n        networkState: player.video.networkState\n      }, data));\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"xgLogger\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        waitTimeout: 1e4\n      };\n    }\n  }]);\n  return XGLogger2;\n}(Plugin);\nexport { LOG_TYPES, XGLogger as default };\n","function ReplaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"xgplayer-replay-svg\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 78 78\" width=\"78\" height=\"78\">\\n  <path fill=\"#fff\" transform=\"translate(20, 20)\" d=\"M8.22708362,13.8757234 L11.2677371,12.6472196 C11.7798067,12.4403301 12.3626381,12.6877273 12.5695276,13.1997969 L12.9441342,14.1269807 C13.1510237,14.6390502 12.9036264,15.2218816 12.3915569,15.4287712 L6.8284538,17.6764107 L5.90126995,18.0510173 C5.38920044,18.2579068 4.80636901,18.0105096 4.5994795,17.49844 L1.97723335,11.0081531 C1.77034384,10.4960836 2.0177411,9.91325213 2.52981061,9.70636262 L3.45699446,9.33175602 C3.96906396,9.12486652 4.5518954,9.37226378 4.75878491,9.88433329 L5.67885163,12.1615783 C7.99551726,6.6766934 13.3983951,3 19.5,3 C27.7842712,3 34.5,9.71572875 34.5,18 C34.5,26.2842712 27.7842712,33 19.5,33 C15.4573596,33 11.6658607,31.3912946 8.87004692,28.5831991 C8.28554571,27.9961303 8.28762719,27.0463851 8.87469603,26.4618839 C9.46176488,25.8773827 10.4115101,25.8794641 10.9960113,26.466533 C13.2344327,28.7147875 16.263503,30 19.5,30 C26.127417,30 31.5,24.627417 31.5,18 C31.5,11.372583 26.127417,6 19.5,6 C14.4183772,6 9.94214483,9.18783811 8.22708362,13.8757234 Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ReplaySvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport ReplaySvg from \"../assets/replay.js\";\nvar Replay = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Replay2, _Plugin);\n  var _super = _createSuper(Replay2);\n  function Replay2() {\n    _classCallCheck(this, Replay2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Replay2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        replay: ReplaySvg\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      Plugin.insert(this.icons.replay, this.root, 0);\n      this.__handleReplay = this.hook(\"replayClick\", function() {\n        _this.player.replay();\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n      this.on(ENDED, function() {\n        if (!_this.playerConfig.loop) {\n          util.addClass(_this.player.root, \"replay\");\n        }\n        if (_this.config.disable) {\n          return;\n        }\n        _this.show();\n        var path = _this.root.querySelector(\"path\");\n        if (path) {\n          var transform = window.getComputedStyle(path).getPropertyValue(\"transform\");\n          if (typeof transform === \"string\" && transform.indexOf(\"none\") > -1) {\n            return null;\n          } else {\n            path.setAttribute(\"transform\", transform);\n          }\n        }\n      });\n      this.on(PLAY, function() {\n        _this.hide();\n      });\n    }\n  }, {\n    key: \"handleReplay\",\n    value: function handleReplay(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.player.replay();\n      util.removeClass(this.player.root, \"replay\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (this.config.disable) {\n        return;\n      }\n      this.root.style.display = \"flex\";\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-replay\", [\"click\", \"touchend\"], this.__handleReplay);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-replay class=\"xgplayer-replay\">\\n      <xg-replay-txt class=\"xgplayer-replay-txt\" lang-key=\"'.concat(this.i18nKeys.REPLAY, '\">').concat(this.i18n.REPLAY, \"</xg-replay-txt>\\n    </xg-replay>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"replay\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: false\n      };\n    }\n  }]);\n  return Replay2;\n}(Plugin);\nexport { Replay as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { ENDED, TIME_UPDATE, URL_CHANGE, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Poster = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Poster2, _Plugin);\n  var _super = _createSuper(Poster2);\n  function Poster2() {\n    _classCallCheck(this, Poster2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Poster2, [{\n    key: \"isEndedShow\",\n    get: function get() {\n      return this.config.isEndedShow;\n    },\n    set: function set(value) {\n      this.config.isEndedShow = value;\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.poster === \"string\") {\n        args.config.poster = args.player.config.poster;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.on(ENDED, function() {\n        if (_this.isEndedShow) {\n          util.removeClass(_this.root, \"hide\");\n        }\n      });\n      if (this.config.hideCanplay) {\n        this.once(TIME_UPDATE, function() {\n          _this.onTimeUpdate();\n        });\n        this.on(URL_CHANGE, function() {\n          util.removeClass(_this.root, \"hide\");\n          util.addClass(_this.root, \"xg-showplay\");\n          _this.once(TIME_UPDATE, function() {\n            _this.onTimeUpdate();\n          });\n        });\n      } else {\n        this.on(PLAY, function() {\n          util.addClass(_this.root, \"hide\");\n        });\n      }\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate() {\n      var _this2 = this;\n      if (!this.player.currentTime) {\n        this.once(TIME_UPDATE, function() {\n          _this2.onTimeUpdate();\n        });\n      } else {\n        util.removeClass(this.root, \"xg-showplay\");\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(poster) {\n      if (!poster) {\n        return;\n      }\n      this.config.poster = poster;\n      this.root.style.backgroundImage = \"url(\".concat(poster, \")\");\n    }\n  }, {\n    key: \"getBgSize\",\n    value: function getBgSize(mode) {\n      var _bg = \"\";\n      switch (mode) {\n        case \"cover\":\n          _bg = \"cover\";\n          break;\n        case \"contain\":\n          _bg = \"contain\";\n          break;\n        case \"fixHeight\":\n          _bg = \"auto 100%\";\n          break;\n        default:\n          _bg = \"\";\n      }\n      return _bg ? \"background-size: \".concat(_bg, \";\") : \"\";\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$config = this.config, poster = _this$config.poster, hideCanplay = _this$config.hideCanplay, fillMode = _this$config.fillMode, notHidden = _this$config.notHidden;\n      var _bg = this.getBgSize(fillMode);\n      var style = poster ? \"background-image:url(\".concat(poster, \");\").concat(_bg) : _bg;\n      var className = notHidden ? \"xg-not-hidden\" : hideCanplay ? \"xg-showplay\" : \"\";\n      return '<xg-poster class=\"xgplayer-poster '.concat(className, '\" style=\"').concat(style, '\">\\n    </xg-poster>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"poster\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isEndedShow: true,\n        hideCanplay: false,\n        notHidden: false,\n        poster: \"\",\n        fillMode: \"fixWidth\"\n      };\n    }\n  }]);\n  return Poster2;\n}(Plugin);\nexport { Poster as default };\n","function PlaySvg() {\n  return new DOMParser().parseFromString('<svg class=\"play\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M576,363L810,512L576,661zM342,214L576,363L576,661L342,810z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PlaySvg as default };\n","function PauseSvg() {\n  return new DOMParser().parseFromString('<svg class=\"pause\" xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"3 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598,214h170v596h-170v-596zM256 810v-596h170v596h-170z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { PauseSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { READY, AUTOPLAY_STARTED, AUTOPLAY_PREVENTED, PLAY, PAUSE, RESET } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar AnimateMap = {};\nfunction addAnimate(key, seconds) {\n  var callback = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n    start: null,\n    end: null\n  };\n  if (AnimateMap[key]) {\n    window.clearTimeout(AnimateMap[key].id);\n  }\n  AnimateMap[key] = {};\n  callback.start && callback.start();\n  AnimateMap[key].id = window.setTimeout(function() {\n    callback.end && callback.end();\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  }, seconds);\n  return AnimateMap[key].id;\n}\nfunction clearAnimation(id) {\n  if (id) {\n    window.clearTimeout(id);\n    return;\n  }\n  Object.keys(AnimateMap).map(function(key) {\n    window.clearTimeout(AnimateMap[key].id);\n    delete AnimateMap[key];\n  });\n}\nvar Start = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Start2, _Plugin);\n  var _super = _createSuper(Start2);\n  function Start2(args) {\n    var _this;\n    _classCallCheck(this, Start2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onPlayerReset\", function() {\n      _this.autoPlayStart = false;\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      _this.setAttr(\"data-state\", \"play\");\n      util.removeClass(_this.root, className);\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onAutoplayStart\", function() {\n      if (_this.autoPlayStart) {\n        return;\n      }\n      var className = _this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n      util.addClass(_this.root, className);\n      _this.autoPlayStart = true;\n      _this.onPlayPause(\"play\");\n    });\n    _this.autoPlayStart = false;\n    return _this;\n  }\n  _createClass(Start2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var player = this.player, playerConfig = this.playerConfig;\n      this.initIcons();\n      this.once(READY, function() {\n        if (playerConfig) {\n          if (playerConfig.lang && playerConfig.lang === \"en\") {\n            util.addClass(player.root, \"lang-is-en\");\n          } else if (playerConfig.lang === \"jp\") {\n            util.addClass(player.root, \"lang-is-jp\");\n          }\n        }\n      });\n      this.on(AUTOPLAY_STARTED, this.onAutoplayStart);\n      if (!playerConfig.autoplay) {\n        this.show();\n      }\n      this.on(AUTOPLAY_PREVENTED, function() {\n        var className = _this2.config.mode === \"auto\" ? \"auto-hide\" : \"hide\";\n        _this2.setAttr(\"data-state\", \"play\");\n        util.removeClass(_this2.root, className);\n        _this2.show();\n      });\n      this.on(PLAY, function() {\n        _this2.onPlayPause(\"play\");\n      });\n      this.on(PAUSE, function() {\n        _this2.onPlayPause(\"pause\");\n      });\n      this.on(RESET, function() {\n        _this2.onPlayerReset();\n      });\n      this.clickHandler = this.hook(\"startClick\", this.switchPausePlay, {\n        pre: function pre(e) {\n          e.cancelable && e.preventDefault();\n          e.stopPropagation();\n          var paused = _this2.player.paused;\n          _this2.emitUserAction(e, \"switch_play_pause\", {\n            props: \"paused\",\n            from: paused,\n            to: !paused\n          });\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.clickHandler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        startPlay: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        startPause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\"xg-start-inner\", icons.startPlay);\n      this.appendChild(\"xg-start-inner\", icons.startPause);\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"focusHide\",\n    value: function focusHide() {\n      util.addClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"recover\",\n    value: function recover() {\n      util.removeClass(this.root, \"focus-hide\");\n    }\n  }, {\n    key: \"switchStatus\",\n    value: function switchStatus(isAnimate) {\n      if (isAnimate) {\n        this.setAttr(\"data-state\", !this.player.paused ? \"play\" : \"pause\");\n      } else {\n        this.setAttr(\"data-state\", this.player.paused ? \"play\" : \"pause\");\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(endShow) {\n      var _this3 = this;\n      this._animateId = addAnimate(\"pauseplay\", 400, {\n        start: function start() {\n          util.addClass(_this3.root, \"interact\");\n          _this3.show();\n          _this3.switchStatus(true);\n        },\n        end: function end() {\n          util.removeClass(_this3.root, \"interact\");\n          !endShow && _this3.hide();\n          _this3._animateId = null;\n        }\n      });\n    }\n  }, {\n    key: \"endAnimate\",\n    value: function endAnimate() {\n      util.removeClass(this.root, \"interact\");\n      clearAnimation(this._animateId);\n      this._animateId = null;\n    }\n  }, {\n    key: \"switchPausePlay\",\n    value: function switchPausePlay(e) {\n      var player = this.player;\n      e.cancelable && e.preventDefault();\n      e.stopPropagation();\n      if (player.state < STATES.READY) {\n        return;\n      }\n      var paused = this.player.paused;\n      if (!paused && player.state === STATES.RUNNING) {\n        player.pause();\n      } else {\n        player.play();\n      }\n    }\n  }, {\n    key: \"onPlayPause\",\n    value: function onPlayPause(status) {\n      var config = this.config, player = this.player;\n      if (!player || player.state < STATES.RUNNING || !this.autoPlayStart) {\n        return;\n      }\n      if (config.mode === \"show\") {\n        this.switchStatus();\n        this.show();\n        return;\n      }\n      if (config.mode === \"auto\") {\n        this.switchStatus();\n        return;\n      }\n      if (config.isShowPause && player.paused && !player.ended || config.isShowEnd && player.ended) {\n        this.switchStatus();\n        this.show();\n        this.endAnimate();\n        return;\n      }\n      if (config.disableAnimate) {\n        this.switchStatus();\n        this.hide();\n        return;\n      }\n      if (status === \"play\") {\n        this.autoPlayStart ? this.animate() : this.hide();\n      } else {\n        if (!this.autoPlayStart || player.ended) {\n          return;\n        }\n        this.animate();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.clickHandler);\n      clearAnimation(this._animateId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.playerConfig.autoplay ? this.config.mode === \"auto\" ? \"auto-hide\" : \"hide\" : \"\";\n      return '\\n    <xg-start class=\"xgplayer-start '.concat(className, '\">\\n    <xg-start-inner></xg-start-inner>\\n    </xg-start>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"start\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShowPause: false,\n        isShowEnd: false,\n        disableAnimate: false,\n        mode: \"hide\"\n      };\n    }\n  }]);\n  return Start2;\n}(Plugin);\nexport { Start as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Enter = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Enter2, _Plugin);\n  var _super = _createSuper(Enter2);\n  function Enter2() {\n    _classCallCheck(this, Enter2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Enter2, [{\n    key: \"render\",\n    value: function render() {\n      var innerHtml = this.config.innerHtml;\n      var root = util.createDom(\"xg-enter\", \"\", {}, \"xgplayer-enter\");\n      if (innerHtml && innerHtml instanceof window.HTMLElement) {\n        root.appendChild(innerHtml);\n      } else if (innerHtml && typeof innerHtml === \"string\") {\n        root.innerHTML = innerHtml;\n      } else {\n        var barStr = \"\";\n        for (var i = 1; i <= 12; i++) {\n          barStr += '<div class=\"xgplayer-enter-bar'.concat(i, '\"></div>');\n        }\n        root.innerHTML = '<div class=\"xgplayer-enter-spinner\">'.concat(barStr, \"</div>\");\n      }\n      return root;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"enter\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        innerHtml: \"\",\n        logo: \"\"\n      };\n    }\n  }]);\n  return Enter2;\n}(Plugin);\nexport { Enter as default };\n","function xgIconTips(plugin, textKey, isShow) {\n  try {\n    return ' <div class=\"xg-tips '.concat(isShow ? \"hide\" : \" \", '\" lang-key=\"').concat(plugin.i18nKeys[textKey], '\">\\n    ').concat(plugin.i18n[textKey], \"\\n    </div>\");\n  } catch (e) {\n    return '<div class=\"xg-tips hide\"></div>';\n  }\n}\nexport { xgIconTips };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar MiniScreenIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreenIcon2, _Plugin);\n  var _super = _createSuper(MiniScreenIcon2);\n  function MiniScreenIcon2() {\n    _classCallCheck(this, MiniScreenIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MiniScreenIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.getMini = this.getMini.bind(this);\n      this.exitMini = this.exitMini.bind(this);\n      this.bind(\"click\", this.getMini);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      this.config.onClick && this.config.onClick();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"click\", \"touchend\"], this.getMini);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var langKey = \"MINISCREEN\";\n      return '\\n      <xg-icon class=\"xgplayer-miniicon\">\\n      <div class=\"xgplayer-icon btn-text\"><span class=\"icon-text\" lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span></div>\\n      </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreenIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 10\n      };\n    }\n  }]);\n  return MiniScreenIcon2;\n}(Plugin);\nexport { MiniScreenIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, possibleConstructorReturn as _possibleConstructorReturn, createClass as _createClass, typeof as _typeof } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport EventEmitter from \"eventemitter3\";\nfunction getStyleSize(value) {\n  var num = parseFloat(value);\n  var isValid = value.indexOf(\"%\") === -1 && !Number.isNaN(num);\n  return isValid && num;\n}\nvar measurements = [\"paddingLeft\", \"paddingRight\", \"paddingTop\", \"paddingBottom\", \"marginLeft\", \"marginRight\", \"marginTop\", \"marginBottom\", \"borderLeftWidth\", \"borderRightWidth\", \"borderTopWidth\", \"borderBottomWidth\"];\nvar measurementsLength = measurements.length;\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    size[measurement] = 0;\n  }\n  return size;\n}\nfunction getStyle(elem) {\n  var style = window.getComputedStyle(elem);\n  return style;\n}\nfunction getSize(elem) {\n  if (typeof elem === \"string\") {\n    elem = document.querySelector(elem);\n  }\n  if (!elem || _typeof(elem) !== \"object\" || !elem.nodeType) {\n    return;\n  }\n  var style = getStyle(elem);\n  if (style.display === \"none\") {\n    return getZeroSize();\n  }\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n  var isBorderBox = size.isBorderBox = style.boxSizing === \"border-box\";\n  for (var i = 0; i < measurementsLength; i++) {\n    var measurement = measurements[i];\n    var value = style[measurement];\n    var num = parseFloat(value);\n    size[measurement] = !Number.isNaN(num) ? num : 0;\n  }\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n  var isBorderBoxSizeOuter = isBorderBox;\n  var styleWidth = getStyleSize(style.width);\n  if (styleWidth !== false) {\n    size.width = styleWidth + (isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth);\n  }\n  var styleHeight = getStyleSize(style.height);\n  if (styleHeight !== false) {\n    size.height = styleHeight + (isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight);\n  }\n  size.innerWidth = size.width - (paddingWidth + borderWidth);\n  size.innerHeight = size.height - (paddingHeight + borderHeight);\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n  return size;\n}\nfunction getTouch(touches, dentifier) {\n  for (var i = 0; i < touches.length; i++) {\n    var touch = touches[i];\n    if (touch.identifier === dentifier) {\n      return touch;\n    }\n  }\n}\nvar EVENTS = {\n  START: \"dragStart\",\n  MOVE: \"dragMove\",\n  ENDED: \"dragEnded\"\n};\nvar POST_START_EVENTS = {\n  mousedown: [\"mousemove\", \"mouseup\"],\n  touchstart: [\"touchmove\", \"touchend\", \"touchcancel\"],\n  pointerdown: [\"pointermove\", \"pointerup\", \"pointercancel\"]\n};\nvar Draggabilly = /* @__PURE__ */ function(_EventEmitter) {\n  _inherits(Draggabilly2, _EventEmitter);\n  var _super = _createSuper(Draggabilly2);\n  function Draggabilly2(root) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n    _classCallCheck(this, Draggabilly2);\n    _this = _super.call(this);\n    _this.isEnabled = true;\n    _this.isDragging = false;\n    _this.isDown = false;\n    _this.position = {};\n    _this.downPoint = {};\n    _this.dragPoint = {\n      x: 0,\n      y: 0\n    };\n    _this.startPos = {\n      x: 0,\n      y: 0\n    };\n    _this._root = root instanceof Element ? root : document.querySelector(root);\n    _this._handlerDom = options.handle instanceof Element ? options.handle : document.querySelector(options.handle);\n    if (!_this._root || !_this._handlerDom) {\n      return _possibleConstructorReturn(_this);\n    }\n    _this._bindStartEvent();\n    return _this;\n  }\n  _createClass(Draggabilly2, [{\n    key: \"_bindStartEvent\",\n    value: function _bindStartEvent() {\n      var _this2 = this;\n      if (\"ontouchstart\" in window) {\n        this._startKey = \"touchstart\";\n      } else {\n        this._startKey = \"mousedown\";\n      }\n      this[\"on\".concat(this._startKey)] = this[\"on\".concat(this._startKey)].bind(this);\n      this._handlerDom.addEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n      POST_START_EVENTS[this._startKey].map(function(key) {\n        _this2[\"on\".concat(key)] = _this2[\"on\".concat(key)].bind(_this2);\n      });\n    }\n  }, {\n    key: \"_unbindStartEvent\",\n    value: function _unbindStartEvent() {\n      this._handlerDom.removeEventListener(this._startKey, this[\"on\".concat(this._startKey)]);\n    }\n  }, {\n    key: \"_bindPostStartEvents\",\n    value: function _bindPostStartEvents(event) {\n      var _this3 = this;\n      if (!event) {\n        return;\n      }\n      var events = POST_START_EVENTS[this._startKey];\n      events.map(function(eventName) {\n        window.addEventListener(eventName, _this3[\"on\".concat(eventName)]);\n      });\n      this._boundPointerEvents = events;\n    }\n  }, {\n    key: \"_unbindPostStartEvents\",\n    value: function _unbindPostStartEvents() {\n      var _this4 = this;\n      if (!this._boundPointerEvents) {\n        return;\n      }\n      this._boundPointerEvents.map(function(eventName) {\n        window.removeEventListener(eventName, _this4[\"on\".concat(eventName)]);\n      });\n      delete this._boundPointerEvents;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.isEnabled = true;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.isEnabled = false;\n      if (this.isDragging) {\n        this.onUp();\n      }\n    }\n  }, {\n    key: \"onDocUp\",\n    value: function onDocUp(e) {\n      this.onUp();\n    }\n  }, {\n    key: \"animate\",\n    value: function animate() {\n      var _this5 = this;\n      if (!this.isDragging) {\n        return;\n      }\n      this.positionDrag();\n      window.requestAnimationFrame(function() {\n        _this5.animate();\n      });\n    }\n  }, {\n    key: \"positionDrag\",\n    value: function positionDrag() {\n      var transform = \"translate3d(\".concat(this.dragPoint.x, \"px, \").concat(this.dragPoint.y, \"px, 0)\");\n      this._root.style.transform = transform;\n      this._root.style.webKitTransform = transform;\n    }\n  }, {\n    key: \"setLeftTop\",\n    value: function setLeftTop() {\n      this._root.style.left = this.position.x + \"px\";\n      this._root.style.top = this.position.y + \"px\";\n    }\n  }, {\n    key: \"onmousedown\",\n    value: function onmousedown(e) {\n      this.dragStart(e, e);\n    }\n  }, {\n    key: \"onmousemove\",\n    value: function onmousemove(e) {\n      this.dragMove(e, e);\n    }\n  }, {\n    key: \"onmouseup\",\n    value: function onmouseup(e) {\n      this.dragEnd(e, e);\n    }\n  }, {\n    key: \"ontouchstart\",\n    value: function ontouchstart(e) {\n      var touch = e.changedTouches[0];\n      this.dragStart(e, touch);\n      this.touchIdentifier = touch.pointerId !== void 0 ? touch.pointerId : touch.identifier;\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchmove\",\n    value: function ontouchmove(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragMove(e, touch);\n      }\n    }\n  }, {\n    key: \"ontouchend\",\n    value: function ontouchend(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragEnd(e, touch);\n      }\n      e.preventDefault();\n    }\n  }, {\n    key: \"ontouchcancel\",\n    value: function ontouchcancel(e) {\n      var touch = getTouch(e.changedTouches, this.touchIdentifier);\n      if (touch) {\n        this.dragCancel(e, touch);\n      }\n    }\n  }, {\n    key: \"dragStart\",\n    value: function dragStart(e, pointer) {\n      if (!this._root || this.isDown || !this.isEnabled) {\n        return;\n      }\n      this.downPoint = pointer;\n      this.dragPoint.x = 0;\n      this.dragPoint.y = 0;\n      this._getPosition();\n      var size = getSize(this._root);\n      this.startPos.x = this.position.x;\n      this.startPos.y = this.position.y;\n      this.startPos.maxY = window.innerHeight - size.height;\n      this.startPos.maxX = window.innerWidth - size.width;\n      this.setLeftTop();\n      this.isDown = true;\n      this._bindPostStartEvents(e);\n    }\n  }, {\n    key: \"dragRealStart\",\n    value: function dragRealStart(e, pointer) {\n      this.isDragging = true;\n      this.animate();\n      this.emit(EVENTS.START, this.startPos);\n    }\n  }, {\n    key: \"dragEnd\",\n    value: function dragEnd(e, pointer) {\n      if (!this._root) {\n        return;\n      }\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this._root.style.transform = \"\";\n        this.setLeftTop();\n        this.emit(EVENTS.ENDED);\n      }\n      this.presetInfo();\n    }\n  }, {\n    key: \"_dragPointerMove\",\n    value: function _dragPointerMove(e, pointer) {\n      var moveVector = {\n        x: pointer.pageX - this.downPoint.pageX,\n        y: pointer.pageY - this.downPoint.pageY\n      };\n      if (!this.isDragging && this.hasDragStarted(moveVector)) {\n        this.dragRealStart(e, pointer);\n      }\n      return moveVector;\n    }\n  }, {\n    key: \"dragMove\",\n    value: function dragMove(e, pointer) {\n      e = e || window.event;\n      if (!this.isDown) {\n        return;\n      }\n      var _this$startPos = this.startPos, x = _this$startPos.x, y = _this$startPos.y;\n      var moveVector = this._dragPointerMove(e, pointer);\n      var dragX = moveVector.x;\n      var dragY = moveVector.y;\n      dragX = this.checkContain(\"x\", dragX, x);\n      dragY = this.checkContain(\"y\", dragY, y);\n      this.position.x = x + dragX;\n      this.position.y = y + dragY;\n      this.dragPoint.x = dragX;\n      this.dragPoint.y = dragY;\n      this.emit(EVENTS.MOVE, this.position);\n    }\n  }, {\n    key: \"dragCancel\",\n    value: function dragCancel(e, pointer) {\n      this.dragEnd(e, pointer);\n    }\n  }, {\n    key: \"presetInfo\",\n    value: function presetInfo() {\n      this.isDragging = false;\n      this.startPos = {\n        x: 0,\n        y: 0\n      };\n      this.dragPoint = {\n        x: 0,\n        y: 0\n      };\n      this.isDown = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unbindStartEvent();\n      this._unbindPostStartEvents();\n      if (this.isDragging) {\n        this.dragEnd();\n      }\n      this.removeAllListeners();\n      this._handlerDom = null;\n    }\n  }, {\n    key: \"hasDragStarted\",\n    value: function hasDragStarted(moveVector) {\n      return Math.abs(moveVector.x) > 3 || Math.abs(moveVector.y) > 3;\n    }\n  }, {\n    key: \"checkContain\",\n    value: function checkContain(axis, drag, grid) {\n      if (drag + grid < 0) {\n        return 0 - grid;\n      }\n      if (axis === \"x\" && drag + grid > this.startPos.maxX) {\n        return this.startPos.maxX - grid;\n      }\n      if (axis === \"y\" && drag + grid > this.startPos.maxY) {\n        return this.startPos.maxY - grid;\n      }\n      return drag;\n    }\n  }, {\n    key: \"_getPosition\",\n    value: function _getPosition() {\n      var style = window.getComputedStyle(this._root);\n      var x = this._getPositionCoord(style.left, \"width\");\n      var y = this._getPositionCoord(style.top, \"height\");\n      this.position.x = Number.isNaN(x) ? 0 : x;\n      this.position.y = Number.isNaN(y) ? 0 : y;\n      this._addTransformPosition(style);\n    }\n  }, {\n    key: \"_addTransformPosition\",\n    value: function _addTransformPosition(style) {\n      var transform = style.transform;\n      if (transform.indexOf(\"matrix\") !== 0) {\n        return;\n      }\n      var matrixValues = transform.split(\",\");\n      var xIndex = transform.indexOf(\"matrix3d\") === 0 ? 12 : 4;\n      var translateX = parseInt(matrixValues[xIndex], 10);\n      var translateY = parseInt(matrixValues[xIndex + 1], 10);\n      this.position.x += translateX;\n      this.position.y += translateY;\n    }\n  }, {\n    key: \"_getPositionCoord\",\n    value: function _getPositionCoord(styleSide, measure) {\n      if (styleSide.indexOf(\"%\") !== -1) {\n        var parentSize = getSize(this._root.parentNode);\n        return !parentSize ? 0 : parseFloat(styleSide) / 100 * parentSize[measure];\n      }\n      return parseInt(styleSide, 10);\n    }\n  }]);\n  return Draggabilly2;\n}(EventEmitter);\nexport { Draggabilly as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { PAUSE, PLAY, MINI_STATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nimport MiniScreenIcon from \"./miniScreenIcon.js\";\nexport { default as MiniScreenIcon } from \"./miniScreenIcon.js\";\nimport Draggabilly from \"../../utils/draggabilly.js\";\nvar MiniScreen = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniScreen2, _Plugin);\n  var _super = _createSuper(MiniScreen2);\n  function MiniScreen2(args) {\n    var _this;\n    _classCallCheck(this, MiniScreen2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onCancelClick\", function(e) {\n      _this.exitMini();\n      _this.isClose = true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onCenterClick\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      player.paused ? player.play() : player.pause();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onScroll\", function(e) {\n      if (!window.scrollY && window.scrollY !== 0 || Math.abs(window.scrollY - _this.pos.scrollY) < 50) {\n        return;\n      }\n      var scrollHeight = parseInt(util.getCss(_this.player.root, \"height\"));\n      scrollHeight += _this.config.scrollTop;\n      _this.pos.scrollY = window.scrollY;\n      if (window.scrollY > scrollHeight + 5) {\n        !_this.isMini && !_this.isClose && _this.getMini();\n      } else if (window.scrollY <= scrollHeight) {\n        _this.isMini && _this.exitMini();\n        _this.isClose = false;\n      }\n    });\n    _this.isMini = false;\n    _this.isClose = false;\n    var _assertThisInitialize2 = _assertThisInitialized(_this), config = _assertThisInitialize2.config;\n    _this.pos = {\n      left: config.left < 0 ? window.innerWidth - config.width - 20 : config.left,\n      top: config.top < 0 ? window.innerHeight - config.height - 20 : config.top,\n      height: _this.config.height,\n      width: _this.config.width,\n      scrollY: window.scrollY || 0\n    };\n    _this.lastStyle = null;\n    return _this;\n  }\n  _createClass(MiniScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.mini === \"boolean\") {\n        args.config.isShowIcon = args.player.config.mini;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this.initIcons();\n      this.on(PAUSE, function() {\n        _this2.setAttr(\"data-state\", \"pause\");\n      });\n      this.on(PLAY, function() {\n        _this2.setAttr(\"data-state\", \"play\");\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var _this3 = this;\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      if (this.config.isShowIcon) {\n        var options = {\n          config: {\n            onClick: function onClick() {\n              _this3.getMini();\n            }\n          }\n        };\n        player.controls.registerPlugin(MiniScreenIcon, options, MiniScreenIcon.pluginName);\n      }\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.bind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.bind(\".play-icon\", eventName, this.onCenterClick);\n      if (!this.config.disableDrag) {\n        this._draggabilly = new Draggabilly(this.player.root, {\n          handle: this.root\n        });\n      }\n      if (this.config.isScrollSwitch) {\n        window.addEventListener(\"scroll\", this.onScroll);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".play-icon\", icons.play);\n      this.appendChild(\".play-icon\", icons.pause);\n    }\n  }, {\n    key: \"getMini\",\n    value: function getMini() {\n      var _this4 = this;\n      if (this.isMini) {\n        return;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      this.lastStyle = {};\n      util.addClass(player.root, \"xgplayer-mini\");\n      [\"width\", \"height\", \"top\", \"left\"].map(function(key) {\n        _this4.lastStyle[key] = target.style[key];\n        target.style[key] = \"\".concat(_this4.pos[key], \"px\");\n      });\n      if (playerConfig.fluid) {\n        target.style[\"padding-top\"] = \"\";\n      }\n      this.emit(MINI_STATE_CHANGE, true);\n      player.isMini = this.isMini = true;\n    }\n  }, {\n    key: \"exitMini\",\n    value: function exitMini() {\n      var _this5 = this;\n      if (!this.isMini) {\n        return false;\n      }\n      var player = this.player, playerConfig = this.playerConfig;\n      var target = this.config.target || this.player.root;\n      util.removeClass(player.root, \"xgplayer-mini\");\n      if (this.lastStyle) {\n        Object.keys(this.lastStyle).map(function(key) {\n          target.style[key] = _this5.lastStyle[key];\n        });\n      }\n      this.lastStyle = null;\n      if (playerConfig.fluid) {\n        player.root.style.width = \"100%\";\n        player.root.style.height = \"0\";\n        player.root.style[\"padding-top\"] = \"\".concat(playerConfig.height * 100 / playerConfig.width, \"%\");\n      }\n      this.emit(MINI_STATE_CHANGE, false);\n      this.isMini = player.isMini = false;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      window.removeEventListener(\"scroll\", this.onScroll);\n      var eventName = util.checkTouchSupport() ? \"touchend\" : \"click\";\n      this.unbind(\".mini-cancel-btn\", eventName, this.onCancelClick);\n      this.unbind(\".play-icon\", eventName, this.onCenterClick);\n      this._draggabilly && this._draggabilly.destroy();\n      this._draggabilly = null;\n      this.exitMini();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n      <xg-mini-layer class=\"xg-mini-layer\">\\n      <xg-mini-header class=\"xgplayer-mini-header\">\\n      '.concat(xgIconTips(this, \"MINI_DRAG\", this.playerConfig.isHideTips), '\\n      </xg-mini-header>\\n      <div class=\"mini-cancel-btn\">\\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\">\\n          <path fill=\"#fff\" fill-rule=\"evenodd\" d=\"M3.99 3.49a1 1 0 0 1 1.414 0L10 8.085l4.596-4.595a1 1 0 1 1 1.414 1.414L11.414 9.5l4.596 4.596a1 1 0 0 1 .084 1.32l-.084.094a1 1 0 0 1-1.414 0L10 10.914 5.404 15.51a1 1 0 0 1-1.414-1.414L8.585 9.5 3.99 4.904a1 1 0 0 1-.084-1.32z\"></path>\\n        </svg>\\n      </div>\\n      <div class=\"play-icon\">\\n      </div>\\n      </xg-mini-layer>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"miniscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 10,\n        disable: false,\n        width: 320,\n        height: 180,\n        left: -1,\n        top: -1,\n        isShowIcon: false,\n        isScrollSwitch: false,\n        scrollTop: 0,\n        disableDrag: false\n      };\n    }\n  }]);\n  return MiniScreen2;\n}(Plugin);\nexport { MiniScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { ENTER_PLAYER, LEAVE_PLAYER } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nvar MOUSE_EVENTS = {\n  mouseenter: \"onMouseEnter\",\n  mouseleave: \"onMouseLeave\",\n  mousemove: \"onMouseMove\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar PCPlugin = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(PCPlugin2, _BasePlugin);\n  var _super = _createSuper(PCPlugin2);\n  function PCPlugin2() {\n    var _this;\n    _classCallCheck(this, PCPlugin2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, playerConfig = _assertThisInitialize.playerConfig;\n      if (!player.isActive) {\n        player.focus({\n          autoHide: !playerConfig.closeDelayBlur\n        });\n        !playerConfig.closeFocusVideoFocus && player.media.focus();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), playerConfig = _assertThisInitialize2.playerConfig, player = _assertThisInitialize2.player;\n      !playerConfig.closeFocusVideoFocus && player.media.focus();\n      if (playerConfig.closeDelayBlur) {\n        player.focus({\n          autoHide: false\n        });\n      } else {\n        player.focus();\n      }\n      _this.emit(ENTER_PLAYER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      var _this$playerConfig = _this.playerConfig, closePlayerBlur = _this$playerConfig.closePlayerBlur, leavePlayerTime = _this$playerConfig.leavePlayerTime, closeDelayBlur = _this$playerConfig.closeDelayBlur;\n      if (!closePlayerBlur && !closeDelayBlur) {\n        if (leavePlayerTime) {\n          _this.player.focus({\n            autoHide: true,\n            delay: leavePlayerTime\n          });\n        } else {\n          _this.player.blur({\n            ignorePaused: true\n          });\n        }\n      }\n      _this.emit(LEAVE_PLAYER);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoClick\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, playerConfig = _assertThisInitialize3.playerConfig;\n      if (e.target && playerConfig.closeVideoClick) {\n        return;\n      }\n      if (e.target === player.root || e.target === player.media || e.target === player.innerContainer || e.target === player.media.__canvas) {\n        e.preventDefault();\n        if (!playerConfig.closeVideoStopPropagation) {\n          e.stopPropagation();\n        }\n        _this._clickCount++;\n        if (_this.clickTimer) {\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }\n        _this.clickTimer = setTimeout(function() {\n          if (!_this._clickCount) {\n            return;\n          }\n          _this._clickCount--;\n          runHooks(_assertThisInitialized(_this), HOOKS[0], function(plugin, data) {\n            _this.switchPlayPause(data.e);\n          }, {\n            e,\n            paused: player.paused\n          });\n          clearTimeout(_this.clickTimer);\n          _this.clickTimer = null;\n        }, 300);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoDblClick\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), player = _assertThisInitialize4.player, playerConfig = _assertThisInitialize4.playerConfig;\n      if (playerConfig.closeVideoDblclick || !e.target || e.target !== player.media && e.target !== player.media.__canvas) {\n        return;\n      }\n      if (!playerConfig.closeVideoClick && _this._clickCount < 2) {\n        _this._clickCount = 0;\n        return;\n      }\n      _this._clickCount = 0;\n      if (_this.clickTimer) {\n        clearTimeout(_this.clickTimer);\n        _this.clickTimer = null;\n      }\n      e.preventDefault();\n      e.stopPropagation();\n      runHooks(_assertThisInitialized(_this), HOOKS[1], function(plugin, data) {\n        _this.emitUserAction(data.e, \"switch_fullscreen\", {\n          props: \"fullscreen\",\n          from: player.fullscreen,\n          to: !player.fullscreen\n        });\n        player.fullscreen ? player.exitFullscreen() : player.getFullscreen();\n      }, {\n        e,\n        fullscreen: player.fullscreen\n      });\n    });\n    return _this;\n  }\n  _createClass(PCPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._clickCount = 0;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var isMobileSimulateMode = this.playerConfig.isMobileSimulateMode;\n      if (isMobileSimulateMode === \"mobile\" || sniffer.device === \"mobile\" && !sniffer.os.isIpad) {\n        return;\n      }\n      this.initEvents();\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      var _this3 = this;\n      var _this$player = this.player, media = _this$player.media, root = _this$player.root;\n      var enableContextmenu = this.playerConfig.enableContextmenu;\n      root && root.addEventListener(\"click\", this.onVideoClick, false);\n      root && root.addEventListener(\"dblclick\", this.onVideoDblClick, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.addEventListener(item, _this3[MOUSE_EVENTS[item]], false);\n      });\n      !enableContextmenu && media && media.addEventListener(\"contextmenu\", this.onContextmenu, false);\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause(e) {\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        props: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (!player.ended) {\n        player.paused ? player.play() : player.pause();\n      } else {\n        player.duration !== Infinity && player.duration > 0 && player.replay();\n      }\n    }\n  }, {\n    key: \"onContextmenu\",\n    value: function onContextmenu(e) {\n      e = e || window.event;\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      } else {\n        e.returnValue = false;\n        e.cancelBubble = true;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var _this$player2 = this.player, video = _this$player2.video, root = _this$player2.root;\n      this.clickTimer && clearTimeout(this.clickTimer);\n      root.removeEventListener(\"click\", this.onVideoClick, false);\n      root.removeEventListener(\"dblclick\", this.onVideoDblClick, false);\n      video.removeEventListener(\"contextmenu\", this.onContextmenu, false);\n      Object.keys(MOUSE_EVENTS).map(function(item) {\n        root.removeEventListener(item, _this4[MOUSE_EVENTS[item]], false);\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pc\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return PCPlugin2;\n}(BasePlugin);\nexport { PCPlugin as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, defineProperty as _defineProperty } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nvar EVENTS = {\n  PRESS: \"press\",\n  PRESS_END: \"pressend\",\n  DOUBlE_CLICK: \"doubleclick\",\n  CLICK: \"click\",\n  TOUCH_MOVE: \"touchmove\",\n  TOUCH_START: \"touchstart\",\n  TOUCH_END: \"touchend\"\n};\nvar TOUCHS = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n};\nvar MOUSES = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n};\nfunction getTouch(touches) {\n  if (touches && touches.length > 0) {\n    return touches[touches.length - 1];\n  } else {\n    return null;\n  }\n}\nfunction getDefaultConfig() {\n  return {\n    pressDelay: 600,\n    dbClickDelay: 200,\n    disablePress: false,\n    disableDbClick: false,\n    miniStep: 2,\n    needPreventDefault: true\n  };\n}\nvar Touche = /* @__PURE__ */ function() {\n  function Touche2(dom) {\n    var _this = this;\n    var _config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n      eventType: \"touch\"\n    };\n    _classCallCheck(this, Touche2);\n    _defineProperty(this, \"onTouchStart\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      var touch = getTouch(e.touches);\n      _pos.x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.y = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      _pos.start = true;\n      _this.__setPress(e);\n      root.addEventListener(_this.events.end, _this.onTouchEnd);\n      root.addEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.addEventListener(_this.events.move, _this.onTouchMove);\n      _this.trigger(EVENTS.TOUCH_START, e);\n    });\n    _defineProperty(this, \"onTouchCancel\", function(e) {\n      _this.onTouchEnd(e);\n    });\n    _defineProperty(this, \"onTouchEnd\", function(e) {\n      var _pos = _this._pos, root = _this.root;\n      _this.__clearPress();\n      root.removeEventListener(_this.events.cancel, _this.onTouchCancel);\n      root.removeEventListener(_this.events.end, _this.onTouchEnd);\n      root.removeEventListener(_this.events.move, _this.onTouchMove);\n      e.moving = _pos.moving;\n      e.press = _pos.press;\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _this.trigger(EVENTS.TOUCH_END, e);\n      !_pos.press && !_pos.moving && _this.__setDb(e);\n      _pos.press = false;\n      _pos.start = false;\n      _pos.moving = false;\n    });\n    _defineProperty(this, \"onTouchMove\", function(e) {\n      var _pos = _this._pos, config = _this.config;\n      var touch = getTouch(e.touches);\n      var x = touch ? parseInt(touch.pageX, 10) : e.pageX;\n      var y = touch ? parseInt(touch.pageY, 10) : e.pageX;\n      var diffx = x - _pos.x;\n      var diffy = y - _pos.y;\n      if (Math.abs(diffy) < config.miniStep && Math.abs(diffx) < config.miniStep) {\n        return;\n      }\n      _this.__clearPress();\n      _pos.press && _this.trigger(EVENTS.PRESS_END, e);\n      _pos.press = false;\n      _pos.moving = true;\n      _this.trigger(EVENTS.TOUCH_MOVE, e);\n    });\n    this._pos = {\n      moving: false,\n      start: false,\n      x: 0,\n      y: 0\n    };\n    this.config = getDefaultConfig();\n    Object.keys(_config).map(function(key) {\n      _this.config[key] = _config[key];\n    });\n    this.root = dom;\n    this.events = _config.eventType === \"mouse\" ? MOUSES : TOUCHS;\n    this.pressIntrvalId = null;\n    this.dbIntrvalId = null;\n    this.__handlers = {};\n    this._initEvent();\n  }\n  _createClass(Touche2, [{\n    key: \"_initEvent\",\n    value: function _initEvent() {\n      this.root.addEventListener(this.events.start, this.onTouchStart);\n    }\n  }, {\n    key: \"__setPress\",\n    value: function __setPress(e) {\n      var _this2 = this;\n      var config = this.config;\n      if (this.pressIntrvalId) {\n        this.__clearPress();\n      }\n      this.pressIntrvalId = setTimeout(function() {\n        _this2.trigger(EVENTS.PRESS, e);\n        _this2._pos.press = true;\n        _this2.__clearPress();\n      }, config.pressDelay);\n    }\n  }, {\n    key: \"__clearPress\",\n    value: function __clearPress() {\n      window.clearTimeout(this.pressIntrvalId);\n      this.pressIntrvalId = null;\n    }\n  }, {\n    key: \"__setDb\",\n    value: function __setDb(e) {\n      var _this3 = this;\n      var config = this.config;\n      if (this.dbIntrvalId) {\n        this.__clearDb();\n        this.trigger(EVENTS.DOUBlE_CLICK, e);\n        return;\n      }\n      this.dbIntrvalId = setTimeout(function() {\n        _this3.__clearDb();\n        if (!_this3._pos.start && !_this3._pos.press && !_this3._pos.moving) {\n          _this3.trigger(EVENTS.CLICK, e);\n        }\n      }, config.dbClickDelay);\n    }\n  }, {\n    key: \"__clearDb\",\n    value: function __clearDb() {\n      clearTimeout(this.dbIntrvalId);\n      this.dbIntrvalId = null;\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler) {\n      if (!this.__handlers[event]) {\n        this.__handlers[event] = [];\n      }\n      this.__handlers[event].push(handler);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      var handlers = this.__handlers[event];\n      var index = -1;\n      for (var i = 0; i < handlers.length; i++) {\n        if (handlers[i] === handler) {\n          index = i;\n          break;\n        }\n      }\n      if (index >= 0) {\n        this.__handlers[event].splice(index, 1);\n      }\n    }\n  }, {\n    key: \"trigger\",\n    value: function trigger(event, e) {\n      if (!this.__handlers[event]) {\n        return;\n      }\n      this.__handlers[event].map(function(handler) {\n        try {\n          handler(e);\n        } catch (error) {\n          console.error(\"trigger>>:\".concat(event), error);\n        }\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this4 = this;\n      var map = {\n        touchend: \"onTouchEnd\",\n        touchmove: \"onTouchMove\",\n        touchstart: \"onTouchStart\"\n      };\n      Object.keys(map).forEach(function(key) {\n        _this4.root.removeEventListener(key, _this4[map[key]]);\n      });\n    }\n  }]);\n  return Touche2;\n}();\nexport { Touche as default };\n","function SeekTipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"9\" viewBox=\"0 0 8 9\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n  <path opacity=\"0.54\"\\n    d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\"\\n    fill=\"white\" />\\n  <path transform=\"translate(5 0)\" d=\"M7.5 3.63397C8.16667 4.01887 8.16667 4.98113 7.5 5.36603L1.5 8.83013C0.833334 9.21503 0 8.7339 0 7.9641L0 1.0359C0 0.266098 0.833333 -0.215027 1.5 0.169873L7.5 3.63397Z\" fill=\"white\"/>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { SeekTipIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, CANPLAY, ENDED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { runHooks } from \"../../plugin/hooksDescriptor.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport { STATES } from \"../../state.js\";\nimport Touche from \"./touch.js\";\nimport SeekTipIcon from \"../assets/seekicon.js\";\nvar ACTIONS = {\n  AUTO: \"auto\",\n  SEEKING: \"seeking\",\n  PLAYBACK: \"playbackrate\",\n  LIGHT: \"\"\n};\nvar HOOKS = [\"videoClick\", \"videoDbClick\"];\nvar MobilePlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MobilePlugin2, _Plugin);\n  var _super = _createSuper(MobilePlugin2);\n  function MobilePlugin2(options) {\n    var _this;\n    _classCallCheck(this, MobilePlugin2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"onTouchStart\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config, pos = _assertThisInitialize.pos, playerConfig = _assertThisInitialize.playerConfig;\n      var touche = _this.getTouche(e);\n      if (touche && !config.disableGesture && _this.duration > 0 && !player.ended) {\n        pos.isStart = true;\n        _this.timer && clearTimeout(_this.timer);\n        util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n        _this.find(\".xg-dur\").innerHTML = util.format(_this.duration);\n        var rect = _this.root.getBoundingClientRect();\n        if (player.rotateDeg === 90) {\n          pos.top = rect.left;\n          pos.left = rect.top;\n          pos.width = rect.height;\n          pos.height = rect.width;\n        } else {\n          pos.top = rect.top;\n          pos.left = rect.left;\n          pos.width = rect.width;\n          pos.height = rect.height;\n        }\n        var _x = parseInt(touche.pageX - pos.left, 10);\n        var _y = parseInt(touche.pageY - pos.top, 10);\n        pos.x = player.rotateDeg === 90 ? _y : _x;\n        pos.y = player.rotateDeg === 90 ? _x : _y;\n        pos.scopeL = config.scopeL * pos.width;\n        pos.scopeR = (1 - config.scopeR) * pos.width;\n        pos.scopeM1 = pos.width * (1 - config.scopeM) / 2;\n        pos.scopeM2 = pos.width - pos.scopeM1;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchMove\", function(e) {\n      var touche = _this.getTouche(e);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos, config = _assertThisInitialize2.config, player = _assertThisInitialize2.player;\n      if (!touche || config.disableGesture || !_this.duration || !pos.isStart) {\n        return;\n      }\n      var miniMoveStep = config.miniMoveStep, hideControlsActive = config.hideControlsActive;\n      var _x = parseInt(touche.pageX - pos.left, 10);\n      var _y = parseInt(touche.pageY - pos.top, 10);\n      var x = player.rotateDeg === 90 ? _y : _x;\n      var y = player.rotateDeg === 90 ? _x : _y;\n      if (Math.abs(x - pos.x) > miniMoveStep || Math.abs(y - pos.y) > miniMoveStep) {\n        var diffx = x - pos.x;\n        var diffy = y - pos.y;\n        var scope = pos.scope;\n        if (scope === -1) {\n          scope = _this.checkScope(x, y, diffx, diffy, pos);\n          if (scope === 0) {\n            !hideControlsActive ? player.focus({\n              autoHide: false\n            }) : player.blur();\n            !pos.time && (pos.time = parseInt(player.currentTime * 1e3, 10) + _this.timeOffset * 1e3);\n          }\n          pos.scope = scope;\n        }\n        if (scope === -1 || scope > 0 && !config.gestureY || scope === 0 && !config.gestureX) {\n          return;\n        }\n        e.cancelable && e.preventDefault();\n        _this.executeMove(diffx, diffy, scope, pos.width, pos.height);\n        pos.x = x;\n        pos.y = y;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onTouchEnd\", function(e) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), player = _assertThisInitialize3.player, pos = _assertThisInitialize3.pos, playerConfig = _assertThisInitialize3.playerConfig;\n      setTimeout(function() {\n        player.getPlugin(\"progress\") && player.getPlugin(\"progress\").resetSeekState();\n      }, 10);\n      if (!pos.isStart) {\n        return;\n      }\n      if (pos.scope > -1) {\n        e.cancelable && e.preventDefault();\n      }\n      var _this$config = _this.config, disableGesture = _this$config.disableGesture, gestureX = _this$config.gestureX;\n      if (!disableGesture && gestureX) {\n        _this.endLastMove(pos.scope);\n      } else {\n        pos.time = 0;\n      }\n      pos.scope = -1;\n      _this.resetPos();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      _this.changeAction(ACTIONS.AUTO);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchMove\", function(e) {\n      if (_this.config.disableGesture || !_this.config.gestureX) {\n        return;\n      }\n      if (_this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        if (!_this.pos.isStart) {\n          _this.onTouchStart(e);\n        } else {\n          _this.onTouchMove(e);\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRootTouchEnd\", function(e) {\n      if (_this.pos.isStart && _this.checkIsRootTarget(e)) {\n        e.stopPropagation();\n        _this.onTouchEnd(e);\n      }\n    });\n    _this.pos = {\n      isStart: false,\n      x: 0,\n      y: 0,\n      time: 0,\n      volume: 0,\n      rate: 1,\n      light: 0,\n      width: 0,\n      height: 0,\n      scopeL: 0,\n      scopeR: 0,\n      scopeM1: 0,\n      scopeM2: 0,\n      scope: -1\n    };\n    _this.timer = null;\n    return _this;\n  }\n  _createClass(MobilePlugin2, [{\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        seekTipIcon: {\n          icon: SeekTipIcon,\n          class: \"xg-seek-pre\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      HOOKS.map(function(item) {\n        _this2.__hooks[item] = null;\n      });\n      var playerConfig = this.playerConfig, config = this.config, player = this.player;\n      if (playerConfig.closeVideoDblclick === true) {\n        config.closedbClick = true;\n      }\n      this.resetPos();\n      if (!util.isUndefined(playerConfig.disableGesture)) {\n        config.disableGesture = !!playerConfig.disableGesture;\n      }\n      this.appendChild(\".xg-seek-icon\", this.icons.seekTipIcon);\n      this.xgMask = util.createDom(\"xg-mask\", \"\", {}, \"xgmask\");\n      player.root.appendChild(this.xgMask);\n      this.initCustomStyle();\n      this.registerThumbnail();\n      var eventType = this.domEventType === \"mouse\" ? \"mouse\" : \"touch\";\n      this.touch = new Touche(this.root, {\n        eventType,\n        needPreventDefault: !this.config.disableGesture\n      });\n      this.root.addEventListener(\"contextmenu\", function(e) {\n        e.preventDefault();\n      });\n      player.root.addEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.addEventListener(\"touchend\", this.onRootTouchEnd, true);\n      this.on(DURATION_CHANGE, function() {\n        var player2 = _this2.player, config2 = _this2.config;\n        if (player2.duration * 1e3 < config2.moveDuration) {\n          config2.moveDuration = player2.duration * 1e3;\n        }\n      });\n      this.on([CANPLAY, ENDED], function() {\n        var _this2$pos = _this2.pos, time = _this2$pos.time, isStart = _this2$pos.isStart;\n        if (!isStart && time > 0) {\n          _this2.pos.time = 0;\n        }\n      });\n      var eventsMap = {\n        touchstart: \"onTouchStart\",\n        touchmove: \"onTouchMove\",\n        touchend: \"onTouchEnd\",\n        press: \"onPress\",\n        pressend: \"onPressEnd\",\n        click: \"onClick\",\n        doubleclick: \"onDbClick\"\n      };\n      Object.keys(eventsMap).map(function(key) {\n        _this2.touch.on(key, function(e) {\n          _this2[eventsMap[key]](e);\n        });\n      });\n      if (!config.disableActive) {\n        var progressPlugin = player.plugins.progress;\n        if (progressPlugin) {\n          progressPlugin.addCallBack(\"dragmove\", function(data) {\n            _this2.activeSeekNote(data.currentTime, data.forward);\n          });\n          [\"dragend\", \"click\"].forEach(function(key) {\n            progressPlugin.addCallBack(key, function() {\n              _this2.changeAction(ACTIONS.AUTO);\n            });\n          });\n        }\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail = thumbnail.createThumbnail(null, \"mobile-thumbnail\");\n        var timePreview = this.find(\".time-preview\");\n        timePreview.insertBefore(this.thumbnail, timePreview.children[0]);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var playedColor = commonStyle.playedColor, progressColor = commonStyle.progressColor, timePreviewStyle = commonStyle.timePreviewStyle, curTimeColor = commonStyle.curTimeColor, durationColor = commonStyle.durationColor;\n      if (playedColor) {\n        this.find(\".xg-curbar\").style.backgroundColor = playedColor;\n      }\n      if (progressColor) {\n        this.find(\".xg-bar\").style.backgroundColor = progressColor;\n      }\n      if (timePreviewStyle) {\n        var previewDom = this.find(\".time-preview\");\n        Object.keys(timePreviewStyle).forEach(function(key) {\n          previewDom.style[key] = timePreviewStyle[key];\n        });\n      }\n      var curColor = curTimeColor || playedColor;\n      var durColor = durationColor;\n      curColor && (this.find(\".xg-cur\").style.color = curColor);\n      durColor && (this.find(\".xg-dur\").style.color = durColor);\n      this.config.disableTimeProgress && util.addClass(this.find(\".xg-timebar\"), \"hide\");\n    }\n  }, {\n    key: \"resetPos\",\n    value: function resetPos() {\n      var _this3 = this;\n      if (this.pos) {\n        this.pos.isStart = false;\n        this.pos.scope = -1;\n        [\"x\", \"y\", \"width\", \"height\", \"scopeL\", \"scopeR\", \"scopeM1\", \"scopeM2\"].map(function(item) {\n          _this3.pos[item] = 0;\n        });\n      } else {\n        this.pos = {\n          isStart: false,\n          x: 0,\n          y: 0,\n          volume: 0,\n          rate: 1,\n          light: 0,\n          width: 0,\n          height: 0,\n          scopeL: 0,\n          scopeR: 0,\n          scopeM1: 0,\n          scopeM2: 0,\n          scope: -1,\n          time: 0\n        };\n      }\n    }\n  }, {\n    key: \"changeAction\",\n    value: function changeAction(action) {\n      var player = this.player, root = this.root;\n      root.setAttribute(\"data-xg-action\", action);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.recover();\n    }\n  }, {\n    key: \"getTouche\",\n    value: function getTouche(e) {\n      var rotateDeg = this.player.rotateDeg;\n      var touche = e.touches && e.touches.length > 0 ? e.touches[e.touches.length - 1] : e;\n      return rotateDeg === 0 ? {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      } : {\n        pageX: touche.pageX,\n        pageY: touche.pageY\n      };\n    }\n  }, {\n    key: \"checkScope\",\n    value: function checkScope(x, y, diffx, diffy, pos) {\n      var width = pos.width;\n      var scope = -1;\n      if (x < 0 || x > width) {\n        return scope;\n      }\n      var mold = diffy === 0 ? Math.abs(diffx) : Math.abs(diffx / diffy);\n      if (Math.abs(diffx) > 0 && mold >= 1.73 && x > pos.scopeM1 && x < pos.scopeM2) {\n        scope = 0;\n      } else if (Math.abs(diffx) === 0 || mold <= 0.57) {\n        scope = x < pos.scopeL ? 1 : x > pos.scopeR ? 2 : 3;\n      }\n      return scope;\n    }\n  }, {\n    key: \"executeMove\",\n    value: function executeMove(diffx, diffy, scope, width, height) {\n      switch (scope) {\n        case 0:\n          this.updateTime(diffx / width * this.config.scopeM);\n          break;\n        case 1:\n          this.updateBrightness(diffy / height);\n          break;\n        case 2:\n          if (!sniffer.os.isIos) {\n            this.updateVolume(diffy / height);\n          }\n          break;\n      }\n    }\n  }, {\n    key: \"endLastMove\",\n    value: function endLastMove(lastScope) {\n      var _this4 = this;\n      var pos = this.pos, player = this.player, config = this.config;\n      var time = (pos.time - this.timeOffset) / 1e3;\n      switch (lastScope) {\n        case 0:\n          player.seek(Number(time).toFixed(1));\n          config.hideControlsEnd ? player.blur() : player.focus();\n          this.timer = setTimeout(function() {\n            _this4.pos.time = 0;\n          }, 500);\n          break;\n      }\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"checkIsRootTarget\",\n    value: function checkIsRootTarget(e) {\n      var plugins = this.player.plugins || {};\n      if (plugins.progress && plugins.progress.root.contains(e.target)) {\n        return false;\n      }\n      return plugins.start && plugins.start.root.contains(e.target) || plugins.controls && plugins.controls.root.contains(e.target);\n    }\n  }, {\n    key: \"sendUseAction\",\n    value: function sendUseAction(event) {\n      var paused = this.player.paused;\n      this.emitUserAction(event, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: paused,\n        to: !paused\n      });\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler(e) {\n      var player = this.player, config = this.config, playerConfig = this.playerConfig;\n      if (player.state < STATES.RUNNING) {\n        if (!playerConfig.closeVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          player.play();\n        }\n        return;\n      }\n      if (!config.closedbClick || playerConfig.closeVideoClick) {\n        player.isActive ? player.blur() : player.focus();\n      } else if (!playerConfig.closeVideoClick) {\n        if (player.isActive || config.focusVideoClick) {\n          this.sendUseAction(util.createEvent(\"click\"));\n          this.switchPlayPause();\n        }\n        player.focus();\n      }\n    }\n  }, {\n    key: \"dbClickHandler\",\n    value: function dbClickHandler(e) {\n      var config = this.config, player = this.player;\n      if (!config.closedbClick && player.state >= STATES.RUNNING) {\n        this.sendUseAction(util.createEvent(\"dblclick\"));\n        this.switchPlayPause();\n      }\n    }\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var _this5 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[0], function(plugin, data) {\n        _this5.clickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onDbClick\",\n    value: function onDbClick(e) {\n      var _this6 = this;\n      var player = this.player;\n      runHooks(this, HOOKS[1], function(plugin, data) {\n        _this6.dbClickHandler(data.e);\n      }, {\n        e,\n        paused: player.paused\n      });\n    }\n  }, {\n    key: \"onPress\",\n    value: function onPress(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      pos.rate = this.player.playbackRate;\n      this.emitUserAction(\"press\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: config.pressRate\n      });\n      player.playbackRate = config.pressRate;\n      this.changeAction(ACTIONS.PLAYBACK);\n    }\n  }, {\n    key: \"onPressEnd\",\n    value: function onPressEnd(e) {\n      var pos = this.pos, config = this.config, player = this.player;\n      if (config.disablePress) {\n        return;\n      }\n      this.emitUserAction(\"pressend\", \"change_rate\", {\n        prop: \"playbackRate\",\n        from: player.playbackRate,\n        to: pos.rate\n      });\n      player.playbackRate = pos.rate;\n      pos.rate = 1;\n      this.changeAction(ACTIONS.AUTO);\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(percent) {\n      var player = this.player, config = this.config;\n      var duration = this.player.duration;\n      percent = Number(percent.toFixed(4));\n      var time = parseInt(percent * config.moveDuration, 10) + this.timeOffset;\n      time += this.pos.time;\n      time = time < 0 ? 0 : time > duration * 1e3 ? duration * 1e3 - 200 : time;\n      player.getPlugin(\"time\") && player.getPlugin(\"time\").updateTime(time / 1e3);\n      player.getPlugin(\"progress\") && player.getPlugin(\"progress\").updatePercent(time / 1e3 / this.duration, true);\n      this.activeSeekNote(time / 1e3, percent > 0);\n      if (config.isTouchingSeek) {\n        player.seek(Number((time - this.timeOffset) / 1e3).toFixed(1));\n      }\n      this.pos.time = time;\n    }\n  }, {\n    key: \"updateVolume\",\n    value: function updateVolume(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var player = this.player, pos = this.pos;\n      percent = parseInt(percent * 100, 10);\n      pos.volume += percent;\n      if (Math.abs(pos.volume) < 10) {\n        return;\n      }\n      var volume = parseInt(player.volume * 10, 10) - parseInt(pos.volume / 10, 10);\n      volume = volume > 10 ? 10 : volume < 1 ? 0 : volume;\n      player.volume = volume / 10;\n      pos.volume = 0;\n    }\n  }, {\n    key: \"updateBrightness\",\n    value: function updateBrightness(percent) {\n      if (this.player.rotateDeg) {\n        percent = -percent;\n      }\n      var pos = this.pos, config = this.config, xgMask = this.xgMask;\n      var light = pos.light + 0.8 * percent;\n      light = light > config.maxDarkness ? config.maxDarkness : light < 0 ? 0 : light;\n      if (xgMask) {\n        xgMask.style.backgroundColor = \"rgba(0,0,0,\".concat(light, \")\");\n      }\n      pos.light = light;\n    }\n  }, {\n    key: \"activeSeekNote\",\n    value: function activeSeekNote(time) {\n      var isForward = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var player = this.player, config = this.config;\n      var isLive = !(this.duration !== Infinity && this.duration > 0);\n      if (!time || typeof time !== \"number\" || isLive || config.disableActive) {\n        return;\n      }\n      if (time < 0) {\n        time = 0;\n      } else if (time > player.duration) {\n        time = player.duration - 0.2;\n      }\n      this.changeAction(ACTIONS.SEEKING);\n      var startPlugin = player.plugins.start;\n      startPlugin && startPlugin.focusHide();\n      this.find(\".xg-dur\").innerHTML = util.format(this.duration);\n      this.find(\".xg-cur\").innerHTML = util.format(time);\n      this.find(\".xg-curbar\").style.width = \"\".concat(time / this.duration * 100, \"%\");\n      if (isForward) {\n        util.removeClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      } else {\n        util.addClass(this.find(\".xg-seek-show\"), \"xg-back\");\n      }\n      this.updateThumbnails(time);\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, 160, 90);\n      }\n    }\n  }, {\n    key: \"switchPlayPause\",\n    value: function switchPlayPause() {\n      var player = this.player;\n      if (player.state < STATES.ATTACHED) {\n        return false;\n      } else if (!player.ended) {\n        if (player.paused) {\n          player.play();\n        } else {\n          player.pause();\n        }\n      }\n    }\n  }, {\n    key: \"disableGesture\",\n    value: function disableGesture() {\n      this.config.disableGesture = false;\n    }\n  }, {\n    key: \"enableGesture\",\n    value: function enableGesture() {\n      this.config.disableGesture = true;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      this.timer && clearTimeout(this.timer);\n      this.thumbnail = null;\n      player.root.removeChild(this.xgMask);\n      this.xgMask = null;\n      this.touch && this.touch.destroy();\n      this.touch = null;\n      player.root.removeEventListener(\"touchmove\", this.onRootTouchMove, true);\n      player.root.removeEventListener(\"touchend\", this.onRootTouchEnd, true);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var className = this.config.gradient !== \"normal\" ? \"gradient \".concat(this.config.gradient) : \"gradient\";\n      return '\\n     <xg-trigger class=\"trigger\">\\n     <div class=\"'.concat(className, '\"></div>\\n        <div class=\"time-preview\">\\n            <div class=\"xg-seek-show ').concat(this.config.disableSeekIcon ? \" hide-seek-icon\" : \"\", '\">\\n              <i class=\"xg-seek-icon\"></i>\\n              <span class=\"xg-cur\">00:00</span>\\n              <span class=\"xg-separator\">/</span>\\n              <span class=\"xg-dur\">00:00</span>\\n            </div>\\n              <div class=\"xg-bar xg-timebar\">\\n                <div class=\"xg-curbar\"></div>\\n              </div>\\n        </div>\\n        <div class=\"xg-playbackrate xg-top-note\">\\n            <span><i>').concat(this.config.pressRate, \"X</i>\").concat(this.i18n.FORWARD, \"</span>\\n        </div>\\n     </xg-trigger>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"mobile\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 0,\n        disableGesture: false,\n        gestureX: true,\n        gestureY: true,\n        gradient: \"normal\",\n        isTouchingSeek: false,\n        miniMoveStep: 5,\n        miniYPer: 5,\n        scopeL: 0.25,\n        scopeR: 0.25,\n        scopeM: 0.9,\n        pressRate: 2,\n        darkness: true,\n        maxDarkness: 0.8,\n        disableActive: false,\n        disableTimeProgress: false,\n        hideControlsActive: false,\n        hideControlsEnd: false,\n        moveDuration: 60 * 6 * 1e3,\n        closedbClick: false,\n        disablePress: true,\n        disableSeekIcon: false,\n        focusVideoClick: false\n      };\n    }\n  }]);\n  return MobilePlugin2;\n}(Plugin);\nexport { MobilePlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2 } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { SHORTCUT } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nfunction preventDefault(e) {\n  e.preventDefault();\n  e.returnValue = false;\n}\nfunction isDisableTag(el) {\n  var tagName = el.tagName;\n  if (tagName === \"INPUT\" || tagName === \"TEXTAREA\" || el.isContentEditable) {\n    return true;\n  }\n  return false;\n}\nvar Keyboard = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Keyboard2, _BasePlugin);\n  var _super = _createSuper(Keyboard2);\n  function Keyboard2() {\n    var _this;\n    _classCallCheck(this, Keyboard2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyDown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var keyCode = e.keyCode;\n      var _assertThisInitialize = _assertThisInitialized(_this), _keyState = _assertThisInitialize._keyState, player = _assertThisInitialize.player;\n      var _this$config = _this.config, disable = _this$config.disable, disableBodyTrigger = _this$config.disableBodyTrigger, isIgnoreUserActive = _this$config.isIgnoreUserActive;\n      if (disable || disableBodyTrigger || !(player.isUserActive || isIgnoreUserActive) || isDisableTag(e.target) || !_this.checkIsVisible() || e.metaKey || e.altKey || e.ctrlKey) {\n        _keyState.isBodyKeyDown = false;\n        return;\n      }\n      if (!event.repeat && !_keyState.isKeyDown) {\n        if ((e.target === document.body || _this.config.isGlobalTrigger && !isDisableTag(e.target)) && _this.checkCode(keyCode, true)) {\n          _keyState.isBodyKeyDown = true;\n        }\n        document.addEventListener(\"keyup\", _this.onBodyKeyUp);\n      }\n      _keyState.isBodyKeyDown && _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyKeyUp\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      document.removeEventListener(\"keyup\", _this.onBodyKeyUp);\n      _this.handleKeyUp(event);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeydown\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      var e = event || window.event;\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _keyState = _assertThisInitialize2._keyState;\n      if (!e.repeat) {\n        if (_this.config.disable || _this.config.disableRootTrigger || e.metaKey || e.altKey || e.ctrlKey) {\n          return;\n        }\n        if (e && (e.keyCode === 37 || _this.checkCode(e.keyCode)) && (e.target === _this.player.root || e.target === _this.player.video || e.target === _this.player.controls.el)) {\n          _keyState.isKeyDown = true;\n        }\n        _this.player.root.addEventListener(\"keyup\", _this.onKeyup);\n      }\n      if (!_keyState.isKeyDown) {\n        return;\n      }\n      _this.handleKeyDown(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyup\", function(event) {\n      if (!_this.player) {\n        return;\n      }\n      _this.player.root.removeEventListener(\"keyup\", _this.onKeyup);\n      _this.handleKeyUp(event);\n    });\n    return _this;\n  }\n  _createClass(Keyboard2, [{\n    key: \"mergekeyCodeMap\",\n    value: function mergekeyCodeMap() {\n      var _this2 = this;\n      var extendkeyCodeMap = this.config.keyCodeMap;\n      if (extendkeyCodeMap) {\n        Object.keys(extendkeyCodeMap).map(function(key) {\n          if (!_this2.keyCodeMap[key]) {\n            _this2.keyCodeMap[key] = extendkeyCodeMap[key];\n          } else {\n            [\"keyCode\", \"action\", \"disable\", \"pressAction\", \"disablePress\", \"isBodyTarget\"].map(function(key1) {\n              extendkeyCodeMap[key][key1] && (_this2.keyCodeMap[key][key1] = extendkeyCodeMap[key][key1]);\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.config.disable = !this.playerConfig.keyShortcut;\n      var seekStep = typeof this.config.seekStep === \"function\" ? this.config.seekStep(this.player) : this.config.seekStep;\n      if (!(!seekStep || typeof seekStep !== \"number\")) {\n        this.seekStep = seekStep;\n      }\n      this.keyCodeMap = {\n        space: {\n          keyCode: 32,\n          action: \"playPause\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: false\n        },\n        up: {\n          keyCode: 38,\n          action: \"upVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        down: {\n          keyCode: 40,\n          action: \"downVolume\",\n          disable: false,\n          disablePress: false,\n          noBodyTarget: true\n        },\n        left: {\n          keyCode: 37,\n          action: \"seekBack\",\n          disablePress: false,\n          disable: false\n        },\n        right: {\n          keyCode: 39,\n          action: \"seek\",\n          pressAction: \"changePlaybackRate\",\n          disablePress: false,\n          disable: false\n        },\n        esc: {\n          keyCode: 27,\n          action: \"exitFullscreen\",\n          disablePress: true,\n          disable: false\n        }\n      };\n      this.mergekeyCodeMap();\n      this._keyState = {\n        isKeyDown: false,\n        isBodyKeyDown: false,\n        isPress: false,\n        tt: 0,\n        playbackRate: 0\n      };\n      this.player.root.addEventListener(\"keydown\", this.onKeydown);\n      document.addEventListener(\"keydown\", this.onBodyKeyDown);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(newConfig) {\n      var _this3 = this;\n      Object.keys(newConfig).forEach(function(key) {\n        _this3.config[key] = newConfig[key];\n      });\n    }\n  }, {\n    key: \"checkIsVisible\",\n    value: function checkIsVisible() {\n      if (!this.config.checkVisible) {\n        return true;\n      }\n      var rec = this.player.root.getBoundingClientRect();\n      var height = rec.height, top = rec.top, bottom = rec.bottom;\n      var h = window.innerHeight;\n      if (top < 0 && top < 0 - height * 0.9 || bottom > 0 && bottom - h > height * 0.9) {\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"checkCode\",\n    value: function checkCode(code, isBodyTarget) {\n      var _this4 = this;\n      var flag = false;\n      Object.keys(this.keyCodeMap).map(function(key) {\n        if (_this4.keyCodeMap[key] && code === _this4.keyCodeMap[key].keyCode && !_this4.keyCodeMap[key].disable) {\n          flag = !isBodyTarget || isBodyTarget && !_this4.keyCodeMap[key].noBodyTarget;\n        }\n      });\n      return flag;\n    }\n  }, {\n    key: \"downVolume\",\n    value: function downVolume(event) {\n      var player = this.player;\n      if (player.volume <= 0) {\n        return;\n      }\n      var val = parseFloat((player.volume - 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val >= 0) {\n        player.volume = val;\n      } else {\n        player.volume = 0;\n      }\n    }\n  }, {\n    key: \"upVolume\",\n    value: function upVolume(event) {\n      var player = this.player;\n      if (player.volume >= 1) {\n        return;\n      }\n      var val = parseFloat((player.volume + 0.1).toFixed(1));\n      var props = {\n        volume: {\n          from: player.volume,\n          to: val\n        }\n      };\n      this.emitUserAction(event, \"change_volume\", {\n        props\n      });\n      if (val <= 1) {\n        player.volume = val;\n      } else {\n        player.volume = 1;\n      }\n    }\n  }, {\n    key: \"seek\",\n    value: function seek(event) {\n      var _this$player = this.player, currentTime = _this$player.currentTime, offsetCurrentTime = _this$player.offsetCurrentTime, duration = _this$player.duration, offsetDuration = _this$player.offsetDuration, timeSegments = _this$player.timeSegments;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _duration = offsetDuration || duration;\n      var _step = event.repeat && this.seekStep >= 4 ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      if (_time + _step <= _duration) {\n        _time = _time + _step;\n      } else {\n        _time = _duration;\n      }\n      var _seekTime = util.getCurrentTimeByOffset(_time, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"seekBack\",\n    value: function seekBack(event) {\n      var _this$player2 = this.player, currentTime = _this$player2.currentTime, offsetCurrentTime = _this$player2.offsetCurrentTime, timeSegments = _this$player2.timeSegments;\n      var _step = event.repeat ? parseInt(this.seekStep / 2, 10) : this.seekStep;\n      var _time = offsetCurrentTime > -1 ? offsetCurrentTime : currentTime;\n      var _seekTime = _time - _step;\n      if (_seekTime < 0) {\n        _seekTime = 0;\n      }\n      _seekTime = util.getCurrentTimeByOffset(_seekTime, timeSegments);\n      var props = {\n        currentTime: {\n          from: currentTime,\n          to: _seekTime\n        }\n      };\n      this.emitUserAction(event, \"seek\", {\n        props\n      });\n      this.player.currentTime = _seekTime;\n    }\n  }, {\n    key: \"changePlaybackRate\",\n    value: function changePlaybackRate(event) {\n      var _keyState = this._keyState, config = this.config, player = this.player;\n      if (_keyState.playbackRate === 0) {\n        _keyState.playbackRate = player.playbackRate;\n        player.playbackRate = config.playbackRate;\n      }\n    }\n  }, {\n    key: \"playPause\",\n    value: function playPause(event) {\n      var player = this.player;\n      if (!player) {\n        return;\n      }\n      this.emitUserAction(event, \"switch_play_pause\");\n      if (player.paused) {\n        player.play();\n      } else {\n        player.pause();\n      }\n    }\n  }, {\n    key: \"exitFullscreen\",\n    value: function exitFullscreen(event) {\n      var player = this.player;\n      var fullscreen = player.fullscreen, cssfullscreen = player.cssfullscreen;\n      if (fullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_fullscreen\", {\n          prop: \"fullscreen\",\n          from: fullscreen,\n          to: !fullscreen\n        });\n        player.exitFullscreen();\n      }\n      if (cssfullscreen) {\n        this.emitUserAction(\"keyup\", \"switch_css_fullscreen\", {\n          prop: \"cssfullscreen\",\n          from: cssfullscreen,\n          to: !cssfullscreen\n        });\n        player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"handleKeyDown\",\n    value: function handleKeyDown(e) {\n      var _keyState = this._keyState;\n      if (e.repeat) {\n        _keyState.isPress = true;\n        var _t = Date.now();\n        if (_t - _keyState.tt < 200) {\n          return;\n        }\n        _keyState.tt = _t;\n      }\n      this.handleKeyCode(e.keyCode, e, _keyState.isPress);\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      var _keyState = this._keyState;\n      if (_keyState.playbackRate > 0) {\n        this.player.playbackRate = _keyState.playbackRate;\n        _keyState.playbackRate = 0;\n      }\n      _keyState.isKeyDown = false;\n      _keyState.isPress = false;\n      _keyState.tt = 0;\n    }\n  }, {\n    key: \"handleKeyCode\",\n    value: function handleKeyCode(curKeyCode, event, isPress) {\n      var arr = Object.keys(this.keyCodeMap);\n      for (var i = 0; i < arr.length; i++) {\n        var _this$keyCodeMap$arr$ = this.keyCodeMap[arr[i]], action = _this$keyCodeMap$arr$.action, keyCode = _this$keyCodeMap$arr$.keyCode, disable = _this$keyCodeMap$arr$.disable, pressAction = _this$keyCodeMap$arr$.pressAction, disablePress = _this$keyCodeMap$arr$.disablePress;\n        if (keyCode === curKeyCode) {\n          if (!disable && !(isPress && disablePress)) {\n            var _action = !isPress ? action : pressAction || action;\n            if (typeof _action === \"function\") {\n              action(event, this.player, isPress);\n            } else if (typeof _action === \"string\") {\n              if (typeof this[_action] === \"function\") {\n                this[_action](event, this.player, isPress);\n              }\n            }\n            this.emit(SHORTCUT, _objectSpread2({\n              key: arr[i],\n              target: event.target,\n              isPress\n            }, this.keyCodeMap[arr[i]]));\n          }\n          preventDefault(event);\n          event.stopPropagation();\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.player.root.removeEventListener(\"keydown\", this.onKeydown);\n      document.removeEventListener(\"keydown\", this.onBodyKeyDown);\n      this.player.root.removeEventListener(\"keyup\", this.onKeyup);\n      document.removeEventListener(\"keyup\", this.onBodyKeyUp);\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.config.disable = false;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"keyboard\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        seekStep: 10,\n        checkVisible: false,\n        disableBodyTrigger: false,\n        disableRootTrigger: false,\n        isGlobalTrigger: true,\n        keyCodeMap: {},\n        disable: false,\n        playbackRate: 2,\n        isIgnoreUserActive: true\n      };\n    }\n  }]);\n  return Keyboard2;\n}(BasePlugin);\nexport { Keyboard as default };\n","function loadingIcon() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"-5 -5 110 110\">\\n  <path d=\"M100,50A50,50,0,1,1,50,0\" stroke-width=\"5\" stroke=\"#ddd\" stroke-dasharray=\"236\" fill=\"none\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { loadingIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport loadingIcon from \"../assets/loading.js\";\nvar Loading = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Loading2, _Plugin);\n  var _super = _createSuper(Loading2);\n  function Loading2() {\n    _classCallCheck(this, Loading2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Loading2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        loadingIcon\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.appendChild(\"xg-loading-inner\", this.icons.loadingIcon);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '\\n    <xg-loading class=\"xgplayer-loading\">\\n      <xg-loading-inner></xg-loading-inner>\\n    </xg-loading>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"loading\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT\n      };\n    }\n  }]);\n  return Loading2;\n}(Plugin);\nexport { Loading as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar TPL = [{\n  tag: \"xg-cache\",\n  className: \"xgplayer-progress-cache\",\n  styleKey: \"cachedColor\"\n}, {\n  tag: \"xg-played\",\n  className: \"xgplayer-progress-played\",\n  styleKey: \"playedColor\"\n}];\nvar InnerList = /* @__PURE__ */ function() {\n  function InnerList2(args) {\n    _classCallCheck(this, InnerList2);\n    this.fragments = args.fragments || [];\n    if (this.fragments.length === 0) {\n      this.fragments.push({\n        percent: 1\n      });\n    }\n    this._callBack = args.actionCallback;\n    this.fragConfig = {\n      fragFocusClass: args.fragFocusClass || \"inner-focus-point\",\n      fragAutoFocus: !!args.fragAutoFocus,\n      fragClass: args.fragClass || \"\"\n    };\n    this.style = args.style || {\n      playedColor: \"\",\n      cachedColor: \"\",\n      progressColor: \"\"\n    };\n    this.duration = 0;\n    this.cachedIndex = 0;\n    this.playedIndex = 0;\n    this.focusIndex = -1;\n  }\n  _createClass(InnerList2, [{\n    key: \"updateDuration\",\n    value: function updateDuration(duration) {\n      var _this = this;\n      this.duration = duration;\n      var start = 0;\n      var fragments = this.fragments;\n      this.fragments = fragments.map(function(item) {\n        item.start = parseInt(start, 10);\n        item.end = parseInt(start + item.percent * _this.duration, 10);\n        item.duration = parseInt(item.percent * _this.duration, 10);\n        start += item.percent * _this.duration;\n        return item;\n      });\n    }\n  }, {\n    key: \"updateProgress\",\n    value: function updateProgress() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : \"played\";\n      var data = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {\n        newIndex: 0,\n        curIndex: 0,\n        millisecond: 0\n      };\n      var progressList = this.progressList, fragments = this.fragments;\n      if (progressList.length < 1) {\n        return;\n      }\n      var newIndex = data.newIndex, curIndex = data.curIndex, millisecond = data.millisecond;\n      if (newIndex !== curIndex) {\n        progressList.map(function(item, index) {\n          if (index < newIndex) {\n            item[type].style.width = \"100%\";\n          } else if (index > newIndex) {\n            item[type].style.width = 0;\n          }\n        });\n      }\n      var curPFrag = fragments[newIndex];\n      var per = millisecond === 0 ? 0 : (millisecond - curPFrag.start) / curPFrag.duration;\n      progressList[newIndex][type].style.width = per < 0 ? 0 : \"\".concat(per * 100, \"%\");\n    }\n  }, {\n    key: \"updateFocus\",\n    value: function updateFocus(data) {\n      if (!this.fragConfig.fragAutoFocus || this.fragments.length < 2) {\n        return;\n      }\n      if (!data) {\n        if (this.focusIndex > -1) {\n          this.unHightLight(this.focusIndex);\n          var _data = {\n            index: -1,\n            preIndex: this.focusIndex,\n            fragment: null\n          };\n          this._callBack && this._callBack(_data);\n          this.focusIndex = -1;\n        }\n        return;\n      }\n      var newPIndex = this.findIndex(data.currentTime * 1e3, this.focusIndex);\n      if (newPIndex >= 0 && newPIndex !== this.focusIndex) {\n        this.focusIndex > -1 && this.unHightLight(this.focusIndex);\n        this.setHightLight(newPIndex);\n        var _data2 = {\n          index: newPIndex,\n          preIndex: this.focusIndex,\n          fragment: this.fragments[this.focusIndex]\n        };\n        this.focusIndex = newPIndex;\n        this._callBack && this._callBack(_data2);\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!this.duration || parseInt(duration * 1e3, 10) !== this.duration) {\n        if (!duration && duration !== 0) {\n          return;\n        }\n        this.updateDuration(parseInt(duration * 1e3, 10));\n      }\n      var playedIndex = this.playedIndex, cachedIndex = this.cachedIndex;\n      if (util.typeOf(data.played) !== \"Undefined\") {\n        var newPIndex = this.findIndex(data.played * 1e3, playedIndex);\n        if (newPIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"played\", {\n          newIndex: newPIndex,\n          curIndex: playedIndex,\n          millisecond: parseInt(data.played * 1e3, 10)\n        });\n        this.playedIndex = newPIndex;\n      }\n      if (util.typeOf(data.cached) !== \"Undefined\") {\n        var newCIndex = this.findIndex(data.cached * 1e3, cachedIndex);\n        if (newCIndex < 0) {\n          return;\n        }\n        this.updateProgress(\"cached\", {\n          newIndex: newCIndex,\n          curIndex: cachedIndex,\n          millisecond: parseInt(data.cached * 1e3, 10)\n        });\n        this.cachedIndex = newCIndex;\n      }\n    }\n  }, {\n    key: \"findIndex\",\n    value: function findIndex(time, curIndex) {\n      var fragments = this.fragments;\n      if (!fragments || fragments.length === 0) {\n        return -1;\n      }\n      if (fragments.length === 1) {\n        return 0;\n      }\n      if (curIndex > -1 && curIndex < fragments.length && time > fragments[curIndex].start && time < fragments[curIndex].end) {\n        return curIndex;\n      }\n      if (time > fragments[fragments.length - 1].start) {\n        return fragments.length - 1;\n      }\n      for (var i = 0; i < fragments.length; i++) {\n        if (time > fragments[i].start && time <= fragments[i].end) {\n          curIndex = i;\n          break;\n        }\n      }\n      return curIndex;\n    }\n  }, {\n    key: \"findHightLight\",\n    value: function findHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        if (util.hasClass(children[i], this.fragConfig.fragFocusClass)) {\n          return {\n            dom: children[i],\n            pos: children[i].getBoundingClientRect()\n          };\n        }\n      }\n    }\n  }, {\n    key: \"findFragment\",\n    value: function findFragment(index) {\n      var children = this.root.children;\n      if (index < 0 || index >= children.length) {\n        return null;\n      }\n      return {\n        dom: children[index],\n        pos: children[index].getBoundingClientRect()\n      };\n    }\n  }, {\n    key: \"unHightLight\",\n    value: function unHightLight() {\n      var children = this.root.children;\n      for (var i = 0; i < children.length; i++) {\n        util.removeClass(children[i], this.fragConfig.fragFocusClass);\n      }\n    }\n  }, {\n    key: \"setHightLight\",\n    value: function setHightLight(index) {\n      var children = this.root.children;\n      if (index < children.length) {\n        util.addClass(children[index], this.fragConfig.fragFocusClass);\n        return {\n          dom: children[index],\n          pos: children[index].getBoundingClientRect()\n        };\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.progressList = null;\n      this.fragments = null;\n      this.root.innerHTML = \"\";\n    }\n  }, {\n    key: \"reset\",\n    value: function reset(newOptions) {\n      var _this2 = this;\n      Object.keys(this.fragConfig).forEach(function(key) {\n        if (newOptions[key] !== void 0) {\n          _this2.fragConfig[key] = newOptions[key];\n        }\n      });\n      if (newOptions.fragments) {\n        this.fragments = newOptions.fragments.length === 0 ? [{\n          percent: 1\n        }] : newOptions.fragments;\n        this.updateDuration(this.duration);\n        this.playedIndex = 0;\n        this.cachedIndex = 0;\n        if (this.root) {\n          var _c = this.root.children;\n          while (_c.length > 0) {\n            this.root.removeChild(_c[0]);\n          }\n        }\n        this.render();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var progressColor = this.style.progressColor;\n      if (!this.root) {\n        this.root = util.createDom(\"xg-inners\", \"\", {}, \"progress-list\");\n      }\n      if (this.fragments) {\n        var _this$fragConfig = this.fragConfig, fragClass = _this$fragConfig.fragClass, fragFocusClass = _this$fragConfig.fragFocusClass;\n        this.progressList = this.fragments.map(function(item) {\n          var inner = util.createDom(\"xg-inner\", \"\", {\n            style: progressColor ? \"background:\".concat(progressColor, \"; flex: \").concat(item.percent) : \"flex: \".concat(item.percent)\n          }, \"\".concat(item.isFocus ? fragFocusClass : \"\", \" xgplayer-progress-inner \").concat(fragClass));\n          _this3.root.appendChild(inner);\n          TPL.forEach(function(item2) {\n            inner.appendChild(util.createDom(item2.tag, \"\", {\n              style: item2.styleKey ? \"background: \".concat(_this3.style[item2.styleKey], \"; width:0;\") : \"width:0;\"\n            }, item2.className));\n          });\n          return {\n            cached: inner.children[0],\n            played: inner.children[1]\n          };\n        });\n      }\n      return this.root;\n    }\n  }]);\n  return InnerList2;\n}();\nexport { InnerList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, objectSpread2 as _objectSpread2, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE, TIME_UPDATE, SEEKED, PROGRESS, ENDED, EMPTIED, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport InnerList from \"./innerList.js\";\nvar FRAGMENT_FOCUS_CLASS = {\n  POINT: \"inner-focus-point\",\n  HIGHLIGHT: \"inner-focus-highlight\"\n};\nvar Progress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Progress2, _Plugin);\n  var _super = _createSuper(Progress2);\n  function Progress2(args) {\n    var _this;\n    _classCallCheck(this, Progress2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMoveOnly\", function(e, data) {\n      var _assertThisInitialize = _assertThisInitialized(_this), pos = _assertThisInitialize.pos, config = _assertThisInitialize.config, player = _assertThisInitialize.player;\n      var ret = data;\n      if (e) {\n        util.event(e);\n        var _ePos = util.getEventPos(e, player.zoom);\n        var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n        if (pos.moving && Math.abs(pos.x - x) < config.miniMoveStep) {\n          return;\n        }\n        pos.moving = true;\n        pos.x = x;\n        ret = _this.computeTime(e, x);\n      }\n      _this.triggerCallbacks(\"dragmove\", ret, e);\n      _this._updateInnerFocus(ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBodyClick\", function(e) {\n      if (!_this.pos.isLocked) {\n        return;\n      }\n      _this.pos.isLocked = false;\n      e.preventDefault();\n      e.stopPropagation();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseDownHandler\", function(event, data) {\n      _this._state.time = data.currentTime;\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 0);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseUpHandler\", function(e, data) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), pos = _assertThisInitialize2.pos;\n      pos.moving && _this.updateWidth(data.currentTime, data.seekTime, data.percent, 2);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_mouseMoveHandler\", function(e, data) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this), _state = _assertThisInitialize3._state, pos = _assertThisInitialize3.pos, config = _assertThisInitialize3.config, player = _assertThisInitialize3.player;\n      if (_state.time < data.currentTime) {\n        data.forward = true;\n      } else {\n        data.forward = false;\n      }\n      _state.time = data.currentTime;\n      if (pos.isDown && !pos.moving) {\n        pos.moving = true;\n        config.isPauseMoving && player.pause();\n        _this.triggerCallbacks(\"dragstart\", data, e);\n        _this.emitUserAction(\"drag\", \"dragstart\", data);\n      }\n      _this.updateWidth(data.currentTime, data.seekTime, data.percent, 1);\n      _this.triggerCallbacks(\"dragmove\", data, e);\n      _this._updateInnerFocus(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function(e) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _state = _assertThisInitialize4._state, player = _assertThisInitialize4.player, pos = _assertThisInitialize4.pos, config = _assertThisInitialize4.config, playerConfig = _assertThisInitialize4.playerConfig;\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      if (player.isMini || config.closeMoveSeek || !playerConfig.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      if (!player.duration && !player.isPlaying) {\n        player.play();\n        return;\n      }\n      e.stopPropagation();\n      _this.focus();\n      util.checkIsFunction(playerConfig.disableSwipeHandler) && playerConfig.disableSwipeHandler();\n      util.checkIsFunction(config.onMoveStart) && config.onMoveStart();\n      util.event(e);\n      pos.x = x;\n      pos.isDown = true;\n      pos.moving = false;\n      _state.prePlayTime = player.currentTime;\n      player.focus({\n        autoHide: false\n      });\n      _this.isProgressMoving = true;\n      util.addClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseDownHandlerHook(e, ret);\n      var eventType = e.type;\n      if (eventType === \"touchstart\") {\n        _this.root.addEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.addEventListener(\"touchend\", _this.onMouseUp);\n        _this.root.addEventListener(\"touchcancel\", _this.onMouseUp);\n      } else {\n        _this.unbind(\"mousemove\", _this.onMoveOnly);\n        document.addEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.addEventListener(\"mouseup\", _this.onMouseUp, false);\n      }\n      return true;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseUp\", function(e) {\n      var _assertThisInitialize5 = _assertThisInitialized(_this), player = _assertThisInitialize5.player, config = _assertThisInitialize5.config, pos = _assertThisInitialize5.pos, playerConfig = _assertThisInitialize5.playerConfig, _state = _assertThisInitialize5._state;\n      e.stopPropagation();\n      e.preventDefault();\n      util.checkIsFunction(playerConfig.enableSwipeHandler) && playerConfig.enableSwipeHandler();\n      util.checkIsFunction(config.onMoveEnd) && config.onMoveEnd();\n      util.event(e);\n      util.removeClass(_this.progressBtn, \"active\");\n      var ret = _this.computeTime(e, pos.x);\n      ret.prePlayTime = _state.prePlayTime;\n      if (pos.moving) {\n        _this.triggerCallbacks(\"dragend\", ret, e);\n        _this.emitUserAction(\"drag\", \"dragend\", ret);\n      } else {\n        _this.triggerCallbacks(\"click\", ret, e);\n        _this.emitUserAction(\"click\", \"click\", ret);\n      }\n      _this._mouseUpHandlerHook(e, ret);\n      pos.moving = false;\n      pos.isDown = false;\n      pos.x = 0;\n      pos.y = 0;\n      pos.isLocked = true;\n      _state.prePlayTime = 0;\n      _state.time = 0;\n      var eventType = e.type;\n      if (eventType === \"touchend\" || eventType === \"touchcancel\") {\n        _this.root.removeEventListener(\"touchmove\", _this.onMouseMove);\n        _this.root.removeEventListener(\"touchend\", _this.onMouseUp);\n        _this.root.removeEventListener(\"touchcancel\", _this.onMouseUp);\n        _this.blur();\n      } else {\n        document.removeEventListener(\"mousemove\", _this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", _this.onMouseUp, false);\n        if (!pos.isEnter) {\n          _this.onMouseLeave(e);\n        } else {\n          playerConfig.isMobileSimulateMode !== \"mobile\" && _this.bind(\"mousemove\", _this.onMoveOnly);\n        }\n      }\n      util.setTimeout(_assertThisInitialized(_this), function() {\n        _this.resetSeekState();\n      }, 10);\n      player.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseMove\", function(e) {\n      var _assertThisInitialize6 = _assertThisInitialized(_this), _state = _assertThisInitialize6._state, pos = _assertThisInitialize6.pos, player = _assertThisInitialize6.player, config = _assertThisInitialize6.config;\n      if (util.checkTouchSupport()) {\n        e.preventDefault();\n      }\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var diff = Math.abs(pos.x - x);\n      if (pos.moving && diff < config.miniMoveStep || !pos.moving && diff < config.miniStartStep) {\n        return;\n      }\n      pos.x = x;\n      var ret = _this.computeTime(e, x);\n      ret.prePlayTime = _state.prePlayTime;\n      _this._mouseMoveHandlerHook(e, ret);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOut\", function(e) {\n      _this.triggerCallbacks(\"mouseout\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", function(e) {\n      _this.triggerCallbacks(\"mouseover\", null, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseEnter\", function(e) {\n      var _assertThisInitialize7 = _assertThisInitialized(_this), player = _assertThisInitialize7.player, pos = _assertThisInitialize7.pos;\n      if (pos.isDown || pos.isEnter || player.isMini || !player.config.allowSeekAfterEnded && player.ended) {\n        return;\n      }\n      pos.isEnter = true;\n      _this.bind(\"mousemove\", _this.onMoveOnly);\n      _this.bind(\"mouseleave\", _this.onMouseLeave);\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      var x = player.rotateDeg === 90 ? _ePos.clientY : _ePos.clientX;\n      var ret = _this.computeTime(e, x);\n      _this.triggerCallbacks(\"mouseenter\", ret, e);\n      _this.focus();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseLeave\", function(e) {\n      _this.triggerCallbacks(\"mouseleave\", null, e);\n      _this.unlock();\n      _this._updateInnerFocus(null);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVideoResize\", function() {\n      var _this$pos = _this.pos, x = _this$pos.x, isDown = _this$pos.isDown, isEnter = _this$pos.isEnter;\n      if (isEnter && !isDown) {\n        var ret = _this.computeTime(null, x);\n        _this.onMoveOnly(null, ret);\n      }\n    });\n    _this.useable = false;\n    _this.isProgressMoving = false;\n    _this.__dragCallBacks = [];\n    _this._state = {\n      now: -1,\n      direc: 0,\n      time: 0,\n      prePlayTime: -1\n    };\n    _this._disableBlur = false;\n    return _this;\n  }\n  _createClass(Progress2, [{\n    key: \"offsetDuration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n    }\n  }, {\n    key: \"duration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.duration;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player = this.player, offsetCurrentTime = _this$player.offsetCurrentTime, currentTime = _this$player.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime + this.timeOffset;\n    }\n  }, {\n    key: \"changeState\",\n    value: function changeState() {\n      var useable = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n      this.useable = useable;\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      this.root && (this.root.style.display = \"flex\");\n    }\n  }, {\n    key: \"_initInner\",\n    value: function _initInner() {\n      var _this2 = this;\n      var fragments = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      if (!fragments || fragments.length === 0) {\n        fragments = [{\n          percent: 1\n        }];\n      }\n      var _c = _objectSpread2(_objectSpread2({\n        fragments\n      }, config), {}, {\n        actionCallback: function actionCallback(data) {\n          _this2.emitUserAction(\"fragment_focus\", \"fragment_focus\", data);\n        }\n      });\n      if (!this.innerList) {\n        this.innerList = new InnerList(_c);\n        this.outer.insertBefore(this.innerList.render(), this.outer.children[0]);\n        [\"findHightLight\", \"unHightLight\", \"setHightLight\", \"findFragment\"].map(function(item) {\n          _this2[item] = _this2.innerList[item].bind(_this2.innerList);\n        });\n      } else {\n        this.innerList.reset(_c);\n      }\n    }\n  }, {\n    key: \"_updateInnerFocus\",\n    value: function _updateInnerFocus(data) {\n      this.innerList && this.innerList.updateFocus(data);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this3 = this;\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      this.pos = {\n        x: 0,\n        y: 0,\n        moving: false,\n        isDown: false,\n        isEnter: false,\n        isLocked: false\n      };\n      this.outer = this.find(\"xg-outer\");\n      var _this$config = this.config, fragFocusClass = _this$config.fragFocusClass, fragAutoFocus = _this$config.fragAutoFocus, fragClass = _this$config.fragClass;\n      this._initInner(this.config.fragments, {\n        fragFocusClass,\n        fragAutoFocus,\n        fragClass,\n        style: this.playerConfig.commonStyle || {}\n      });\n      if (sniffer.device === \"mobile\") {\n        this.config.isDragingSeek = false;\n        this.isMobile = true;\n      }\n      this.progressBtn = this.find(\".xgplayer-progress-btn\");\n      this.on(DURATION_CHANGE, function() {\n        _this3.onMouseLeave();\n      });\n      this.on(TIME_UPDATE, function() {\n        _this3.onTimeupdate();\n      });\n      this.on(SEEKED, function() {\n        _this3.onTimeupdate();\n        _this3.onCacheUpdate();\n      });\n      this.on(PROGRESS, function() {\n        _this3.onCacheUpdate();\n      });\n      this.on(ENDED, function() {\n        _this3.onCacheUpdate(true);\n        _this3.onTimeupdate(true);\n        _this3._state.now = 0;\n      });\n      this.on(EMPTIED, function() {\n        _this3.onReset();\n      });\n      this.on(VIDEO_RESIZE, function() {\n        _this3.onVideoResize();\n      });\n      this.bindDomEvents();\n      this.initCustomStyle();\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this4 = this;\n      var frags = null;\n      Object.keys(config).forEach(function(key) {\n        _this4.config[key] = config[key];\n        if (key === \"fragments\") {\n          frags = config[key];\n        }\n      });\n      if (frags) {\n        this._initInner(frags, config);\n      }\n    }\n  }, {\n    key: \"initCustomStyle\",\n    value: function initCustomStyle() {\n      var _ref = this.playerConfig || {}, commonStyle = _ref.commonStyle;\n      var sliderBtnStyle = commonStyle.sliderBtnStyle;\n      var progressBtn = this.progressBtn;\n      if (sliderBtnStyle) {\n        if (typeof sliderBtnStyle === \"string\") {\n          progressBtn.style.boxShadow = sliderBtnStyle;\n        } else if (_typeof(sliderBtnStyle) === \"object\") {\n          Object.keys(sliderBtnStyle).map(function(key) {\n            progressBtn.style[key] = sliderBtnStyle[key];\n          });\n        }\n      }\n    }\n  }, {\n    key: \"triggerCallbacks\",\n    value: function triggerCallbacks(type, data, event) {\n      if (this.__dragCallBacks.length > 0) {\n        this.__dragCallBacks.map(function(item) {\n          if (item && item.handler && item.type === type) {\n            try {\n              item.handler(data, event);\n            } catch (error) {\n              console.error(\"[XGPLAYER][triggerCallbacks] \".concat(item, \" error\"), error);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"addCallBack\",\n    value: function addCallBack(type, handle) {\n      if (handle && typeof handle === \"function\") {\n        this.__dragCallBacks.push({\n          type,\n          handler: handle\n        });\n      }\n    }\n  }, {\n    key: \"removeCallBack\",\n    value: function removeCallBack(type, event) {\n      var __dragCallBacks = this.__dragCallBacks;\n      var _index = -1;\n      __dragCallBacks.map(function(item, index) {\n        if (item && item.type === type && item.handler === event) {\n          _index = index;\n        }\n      });\n      if (_index > -1) {\n        __dragCallBacks.splice(_index, 1);\n      }\n    }\n  }, {\n    key: \"unlock\",\n    value: function unlock() {\n      var player = this.player, pos = this.pos;\n      pos.isEnter = false;\n      pos.isLocked = false;\n      if (player.isMini) {\n        return;\n      }\n      this.unbind(\"mousemove\", this.onMoveOnly);\n      if (pos.isDown) {\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        return;\n      }\n      this.blur();\n    }\n  }, {\n    key: \"bindDomEvents\",\n    value: function bindDomEvents() {\n      var _this$player2 = this.player, controls = _this$player2.controls, config = _this$player2.config;\n      this._mouseDownHandlerHook = this.hook(\"dragstart\", this._mouseDownHandler);\n      this._mouseUpHandlerHook = this.hook(\"dragend\", this._mouseUpHandler);\n      this._mouseMoveHandlerHook = this.hook(\"drag\", this._mouseMoveHandler);\n      if (this.domEventType === \"touch\" || this.domEventType === \"compatible\") {\n        this.root.addEventListener(\"touchstart\", this.onMouseDown);\n        if (controls) {\n          controls.root && controls.root.addEventListener(\"touchmove\", util.stopPropagation);\n          controls.center && controls.center.addEventListener(\"touchend\", util.stopPropagation);\n        }\n      }\n      if (this.domEventType === \"mouse\" || this.domEventType === \"compatible\") {\n        this.bind(\"mousedown\", this.onMouseDown);\n        config.isMobileSimulateMode !== \"mobile\" && this.bind(\"mouseenter\", this.onMouseEnter);\n        this.bind(\"mouseover\", this.onMouseOver);\n        this.bind(\"mouseout\", this.onMouseOut);\n        this.player.root.addEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      this.player.controls.pauseAutoHide();\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      if (this._disableBlur) {\n        return;\n      }\n      this.player.controls.recoverAutoHide();\n      util.removeClass(this.root, \"active\");\n    }\n  }, {\n    key: \"disableBlur\",\n    value: function disableBlur() {\n      this._disableBlur = true;\n    }\n  }, {\n    key: \"enableBlur\",\n    value: function enableBlur() {\n      this._disableBlur = false;\n    }\n  }, {\n    key: \"updateWidth\",\n    value: function updateWidth(currentTime, seekTime, percent, type) {\n      var config = this.config, player = this.player;\n      if (config.isCloseClickSeek && type === 0) {\n        return;\n      }\n      var realTime = seekTime = seekTime >= player.duration ? player.duration - config.endedDiff : Number(seekTime).toFixed(1);\n      this.updatePercent(percent);\n      this.updateTime(currentTime);\n      if (type === 1 && (!config.isDragingSeek || player.config.mediaType === \"audio\")) {\n        return;\n      }\n      this._state.now = realTime;\n      this._state.direc = realTime > player.currentTime ? 0 : 1;\n      player.seek(realTime);\n    }\n  }, {\n    key: \"computeTime\",\n    value: function computeTime(e, x) {\n      var player = this.player;\n      var _this$root$getBoundin = this.root.getBoundingClientRect(), width = _this$root$getBoundin.width, height = _this$root$getBoundin.height, top = _this$root$getBoundin.top, left = _this$root$getBoundin.left;\n      var rWidth, rLeft;\n      var clientX = x;\n      if (player.rotateDeg === 90) {\n        rWidth = height;\n        rLeft = top;\n      } else {\n        rWidth = width;\n        rLeft = left;\n      }\n      var offset = clientX - rLeft;\n      offset = offset > rWidth ? rWidth : offset < 0 ? 0 : offset;\n      var percent = offset / rWidth;\n      percent = percent < 0 ? 0 : percent > 1 ? 1 : percent;\n      var currentTime = parseInt(percent * this.offsetDuration * 1e3, 10) / 1e3;\n      var seekTime = util.getCurrentTimeByOffset(currentTime, player.timeSegments);\n      return {\n        percent,\n        currentTime,\n        seekTime,\n        offset,\n        width: rWidth,\n        left: rLeft,\n        e\n      };\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      var player = this.player, duration = this.duration;\n      if (time > duration) {\n        time = duration;\n      } else if (time < 0) {\n        time = 0;\n      }\n      var timeIcon = player.plugins.time;\n      if (timeIcon) {\n        timeIcon.updateTime(time);\n      }\n    }\n  }, {\n    key: \"resetSeekState\",\n    value: function resetSeekState() {\n      this.isProgressMoving = false;\n      var timeIcon = this.player.plugins.time;\n      timeIcon && timeIcon.resetActive();\n    }\n  }, {\n    key: \"updatePercent\",\n    value: function updatePercent(percent, notSeek) {\n      this.isProgressMoving = true;\n      if (this.config.disable) {\n        return;\n      }\n      percent = percent > 1 ? 1 : percent < 0 ? 0 : percent;\n      this.progressBtn.style.left = \"\".concat(percent * 100, \"%\");\n      this.innerList.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n      var miniprogress = this.player.plugins.miniprogress;\n      miniprogress && miniprogress.update({\n        played: percent * this.offsetDuration\n      }, this.offsetDuration);\n    }\n  }, {\n    key: \"onTimeupdate\",\n    value: function onTimeupdate(isEnded) {\n      var player = this.player, _state = this._state, offsetDuration = this.offsetDuration;\n      if (player.isSeeking && player.media.seeking || this.isProgressMoving || !player.hasStart) {\n        return;\n      }\n      if (_state.now > -1) {\n        var abs = parseInt(_state.now * 1e3, 10) - parseInt(player.currentTime * 1e3, 10);\n        if (_state.direc === 0 && abs > 300 || _state.direc === 1 && abs > -300) {\n          _state.now = -1;\n          return;\n        } else {\n          _state.now = -1;\n        }\n      }\n      var time = this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, isEnded);\n      this.innerList.update({\n        played: time\n      }, offsetDuration);\n      this.progressBtn.style.left = \"\".concat(time / offsetDuration * 100, \"%\");\n    }\n  }, {\n    key: \"onCacheUpdate\",\n    value: function onCacheUpdate(isEnded) {\n      var player = this.player, duration = this.duration;\n      if (!player) {\n        return;\n      }\n      var _end = player.bufferedPoint.end;\n      _end = util.adjustTimeByDuration(_end, duration, isEnded);\n      this.innerList.update({\n        cached: _end\n      }, duration);\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      this.innerList.update({\n        played: 0,\n        cached: 0\n      }, 0);\n      this.progressBtn.style.left = \"0%\";\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var player = this.player;\n      var controls = player.controls;\n      this.thumbnailPlugin = null;\n      this.innerList.destroy();\n      this.innerList = null;\n      var domEventType = this.domEventType;\n      if (domEventType === \"touch\" || domEventType === \"compatible\") {\n        this.root.removeEventListener(\"touchstart\", this.onMouseDown);\n        this.root.removeEventListener(\"touchmove\", this.onMouseMove);\n        this.root.removeEventListener(\"touchend\", this.onMouseUp);\n        this.root.removeEventListener(\"touchcancel\", this.onMouseUp);\n        if (controls) {\n          controls.root && controls.root.removeEventListener(\"touchmove\", util.stopPropagation);\n          controls.center && controls.center.removeEventListener(\"touchend\", util.stopPropagation);\n        }\n      }\n      if (domEventType === \"mouse\" || domEventType === \"compatible\") {\n        this.unbind(\"mousedown\", this.onMouseDown);\n        this.unbind(\"mouseenter\", this.onMouseEnter);\n        this.unbind(\"mousemove\", this.onMoveOnly);\n        this.unbind(\"mouseleave\", this.onMouseLeave);\n        document.removeEventListener(\"mousemove\", this.onMouseMove, false);\n        document.removeEventListener(\"mouseup\", this.onMouseUp, false);\n        player.root.removeEventListener(\"click\", this.onBodyClick, true);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable || this.playerConfig.isLive) {\n        return;\n      }\n      var controlsMode = this.player.controls ? this.player.controls.config.mode : \"\";\n      var className = controlsMode === \"bottom\" ? \"xgplayer-progress-bottom\" : \"\";\n      return '\\n    <xg-progress class=\"xgplayer-progress '.concat(className, '\">\\n      <xg-outer class=\"xgplayer-progress-outer\">\\n        <xg-progress-btn class=\"xgplayer-progress-btn\"></xg-progress-btn>\\n      </xg-outer>\\n    </xg-progress>\\n    ');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_CENTER,\n        index: 0,\n        disable: false,\n        isDragingSeek: true,\n        closeMoveSeek: false,\n        isPauseMoving: false,\n        isCloseClickSeek: false,\n        fragments: [{\n          percent: 1\n        }],\n        fragFocusClass: FRAGMENT_FOCUS_CLASS.POINT,\n        fragClass: \"\",\n        fragAutoFocus: false,\n        miniMoveStep: 5,\n        miniStartStep: 2,\n        onMoveStart: function onMoveStart() {\n        },\n        onMoveEnd: function onMoveEnd() {\n        },\n        endedDiff: 0.2\n      };\n    }\n  }, {\n    key: \"FRAGMENT_FOCUS_CLASS\",\n    get: function get() {\n      return FRAGMENT_FOCUS_CLASS;\n    }\n  }]);\n  return Progress2;\n}(Plugin);\nexport { Progress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Icon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Icon2, _Plugin);\n  var _super = _createSuper(Icon2);\n  function Icon2() {\n    var _this;\n    _classCallCheck(this, Icon2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseenter\", function(e) {\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onMouseLeave\", function(e) {\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    return _this;\n  }\n  _createClass(Icon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.bind(\"mouseenter\", this._onMouseenter);\n      this.bind(\"mouseleave\", this._onMouseLeave);\n      if (this.config.disable) {\n        this.disable();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\"mouseenter\", this._onMouseenter);\n      this.unbind(\"mouseleave\", this._onMouseLeave);\n    }\n  }]);\n  return Icon2;\n}(Plugin);\nexport { Icon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PAUSE, ERROR, EMPTIED, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PlaySvg from \"../assets/play.js\";\nimport PauseSvg from \"../assets/pause.js\";\nvar Play = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Play2, _IconPlugin);\n  var _super = _createSuper(Play2);\n  function Play2() {\n    _classCallCheck(this, Play2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Play2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(Play2.prototype), \"afterCreate\", this).call(this);\n      var player = this.player, config = this.config;\n      if (config.disable) {\n        return;\n      }\n      this.initIcons();\n      this.btnClick = this.btnClick.bind(this);\n      this.bind([\"touchend\", \"click\"], this.btnClick);\n      this.on([PAUSE, ERROR, EMPTIED], function() {\n        _this.animate(player.paused);\n      });\n      this.on(PLAY, function() {\n        _this.animate(player.paused);\n      });\n      this.animate(true);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        play: {\n          icon: PlaySvg,\n          class: \"xg-icon-play\"\n        },\n        pause: {\n          icon: PauseSvg,\n          class: \"xg-icon-pause\"\n        }\n      };\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var player = this.player;\n      this.emitUserAction(e, \"switch_play_pause\", {\n        prop: \"paused\",\n        from: player.paused,\n        to: !player.paused\n      });\n      if (player.ended) {\n        player.replay();\n      } else if (player.paused) {\n        player.play();\n        this.animate(false);\n      } else {\n        player.pause();\n        this.animate(true);\n      }\n      return false;\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.play);\n      this.appendChild(\".xgplayer-icon\", icons.pause);\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(paused) {\n      if (!this.player) {\n        return;\n      }\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      if (paused) {\n        this.setAttr(\"data-state\", \"pause\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PLAY_TIPS);\n      } else {\n        this.setAttr(\"data-state\", \"play\");\n        tipDom && this.changeLangTextKey(tipDom, i18nKeys.PAUSE_TIPS);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Play2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"touchend\", \"click\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-play\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, \"PLAY_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"play\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Play2;\n}(Icon);\nexport { Play as default };\n","function BackSVG() {\n  return new DOMParser().parseFromString('<svg width=\"32px\" height=\"40px\" viewBox=\"0 0 32 32\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\\n    <g stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n        <path d=\"M11.2374369,14 L17.6187184,7.61871843 C17.9604272,7.27700968 17.9604272,6.72299032 17.6187184,6.38128157 C17.2770097,6.03957281 16.7229903,6.03957281 16.3812816,6.38128157 L9.38128157,13.3812816 C9.03957281,13.7229903 9.03957281,14.2770097 9.38128157,14.6187184 L16.3812816,21.6187184 C16.7229903,21.9604272 17.2770097,21.9604272 17.6187184,21.6187184 C17.9604272,21.2770097 17.9604272,20.7229903 17.6187184,20.3812816 L11.2374369,14 L11.2374369,14 Z\" fill=\"#FFFFFF\"></path>\\n    </g>\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { BackSVG as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport BackSVG from \"../assets/back.js\";\nvar TopBackIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(TopBackIcon2, _Plugin);\n  var _super = _createSuper(TopBackIcon2);\n  function TopBackIcon2() {\n    _classCallCheck(this, TopBackIcon2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TopBackIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.initIcons();\n      this.onClick = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        _this.config.onClick(e);\n      };\n      this.bind([\"click\", \"touchend\"], this.onClick);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenBack: {\n          icon: BackSVG,\n          class: \"xg-fullscreen-back\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(this.root, icons.screenBack);\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-icon class=\"xgplayer-back\">\\n    </xg-icon>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"topbackicon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.ROOT_TOP,\n        index: 0\n      };\n    }\n  }]);\n  return TopBackIcon2;\n}(Plugin);\nexport { TopBackIcon as default };\n","function FullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M598 214h212v212h-84v-128h-128v-84zM726 726v-128h84v212h-212v-84h128zM214 426v-212h212v84h-128v128h-84zM298 598v128h128v84h-212v-212h84z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { FullScreenSvg as default };\n","function ExitFullScreenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"2 -4 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0320625 0.0320625)\" d=\"M682 342h128v84h-212v-212h84v128zM598 810v-212h212v84h-128v128h-84zM342 342v-128h84v212h-212v-84h128zM214 682v-84h212v212h-84v-128h-128z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitFullScreenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport TopBackIcon from \"./backicon.js\";\nimport FullScreenSvg from \"../assets/requestFull.js\";\nimport ExitFullScreenSvg from \"../assets/exitFull.js\";\nvar Fullscreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Fullscreen2, _IconPlugin);\n  var _super = _createSuper(Fullscreen2);\n  function Fullscreen2() {\n    var _this;\n    _classCallCheck(this, Fullscreen2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onOrientationChange\", function(e) {\n      if (_this.player.fullscreen && _this.config.rotateFullscreen) {\n        if (window.orientation === 90 || window.orientation === -90) {\n          _this.player.setRotateDeg(0);\n        } else {\n          _this.player.setRotateDeg(90);\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(Fullscreen2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"afterCreate\", this).call(this);\n      var config = this.config, playerConfig = this.playerConfig;\n      if (config.disable) {\n        return;\n      }\n      if (config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      var fullEl = util.getFullScreenEl();\n      if (playerConfig.fullscreenTarget === fullEl) {\n        this.player.getFullscreen().catch(function(e) {\n        });\n      }\n      this.initIcons();\n      this.handleFullscreen = this.hook(\"fullscreenChange\", this.toggleFullScreen, {\n        pre: function pre(e) {\n          var fullscreen = _this2.player.fullscreen;\n          _this2.emitUserAction(e, \"switch_fullscreen\", {\n            prop: \"fullscreen\",\n            from: fullscreen,\n            to: !fullscreen\n          });\n        }\n      });\n      this.bind(\".xgplayer-fullscreen\", [\"touchend\", \"click\"], this.handleFullscreen);\n      this.on(FULLSCREEN_CHANGE, function(isFullScreen) {\n        var tipsDom = _this2.find(\".xg-tips\");\n        tipsDom && _this2.changeLangTextKey(tipsDom, isFullScreen ? _this2.i18nKeys.EXITFULLSCREEN_TIPS : _this2.i18nKeys.FULLSCREEN_TIPS);\n        _this2.animate(isFullScreen);\n      });\n      if (this.config.needBackIcon) {\n        this.topBackIcon = this.player.registerPlugin({\n          plugin: TopBackIcon,\n          options: {\n            config: {\n              onClick: function onClick(e) {\n                _this2.handleFullscreen(e);\n              }\n            }\n          }\n        });\n      }\n      if (sniffer.device === \"mobile\") {\n        window.addEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        fullscreen: {\n          icon: FullScreenSvg,\n          class: \"xg-get-fullscreen\"\n        },\n        exitFullscreen: {\n          icon: ExitFullScreenSvg,\n          class: \"xg-exit-fullscreen\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Fullscreen2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.handleFullscreen);\n      if (sniffer.device === \"mobile\") {\n        window.removeEventListener(\"orientationchange\", this._onOrientationChange);\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.fullscreen);\n      this.appendChild(\".xgplayer-icon\", icons.exitFullscreen);\n    }\n  }, {\n    key: \"toggleFullScreen\",\n    value: function toggleFullScreen(e) {\n      if (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      var player = this.player, config = this.config;\n      var useCssFullscreen = config.useCssFullscreen === true || typeof config.useCssFullscreen === \"function\" && config.useCssFullscreen();\n      if (useCssFullscreen) {\n        if (player.fullscreen) {\n          player.exitCssFullscreen();\n        } else {\n          player.getCssFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.rotateFullscreen) {\n        if (player.fullscreen) {\n          player.exitRotateFullscreen();\n        } else {\n          player.getRotateFullscreen();\n        }\n        this.animate(player.fullscreen);\n      } else if (config.switchCallback && typeof config.switchCallback === \"function\") {\n        config.switchCallback(player.fullscreen);\n      } else {\n        if (player.fullscreen) {\n          player.exitFullscreen();\n          if (config.useScreenOrientation) {\n            this.unlockScreen();\n          }\n        } else {\n          player.getFullscreen().catch(function(e2) {\n          });\n          if (config.useScreenOrientation && player.aspectRatio > 1) {\n            this.lockScreen(config.lockOrientationType);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      if (this.topBackIcon) {\n        if (isFullScreen) {\n          this.topBackIcon.show();\n          this.hide();\n        } else {\n          this.topBackIcon.hide();\n          this.show();\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var langKey = \"FULLSCREEN_TIPS\";\n      return '<xg-icon class=\"xgplayer-fullscreen\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n    '.concat(xgIconTips(this, langKey, this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }, {\n    key: \"lockScreen\",\n    value: function lockScreen(orientation) {\n      try {\n        screen.orientation.lock(orientation).catch(function(e) {\n        });\n      } catch (e) {\n      }\n    }\n  }, {\n    key: \"unlockScreen\",\n    value: function unlockScreen() {\n      try {\n        screen.orientation.unlock().catch(function(e) {\n        });\n      } catch (e) {\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"fullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 0,\n        useCssFullscreen: false,\n        rotateFullscreen: false,\n        useScreenOrientation: false,\n        lockOrientationType: \"landscape\",\n        switchCallback: null,\n        target: null,\n        disable: false,\n        needBackIcon: false\n      };\n    }\n  }]);\n  return Fullscreen2;\n}(Icon);\nexport { Fullscreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, SEEKED, TIME_UPDATE, ENDED, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nvar Time = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Time2, _Plugin);\n  var _super = _createSuper(Time2);\n  function Time2(args) {\n    var _this;\n    _classCallCheck(this, Time2);\n    _this = _super.call(this, args);\n    _this.isActiving = false;\n    return _this;\n  }\n  _createClass(Time2, [{\n    key: \"duration\",\n    get: function get() {\n      var _this$player = this.player, offsetDuration = _this$player.offsetDuration, duration = _this$player.duration;\n      return this.playerConfig.customDuration || offsetDuration || duration;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player2 = this.player, offsetCurrentTime = _this$player2.offsetCurrentTime, currentTime = _this$player2.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n    }\n  }, {\n    key: \"timeOffset\",\n    get: function get() {\n      return this.playerConfig.timeOffset || 0;\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var constrolsMode = this.player.controls.config.mode;\n      this.mode = constrolsMode === \"flex\" ? \"flex\" : \"normal\";\n      if (this.config.disable) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.createCenterTime();\n        this.root.style.display = \"none\";\n      }\n      this.durationDom = this.find(\".time-duration\");\n      this.timeDom = this.find(\".time-current\");\n      this.on([DURATION_CHANGE, SEEKED, TIME_UPDATE], function(e) {\n        if (e.eventName === \"durationchange\") {\n          _this2.isActiving = false;\n        }\n        _this2.onTimeUpdate();\n      });\n      this.on(ENDED, function() {\n        _this2.onTimeUpdate(true);\n      });\n      this.on(EMPTIED, function() {\n        _this2.onReset();\n      });\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"block\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"block\");\n        return;\n      }\n      this.root.style.display = \"block\";\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom && (this.centerCurDom.style.display = \"none\");\n        this.centerDurDom && (this.centerDurDom.style.display = \"none\");\n        return;\n      }\n      this.root.style.display = \"none\";\n    }\n  }, {\n    key: \"onTimeUpdate\",\n    value: function onTimeUpdate(isEnded) {\n      var player = this.player, config = this.config, duration = this.duration;\n      if (config.disable || this.isActiving || !player.hasStart) {\n        return;\n      }\n      var current = this.currentTime + this.timeOffset;\n      current = util.adjustTimeByDuration(current, duration, isEnded);\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.centerDurDom.innerHTML = util.format(duration);\n        }\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(current));\n        if (duration !== Infinity && duration > 0) {\n          this.durationDom.innerHTML = util.format(duration);\n        }\n      }\n    }\n  }, {\n    key: \"onReset\",\n    value: function onReset() {\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(0));\n        this.centerDurDom.innerHTML = util.format(0);\n      } else {\n        this.timeDom.innerHTML = this.minWidthTime(util.format(0));\n        this.durationDom.innerHTML = util.format(0);\n      }\n    }\n  }, {\n    key: \"createCenterTime\",\n    value: function createCenterTime() {\n      var player = this.player;\n      if (!player.controls || !player.controls.center) {\n        return;\n      }\n      var center = player.controls.center;\n      this.centerCurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-left\");\n      this.centerDurDom = util.createDom(\"xg-icon\", \"00:00\", {}, \"xgplayer-time xg-time-right\");\n      center.children.length > 0 ? center.insertBefore(this.centerCurDom, center.children[0]) : center.appendChild(this.centerCurDom);\n      center.appendChild(this.centerDurDom);\n    }\n  }, {\n    key: \"afterPlayerInit\",\n    value: function afterPlayerInit() {\n      var config = this.config;\n      if (this.duration === Infinity || this.playerConfig.isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n      }\n      if (config.hide) {\n        this.hide();\n        return;\n      }\n      this.show();\n    }\n  }, {\n    key: \"changeLiveState\",\n    value: function changeLiveState(isLive) {\n      if (isLive) {\n        util.hide(this.durationDom);\n        util.hide(this.timeDom);\n        util.hide(this.find(\".time-separator\"));\n        util.show(this.find(\".time-live-tag\"));\n      } else {\n        util.hide(this.find(\".time-live-tag\"));\n        util.show(this.find(\".time-separator\"));\n        util.show(this.durationDom);\n        util.show(this.timeDom);\n      }\n    }\n  }, {\n    key: \"updateTime\",\n    value: function updateTime(time) {\n      this.isActiving = true;\n      if (!time && time !== 0 || time > this.duration) {\n        return;\n      }\n      if (this.mode === \"flex\") {\n        this.centerCurDom.innerHTML = this.minWidthTime(util.format(time));\n        return;\n      }\n      this.timeDom.innerHTML = this.minWidthTime(util.format(time));\n    }\n  }, {\n    key: \"minWidthTime\",\n    value: function minWidthTime(timeStr) {\n      return timeStr.split(\":\").map(function(value) {\n        return '<span class=\"time-min-width\">'.concat(value, \"</span>\");\n      }).join(\":\");\n    }\n  }, {\n    key: \"resetActive\",\n    value: function resetActive() {\n      var _this3 = this;\n      var player = this.player;\n      var updateState = function updateState2() {\n        _this3.isActiving = false;\n      };\n      this.off(SEEKED, updateState);\n      if (player.isSeeking && player.media.seeking) {\n        this.once(SEEKED, updateState);\n      } else {\n        this.isActiving = false;\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var center = this.player.controls.center;\n      this.centerCurDom && center.removeChild(this.centerCurDom);\n      this.centerCurDom = null;\n      this.centerDurDom && center.removeChild(this.centerDurDom);\n      this.centerDurDom = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-time\">\\n    <span class=\"time-current\">00:00</span>\\n    <span class=\"time-separator\">/</span>\\n    <span class=\"time-duration\">00:00</span>\\n    <span class=\"time-live-tag\">'.concat(this.i18n.LIVE_TIP, \"</span>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"time\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 2,\n        disable: false\n      };\n    }\n  }]);\n  return Time2;\n}(Plugin);\nexport { Time as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, LOADED_DATA, TIME_UPDATE, SEEKING, PLAY } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar TimeSegmentsControls = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TimeSegmentsControls2, _BasePlugin);\n  var _super = _createSuper(TimeSegmentsControls2);\n  function TimeSegmentsControls2() {\n    var _this;\n    _classCallCheck(this, TimeSegmentsControls2);\n    for (var _len2 = arguments.length, args = new Array(_len2), _key = 0; _key < _len2; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_onDurationChange\", function() {\n      _this.updateSegments();\n      var _this$player = _this.player, currentTime = _this$player.currentTime, timeSegments = _this$player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      var time = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(index, timeSegments);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onLoadedData\", function() {\n      var timeSegments = _this.player.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var time = util.getOffsetCurrentTime(0, timeSegments);\n      _this.player.offsetCurrentTime = time;\n      _this.changeIndex(0, timeSegments);\n      if (_this.curPos.start > 0) {\n        _this.player.currentTime = _this.curPos.start;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onTimeupdate\", function() {\n      var _this$player2 = _this.player, currentTime = _this$player2.currentTime, timeSegments = _this$player2.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      var _len = timeSegments.length;\n      _this.lastCurrentTime = currentTime;\n      var index = util.getIndexByTime(currentTime, timeSegments);\n      if (index !== _this.curIndex) {\n        _this.changeIndex(index, timeSegments);\n      }\n      var curTime = util.getOffsetCurrentTime(currentTime, timeSegments, index);\n      _this.player.offsetCurrentTime = curTime;\n      if (!_this.curPos) {\n        return;\n      }\n      var _this$curPos = _this.curPos, start = _this$curPos.start, end = _this$curPos.end;\n      if (currentTime < start) {\n        _this.player.currentTime = start;\n      } else if (currentTime > end && index >= _len - 1) {\n        _this.player.pause();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onSeeking\", function() {\n      var _this$player3 = _this.player, currentTime = _this$player3.currentTime, timeSegments = _this$player3.timeSegments;\n      if (!_this._checkIfEnabled(timeSegments)) {\n        return;\n      }\n      if (currentTime < timeSegments[0].start) {\n        _this.player.currentTime = timeSegments[0].start;\n      } else if (currentTime > timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[timeSegments.length - 1].end;\n      } else {\n        var _index = util.getIndexByTime(currentTime, timeSegments);\n        if (_index >= 0) {\n          var _seekTime = _this.getSeekTime(currentTime, _this.lastCurrentTime, _index, timeSegments);\n          if (_seekTime >= 0) {\n            _this.player.currentTime = _seekTime;\n          }\n        }\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onPlay\", function() {\n      var _this$player4 = _this.player, currentTime = _this$player4.currentTime, timeSegments = _this$player4.timeSegments;\n      if (_this._checkIfEnabled(timeSegments) && currentTime >= timeSegments[timeSegments.length - 1].end) {\n        _this.player.currentTime = timeSegments[0].start;\n      }\n    });\n    return _this;\n  }\n  _createClass(TimeSegmentsControls2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.curIndex = -1;\n      this.curPos = null;\n      this.lastCurrentTime = 0;\n      this.updateSegments();\n      this.on(DURATION_CHANGE, this._onDurationChange);\n      this.on(LOADED_DATA, this._onLoadedData);\n      this.on(TIME_UPDATE, this._onTimeupdate);\n      this.on(SEEKING, this._onSeeking);\n      this.on(PLAY, this._onPlay);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(newConfig) {\n      var _this2 = this;\n      if (!newConfig) {\n        return;\n      }\n      var keys = Object.keys(newConfig);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this2.config[key] = newConfig[key];\n      });\n      this.updateSegments();\n    }\n  }, {\n    key: \"updateSegments\",\n    value: function updateSegments() {\n      var _this$config = this.config, disable = _this$config.disable, segments = _this$config.segments;\n      var player = this.player;\n      if (disable || !segments || segments.length === 0) {\n        player.timeSegments = [];\n        player.offsetDuration = 0;\n        player.offsetCurrentTime = -1;\n      } else {\n        var _segs = this.formatTimeSegments(segments, player.duration);\n        player.timeSegments = _segs;\n        player.offsetDuration = _segs.length > 0 ? _segs[_segs.length - 1].duration : 0;\n      }\n    }\n  }, {\n    key: \"formatTimeSegments\",\n    value: function formatTimeSegments(timeSegments, duration) {\n      var ret = [];\n      if (!timeSegments) {\n        return [];\n      }\n      timeSegments.sort(function(a, b) {\n        return a.start - b.start;\n      });\n      timeSegments.forEach(function(item, index) {\n        var _item = {};\n        _item.start = item.start < 0 ? 0 : item.start;\n        _item.end = duration > 0 && item.end > duration ? duration : item.end;\n        if (duration > 0 && _item.start > duration) {\n          return;\n        }\n        ret.push(_item);\n        var _segDuration = _item.end - _item.start;\n        if (index === 0) {\n          _item.offset = item.start;\n          _item.cTime = 0;\n          _item.segDuration = _segDuration;\n          _item.duration = _segDuration;\n        } else {\n          var last = ret[index - 1];\n          _item.offset = last.offset + (_item.start - last.end);\n          _item.cTime = last.duration + last.cTime;\n          _item.segDuration = _segDuration;\n          _item.duration = last.duration + _segDuration;\n        }\n      });\n      return ret;\n    }\n  }, {\n    key: \"getSeekTime\",\n    value: function getSeekTime(currentTime, lastCurrentTime, index, timeSegments) {\n      var _time = -1;\n      var _timeSegments$index = timeSegments[index], start = _timeSegments$index.start, end = _timeSegments$index.end;\n      if (currentTime >= start && currentTime <= end) {\n        return _time;\n      }\n      var diff = currentTime - lastCurrentTime;\n      if (diff < 0) {\n        if (currentTime < start) {\n          var diff2 = lastCurrentTime > start ? lastCurrentTime - start : 0;\n          _time = index - 1 >= 0 ? timeSegments[index - 1].end + diff + diff2 : 0;\n          return _time;\n        }\n      }\n      return -1;\n    }\n  }, {\n    key: \"_checkIfEnabled\",\n    value: function _checkIfEnabled(segments) {\n      return !(!segments || segments.length < 1);\n    }\n  }, {\n    key: \"changeIndex\",\n    value: function changeIndex(index, timeSegments) {\n      this.curIndex = index;\n      if (index >= 0 && timeSegments.length > 0) {\n        this.curPos = timeSegments[index];\n      } else {\n        this.curPos = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"TimeSegmentsControls\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disable: true,\n        segments: []\n      };\n    }\n  }]);\n  return TimeSegmentsControls2;\n}(BasePlugin);\nexport { TimeSegmentsControls as default };\n","function volumeLargeSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M940.632 837.632l-72.192-72.192c65.114-64.745 105.412-154.386 105.412-253.44s-40.299-188.695-105.396-253.424l-0.016-0.016 72.192-72.192c83.639 83.197 135.401 198.37 135.401 325.632s-51.762 242.434-135.381 325.612l-0.020 0.020zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeLargeSvg as default };\n","function volumeSmallSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021zM795.648 693.248l-72.704-72.704c27.756-27.789 44.921-66.162 44.921-108.544s-17.165-80.755-44.922-108.546l0.002 0.002 72.704-72.704c46.713 46.235 75.639 110.363 75.639 181.248s-28.926 135.013-75.617 181.227l-0.021 0.021z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeSmallSvg as default };\n","function volumeMutedSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"28\" height=\"40\" viewBox=\"0 -10 28 40\">\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M358.4 358.4h-204.8v307.2h204.8l256 256v-819.2l-256 256z\"></path>\\n  <path fill=\"#fff\" transform=\"scale(0.0220625 0.0220625)\" d=\"M920.4 439.808l-108.544-109.056-72.704 72.704 109.568 108.544-109.056 108.544 72.704 72.704 108.032-109.568 108.544 109.056 72.704-72.704-109.568-108.032 109.056-108.544-72.704-72.704-108.032 109.568z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { volumeMutedSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VOLUME_CHANGE, LOADED_DATA } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport volumeLargeSvg from \"../assets/volumeLarge.js\";\nimport volumeSmallSvg from \"../assets/volumeSmall.js\";\nimport volumeMutedSvg from \"../assets/volumeMuted.js\";\nvar Volume = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Volume2, _Plugin);\n  var _super = _createSuper(Volume2);\n  function Volume2() {\n    var _this;\n    _classCallCheck(this, Volume2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onBarMousedown\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      var bar = _this.find(\".xgplayer-bar\");\n      util.event(e);\n      var barRect = bar.getBoundingClientRect();\n      var pos = util.getEventPos(e, player.zoom);\n      var height = barRect.height - (pos.clientY - barRect.top);\n      pos.h = height;\n      pos.barH = barRect.height;\n      _this.pos = pos;\n      if (height < -2) {\n        return;\n      }\n      _this.updateVolumePos(height, e);\n      document.addEventListener(\"mouseup\", _this.onBarMouseUp);\n      _this._d.isStart = true;\n      return false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseMove\", function(e) {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), _d = _assertThisInitialize2._d;\n      if (!_d.isStart) {\n        return;\n      }\n      var _assertThisInitialize3 = _assertThisInitialized(_this), pos = _assertThisInitialize3.pos, player = _assertThisInitialize3.player;\n      e.preventDefault();\n      e.stopPropagation();\n      util.event(e);\n      var _ePos = util.getEventPos(e, player.zoom);\n      _d.isMoving = true;\n      var w = pos.h - _ePos.clientY + pos.clientY;\n      if (w > pos.barH) {\n        return;\n      }\n      _this.updateVolumePos(w, e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onBarMouseUp\", function(e) {\n      util.event(e);\n      document.removeEventListener(\"mouseup\", _this.onBarMouseUp);\n      var _assertThisInitialize4 = _assertThisInitialized(_this), _d = _assertThisInitialize4._d;\n      _d.isStart = false;\n      _d.isMoving = false;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseenter\", function(e) {\n      _this._d.isActive = true;\n      _this.focus();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseleave\", function(e) {\n      _this._d.isActive = false;\n      _this.unFocus(100, false, e);\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVolumeChange\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      var _this$player = _this.player, muted = _this$player.muted, volume = _this$player.volume;\n      if (!_this._d.isMoving) {\n        _this.find(\".xgplayer-drag\").style.height = muted || volume === 0 ? \"4px\" : \"\".concat(volume * 100, \"%\");\n        if (_this.config.showValueLabel) {\n          _this.updateVolumeValue();\n        }\n      }\n      _this.animate(muted, volume);\n    });\n    return _this;\n  }\n  _createClass(Volume2, [{\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        volumeSmall: {\n          icon: volumeSmallSvg,\n          class: \"xg-volume-small\"\n        },\n        volumeLarge: {\n          icon: volumeLargeSvg,\n          class: \"xg-volume\"\n        },\n        volumeMuted: {\n          icon: volumeMutedSvg,\n          class: \"xg-volume-mute\"\n        }\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._timerId = null;\n      this._d = {\n        isStart: false,\n        isMoving: false,\n        isActive: false\n      };\n      if (this.config.disable) {\n        return;\n      }\n      this.initIcons();\n      var _this$playerConfig = this.playerConfig, commonStyle = _this$playerConfig.commonStyle, volume = _this$playerConfig.volume;\n      if (commonStyle.volumeColor) {\n        this.find(\".xgplayer-drag\").style.backgroundColor = commonStyle.volumeColor;\n      }\n      this.changeMutedHandler = this.hook(\"mutedChange\", function(e) {\n        _this2.changeMuted(e);\n      }, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this._onMouseenterHandler = this.hook(\"mouseenter\", this.onMouseenter);\n      this._onMouseleaveHandler = this.hook(\"mouseleave\", this.onMouseleave);\n      if (!(sniffer.device === \"mobile\") && this.playerConfig.isMobileSimulateMode !== \"mobile\") {\n        this.bind(\"mouseenter\", this._onMouseenterHandler);\n        this.bind([\"blur\", \"mouseleave\"], this._onMouseleaveHandler);\n        this.bind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n        this.bind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n        this.bind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      }\n      this.bind(\".xgplayer-icon\", [\"touchend\", \"click\"], this.changeMutedHandler);\n      this.on(VOLUME_CHANGE, this.onVolumeChange);\n      this.once(LOADED_DATA, this.onVolumeChange);\n      if (util.typeOf(volume) !== \"Number\") {\n        this.player.volume = this.config.default;\n      }\n      this.onVolumeChange();\n    }\n  }, {\n    key: \"updateVolumePos\",\n    value: function updateVolumePos(height, event) {\n      var player = this.player;\n      var drag = this.find(\".xgplayer-drag\");\n      var bar = this.find(\".xgplayer-bar\");\n      if (!bar || !drag) {\n        return;\n      }\n      var now = parseInt(height / bar.getBoundingClientRect().height * 1e3, 10);\n      drag.style.height = \"\".concat(height, \"px\");\n      var to = Math.max(Math.min(now / 1e3, 1), 0);\n      var props = {\n        volume: {\n          from: player.volume,\n          to\n        }\n      };\n      if (player.muted) {\n        props.muted = {\n          from: true,\n          to: false\n        };\n      }\n      this.emitUserAction(event, \"change_volume\", {\n        muted: player.muted,\n        volume: player.volume,\n        props\n      });\n      player.volume = Math.max(Math.min(now / 1e3, 1), 0);\n      player.muted && (player.muted = false);\n      if (this.config.showValueLabel) {\n        this.updateVolumeValue();\n      }\n    }\n  }, {\n    key: \"updateVolumeValue\",\n    value: function updateVolumeValue() {\n      var _this$player2 = this.player, volume = _this$player2.volume, muted = _this$player2.muted;\n      var $labelValue = this.find(\".xgplayer-value-label\");\n      var vol = Math.max(Math.min(volume, 1), 0);\n      $labelValue.innerText = muted ? 0 : Math.ceil(vol * 100);\n    }\n  }, {\n    key: \"focus\",\n    value: function focus() {\n      var player = this.player;\n      player.focus({\n        autoHide: false\n      });\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      util.addClass(this.root, \"slide-show\");\n    }\n  }, {\n    key: \"unFocus\",\n    value: function unFocus() {\n      var _this3 = this;\n      var delay = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 100;\n      var isForce = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var e = arguments.length > 2 ? arguments[2] : void 0;\n      var _d = this._d, player = this.player;\n      if (_d.isActive) {\n        return;\n      }\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this._timerId = util.setTimeout(this, function() {\n        if (!_d.isActive) {\n          isForce ? player.blur() : player.focus();\n          util.removeClass(_this3.root, \"slide-show\");\n          _d.isStart && _this3.onBarMouseUp(e);\n        }\n        _this3._timerId = null;\n      }, delay);\n    }\n  }, {\n    key: \"changeMuted\",\n    value: function changeMuted(e) {\n      e && e.stopPropagation();\n      var player = this.player, _d = this._d;\n      _d.isStart && this.onBarMouseUp(e);\n      this.emitUserAction(e, \"change_muted\", {\n        muted: player.muted,\n        volume: player.volume,\n        props: {\n          muted: {\n            from: player.muted,\n            to: !player.muted\n          }\n        }\n      });\n      if (player.volume > 0) {\n        player.muted = !player.muted;\n      }\n      if (player.volume < 0.01) {\n        player.volume = this.config.miniVolume;\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(muted, volume) {\n      if (muted || volume === 0) {\n        this.setAttr(\"data-state\", \"mute\");\n      } else if (volume < 0.5 && this.icons.volumeSmall) {\n        this.setAttr(\"data-state\", \"small\");\n      } else {\n        this.setAttr(\"data-state\", \"normal\");\n      }\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.volumeSmall);\n      this.appendChild(\".xgplayer-icon\", icons.volumeLarge);\n      this.appendChild(\".xgplayer-icon\", icons.volumeMuted);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._timerId) {\n        util.clearTimeout(this, this._timerId);\n        this._timerId = null;\n      }\n      this.unbind(\"mouseenter\", this.onMouseenter);\n      this.unbind([\"blur\", \"mouseleave\"], this.onMouseleave);\n      this.unbind(\".xgplayer-slider\", \"mousedown\", this.onBarMousedown);\n      this.unbind(\".xgplayer-slider\", \"mousemove\", this.onBarMouseMove);\n      this.unbind(\".xgplayer-slider\", \"mouseup\", this.onBarMouseUp);\n      document.removeEventListener(\"mouseup\", this.onBarMouseUp);\n      this.unbind(\".xgplayer-icon\", sniffer.device === \"mobile\" ? \"touchend\" : \"click\", this.changeMutedHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var volume = this.config.default || this.player.volume;\n      var isShowVolumeValue = this.config.showValueLabel;\n      return '\\n    <xg-icon class=\"xgplayer-volume\" data-state=\"normal\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      <xg-slider class=\"xgplayer-slider\">\\n        '.concat(isShowVolumeValue ? '<div class=\"xgplayer-value-label\">'.concat(volume * 100, \"</div>\") : \"\", '\\n        <div class=\"xgplayer-bar\">\\n          <xg-drag class=\"xgplayer-drag\" style=\"height: ').concat(volume * 100, '%\"></xg-drag>\\n        </div>\\n      </xg-slider>\\n    </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"volume\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        showValueLabel: false,\n        default: 0.6,\n        miniVolume: 0.2\n      };\n    }\n  }]);\n  return Volume2;\n}(Plugin);\nexport { Volume as default };\n","function RotateSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\" viewBox=\"-4 -6 40 40\" fill=\"none\">\\n  <g clip-path=\"url(#clip0)\">\\n    <path transform=\"scale(1.5 1.5)\" d=\"M11.6665 9.16663H4.1665C2.78579 9.16663 1.6665 10.2859 1.6665 11.6666V15.8333C1.6665 17.214 2.78579 18.3333 4.1665 18.3333H11.6665C13.0472 18.3333 14.1665 17.214 14.1665 15.8333V11.6666C14.1665 10.2859 13.0472 9.16663 11.6665 9.16663Z\" fill=\"white\"/>\\n    <path transform=\"scale(1.5 1.5)\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.88148 4.06298C3.75371 4.21005 3.67667 4.40231 3.67749 4.61242C3.67847 4.87253 3.79852 5.10435 3.98581 5.25646L6.99111 8.05895C7.32771 8.37283 7.85502 8.35443 8.16891 8.01782C8.48279 7.68122 8.46437 7.15391 8.12778 6.84003L6.62061 5.43457L9.8198 5.4224C9.82848 5.42239 9.8372 5.42221 9.84591 5.4219C10.9714 5.38233 12.0885 5.6285 13.0931 6.13744C14.0976 6.64635 14.957 7.40148 15.5908 8.33234C16.2246 9.2632 16.6122 10.3394 16.7177 11.4606C16.823 12.5819 16.6427 13.7115 16.1934 14.7442C16.0098 15.1661 16.203 15.6571 16.6251 15.8408C17.0471 16.0243 17.5381 15.8311 17.7216 15.4091C18.2833 14.1183 18.5087 12.7063 18.3771 11.3047C18.2453 9.90318 17.7607 8.55792 16.9684 7.39433C16.1761 6.23073 15.1021 5.28683 13.8463 4.65065C12.5946 4.01651 11.203 3.70872 9.80072 3.75583L6.43415 3.76862L7.96326 2.12885C8.27715 1.79225 8.25872 1.26494 7.92213 0.951061C7.58553 0.63718 7.05822 0.655585 6.74433 0.99219L3.90268 4.0395C3.89545 4.04724 3.88841 4.05509 3.88154 4.06303L3.88148 4.06298Z\" fill=\"white\"/>\\n  </g>\\n  <defs>\\n    <clipPath id=\"clip0\">\\n      <rect width=\"40\" height=\"40\" fill=\"white\"/>\\n    </clipPath>\\n  </defs>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { RotateSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { VIDEO_RESIZE, ROTATE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport RotateSvg from \"../assets/rotate.js\";\nvar Rotate = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Rotate2, _IconPlugin);\n  var _super = _createSuper(Rotate2);\n  function Rotate2(args) {\n    var _this;\n    _classCallCheck(this, Rotate2);\n    _this = _super.call(this, args);\n    _this.rotateDeg = _this.config.rotateDeg || 0;\n    return _this;\n  }\n  _createClass(Rotate2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.config.disable) {\n        return;\n      }\n      _get(_getPrototypeOf(Rotate2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.rotate);\n      this.onBtnClick = this.onBtnClick.bind(this);\n      this.bind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n      this.on(VIDEO_RESIZE, function() {\n        if (_this2.rotateDeg && _this2.config.innerRotate) {\n          util.setTimeout(_this2, function() {\n            _this2.updateRotateDeg(_this2.rotateDeg, _this2.config.innerRotate);\n          }, 100);\n        }\n      });\n      var root = this.player.root;\n      this.rootWidth = root.style.width || root.offsetWidth || root.clientWidth;\n      this.rootHeight = root.style.height || root.offsetHeight || root.clientHeight;\n      if (this.rotateDeg) {\n        this.updateRotateDeg(this.rotateDeg, this.config.innerRotate);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Rotate2.prototype), \"destroy\", this).call(this);\n      this.unbind(\".xgplayer-icon\", [\"click\", \"touchend\"], this.onBtnClick);\n    }\n  }, {\n    key: \"onBtnClick\",\n    value: function onBtnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"rotate\");\n      this.rotate(this.config.clockwise, this.config.innerRotate, 1);\n    }\n  }, {\n    key: \"updateRotateDeg\",\n    value: function updateRotateDeg(rotateDeg, innerRotate) {\n      if (!rotateDeg) {\n        rotateDeg = 0;\n      }\n      if (innerRotate) {\n        this.player.videoRotateDeg = rotateDeg;\n        return;\n      }\n      var player = this.player, rootWidth = this.rootWidth, rootHeight = this.rootHeight;\n      var root = player.root, innerContainer = player.innerContainer;\n      var video = player.media;\n      var width = root.offsetWidth;\n      var height = innerContainer && innerRotate ? innerContainer.offsetHeight : root.offsetHeight;\n      var rWidth = rootWidth;\n      var rHeight = rootHeight;\n      var x = 0;\n      var y = 0;\n      if (rotateDeg === 0.75 || rotateDeg === 0.25) {\n        rWidth = \"\".concat(height, \"px\");\n        rHeight = \"\".concat(width, \"px\");\n        x = -(height - width) / 2;\n        y = -(width - height) / 2;\n      }\n      var _transform = \"translate(\".concat(x, \"px,\").concat(y, \"px) rotate(\").concat(rotateDeg, \"turn)\");\n      var _styles = {\n        transformOrigin: \"center center\",\n        transform: _transform,\n        webKitTransform: _transform,\n        height: rHeight,\n        width: rWidth\n      };\n      var _target = innerRotate ? video : root;\n      var poster = innerRotate ? player.getPlugin(\"poster\") : null;\n      Object.keys(_styles).map(function(key) {\n        _target.style[key] = _styles[key];\n        poster && poster.root && (poster.root.style[key] = _styles[key]);\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate() {\n      var clockwise = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n      var innerRotate = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n      var times = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1;\n      var player = this.player;\n      if (!this.rotateDeg) {\n        this.rotateDeg = 0;\n      }\n      var factor = clockwise ? 1 : -1;\n      this.rotateDeg = (this.rotateDeg + 1 + factor * 0.25 * times) % 1;\n      this.updateRotateDeg(this.rotateDeg, innerRotate);\n      player.emit(ROTATE, this.rotateDeg * 360);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        rotate: RotateSvg\n      };\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '\\n    <xg-icon class=\"xgplayer-rotate\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"ROTATE_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"rotate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        innerRotate: true,\n        clockwise: false,\n        rotateDeg: 0,\n        disable: false\n      };\n    }\n  }]);\n  return Rotate2;\n}(Icon);\nexport { Rotate as default };\n","function PipIcon() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIcon as default };\n","function PipIconExit() {\n  return new DOMParser().parseFromString('<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M16.5 4.3H3.5C3.38954 4.3 3.3 4.38954 3.3 4.5V15.5C3.3 15.6105 3.38954 15.7 3.5 15.7H8.50005L8.50006 17.5H3.5C2.39543 17.5 1.5 16.6046 1.5 15.5V4.5C1.5 3.39543 2.39543 2.5 3.5 2.5H16.5C17.6046 2.5 18.5 3.39543 18.5 4.5V8.5H16.7V4.5C16.7 4.38954 16.6105 4.3 16.5 4.3ZM12 11.5C11.4477 11.5 11 11.9477 11 12.5L11 16.5C11 17.0523 11.4478 17.5 12 17.5H17.5C18.0523 17.5 18.5 17.0523 18.5 16.5L18.5 12.5C18.5 11.9477 18.0523 11.5 17.5 11.5H12Z\"\\n    fill=\"white\" />\\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\\n    d=\"M9.4998 7.7C9.77595 7.7 9.9998 7.47614 9.9998 7.2V6.5C9.9998 6.22386 9.77595 6 9.4998 6H5.5402L5.52754 6.00016H5.5C5.22386 6.00016 5 6.22401 5 6.50016V10.4598C5 10.7359 5.22386 10.9598 5.5 10.9598H6.2C6.47614 10.9598 6.7 10.7359 6.7 10.4598V8.83005L8.76983 10.9386C8.96327 11.1357 9.27984 11.1386 9.47691 10.9451L9.97645 10.4548C10.1735 10.2613 10.1764 9.94476 9.983 9.7477L7.97289 7.7H9.4998Z\"\\n    fill=\"white\" />\\n</svg>', \"image/svg+xml\").firstChild;\n}\nexport { PipIconExit as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf, toConsumableArray as _toConsumableArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { COMPLETE, PIP_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport PipIcon from \"../assets/pipIcon.js\";\nimport PipIconExit from \"../assets/pipIconExit.js\";\nvar PresentationMode = {\n  PIP: \"picture-in-picture\",\n  INLINE: \"inline\",\n  FULLSCREEN: \"fullscreen\"\n};\nvar PIP = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(PIP2, _IconPlugin);\n  var _super = _createSuper(PIP2);\n  function PIP2() {\n    var _this;\n    _classCallCheck(this, PIP2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"switchPIP\", function(e) {\n      if (!_this.isPIPAvailable()) {\n        return false;\n      }\n      e.stopPropagation && e.stopPropagation();\n      if (_this.isPip) {\n        _this.exitPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: true,\n          to: false\n        });\n        _this.setAttr(\"data-state\", \"normal\");\n      } else if (_this.player.media.readyState === 4) {\n        _this.requestPIP();\n        _this.emitUserAction(e, \"change_pip\", {\n          props: \"pip\",\n          from: false,\n          to: true\n        });\n        _this.setAttr(\"data-state\", \"pip\");\n      }\n    });\n    return _this;\n  }\n  _createClass(PIP2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.pip === \"boolean\") {\n        args.config.showIcon = args.player.config.pip;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (!this.isPIPAvailable()) {\n        return;\n      }\n      _get(_getPrototypeOf(PIP2.prototype), \"afterCreate\", this).call(this);\n      this.pMode = PresentationMode.INLINE;\n      this.initPipEvents();\n      if (this.config.showIcon) {\n        this.initIcons();\n      }\n      this.once(COMPLETE, function() {\n        if (_this2.config.showIcon) {\n          util.removeClass(_this2.find(\".xgplayer-icon\"), \"xg-icon-disable\");\n          _this2.bind(\"click\", _this2.switchPIP);\n        }\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        pipIcon: {\n          icon: PipIcon,\n          class: \"xg-get-pip\"\n        },\n        pipIconExit: {\n          icon: PipIconExit,\n          class: \"xg-exit-pip\"\n        }\n      };\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      this.appendChild(\".xgplayer-icon\", icons.pipIcon);\n      this.appendChild(\".xgplayer-icon\", icons.pipIconExit);\n    }\n  }, {\n    key: \"initPipEvents\",\n    value: function initPipEvents() {\n      var _this3 = this;\n      var player = this.player;\n      this.leavePIPCallback = function() {\n        var paused = player.paused;\n        util.setTimeout(_this3, function() {\n          !paused && player.mediaPlay();\n        }, 0);\n        !paused && player.mediaPlay();\n        _this3.setAttr(\"data-state\", \"normal\");\n        _this3.pipWindow = null;\n        player.emit(PIP_CHANGE, false);\n      };\n      this.enterPIPCallback = function(e) {\n        player.emit(PIP_CHANGE, true);\n        if (e !== null && e !== void 0 && e.pictureInPictureWindow) {\n          _this3.pipWindow = e.pictureInPictureWindow;\n        }\n        _this3.setAttr(\"data-state\", \"pip\");\n      };\n      this.onWebkitpresentationmodechanged = function(e) {\n        var mode = player.media.webkitPresentationMode;\n        if (_this3.pMode === PresentationMode.FULLSCREEN && mode !== PresentationMode.FULLSCREEN) {\n          player.onFullscreenChange(null, false);\n        }\n        _this3.pMode = mode;\n        if (mode === PresentationMode.PIP) {\n          _this3.enterPIPCallback(e);\n        } else if (mode === PresentationMode.INLINE) {\n          _this3.leavePIPCallback(e);\n        }\n      };\n      if (player.media) {\n        player.media.addEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n        player.media.addEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n        PIP2.checkWebkitSetPresentationMode(player.media) && player.media.addEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      }\n    }\n  }, {\n    key: \"copyStyleIntoPiPWindow\",\n    value: function copyStyleIntoPiPWindow(pipWin) {\n      var textContent = _toConsumableArray(document.styleSheets).map(function(style2) {\n        try {\n          return _toConsumableArray(style2.cssRules).map(function(rule) {\n            return rule.cssText;\n          }).join(\"\");\n        } catch (e) {\n          var link = document.createElement(\"link\");\n          link.rel = \"stylesheet\";\n          link.type = style2.type;\n          link.media = style2.media;\n          link.href = style2.href;\n          pipWin.document.head.appendChild(link);\n        }\n        return \"\";\n      }).filter(Boolean).join(\"\\n\");\n      var style = document.createElement(\"style\");\n      style.textContent = textContent;\n      pipWin.document.head.appendChild(style);\n    }\n  }, {\n    key: \"requestPIP\",\n    value: function requestPIP() {\n      var _this4 = this;\n      var player = this.player, playerConfig = this.playerConfig, config = this.config;\n      if (!this.isPIPAvailable() || this.isPip) {\n        return;\n      }\n      try {\n        var poster = playerConfig.poster;\n        if (poster) {\n          player.media.poster = util.typeOf(poster) === \"String\" ? poster : poster.poster;\n        }\n        if (config.preferDocument && this.isDocPIPAvailable()) {\n          var pipOptions = {};\n          if (config.width && config.height) {\n            pipOptions.width = config.width;\n            pipOptions.height = config.height;\n          } else {\n            var playerRect = player.root.getBoundingClientRect();\n            pipOptions.width = playerRect.width;\n            pipOptions.height = playerRect.height;\n          }\n          documentPictureInPicture.requestWindow(pipOptions).then(function(pipWin) {\n            var docPiPNode = config.docPiPNode, docPiPStyle = config.docPiPStyle;\n            _this4.enterPIPCallback();\n            var pipRoot = docPiPNode || player.root;\n            var parentNode = pipRoot.parentElement;\n            var previousSibling = pipRoot.previousSibling;\n            var nextSibling = pipRoot.nextSibling;\n            _this4.copyStyleIntoPiPWindow(pipWin);\n            var styles = document.createElement(\"style\");\n            styles.append(\"body{padding:0; margin:0;}\");\n            if (docPiPStyle) {\n              var cssContent = \"\";\n              if (typeof docPiPStyle === \"string\") {\n                cssContent = docPiPStyle;\n              } else if (typeof docPiPStyle === \"function\") {\n                cssContent = docPiPStyle.call(config);\n              }\n              if (cssContent) {\n                styles.append(cssContent);\n              }\n            } else if (pipRoot === player.root) {\n              styles.append(\"\\n              .xgplayer{width: 100%!important; height: 100%!important;}\\n            \");\n            }\n            pipWin.document.head.append(styles);\n            pipWin.document.body.append(pipRoot);\n            pipWin.addEventListener(\"pagehide\", function(event) {\n              if (parentNode) {\n                if (nextSibling) {\n                  parentNode.insertBefore(pipRoot, nextSibling);\n                } else if (previousSibling) {\n                  parentNode.insertBefore(pipRoot, previousSibling.nextSibling);\n                } else {\n                  parentNode.appendChild(pipRoot);\n                }\n              } else {\n              }\n              _this4.leavePIPCallback();\n            }, {\n              once: true\n            });\n          });\n        } else if (PIP2.checkWebkitSetPresentationMode(player.media)) {\n          player.media.webkitSetPresentationMode(\"picture-in-picture\");\n        } else {\n          player.media.requestPictureInPicture();\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"requestPiP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"exitPIP\",\n    value: function exitPIP() {\n      var player = this.player;\n      try {\n        if (this.isPIPAvailable() && this.isPip) {\n          var _documentPictureInPic;\n          if (this.isDocPIPAvailable() && (_documentPictureInPic = documentPictureInPicture) !== null && _documentPictureInPic !== void 0 && _documentPictureInPic.window) {\n            documentPictureInPicture.window.close();\n          } else if (PIP2.checkWebkitSetPresentationMode(player.media)) {\n            player.media.webkitSetPresentationMode(\"inline\");\n          } else {\n            document.exitPictureInPicture();\n          }\n        }\n        return true;\n      } catch (reason) {\n        console.error(\"exitPIP\", reason);\n        return false;\n      }\n    }\n  }, {\n    key: \"isPip\",\n    get: function get() {\n      var _documentPictureInPic2;\n      var player = this.player;\n      return !!(this.isDocPIPAvailable() && (_documentPictureInPic2 = documentPictureInPicture) !== null && _documentPictureInPic2 !== void 0 && _documentPictureInPic2.window) || document.pictureInPictureElement && document.pictureInPictureElement === player.media || player.media.webkitPresentationMode === PresentationMode.PIP;\n    }\n  }, {\n    key: \"isPIPAvailable\",\n    value: function isPIPAvailable() {\n      var video = this.player.media;\n      var _isEnabled = util.typeOf(document.pictureInPictureEnabled) === \"Boolean\" ? document.pictureInPictureEnabled : true;\n      return _isEnabled && (util.typeOf(video.disablePictureInPicture) === \"Boolean\" && !video.disablePictureInPicture || video.webkitSupportsPresentationMode && util.typeOf(video.webkitSetPresentationMode) === \"Function\") || this.isDocPIPAvailable();\n    }\n  }, {\n    key: \"isDocPIPAvailable\",\n    value: function isDocPIPAvailable() {\n      return \"documentPictureInPicture\" in window && /^(https|file)/.test(location.protocol);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PIP2.prototype), \"destroy\", this).call(this);\n      var player = this.player;\n      player.media.removeEventListener(\"enterpictureinpicture\", this.enterPIPCallback);\n      player.media.removeEventListener(\"leavepictureinpicture\", this.leavePIPCallback);\n      PIP2.checkWebkitSetPresentationMode(player.media) && player.media.removeEventListener(\"webkitpresentationmodechanged\", this.onWebkitpresentationmodechanged);\n      this.exitPIP();\n      this.unbind(\"click\", this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.showIcon || !this.isPIPAvailable()) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-pip\">\\n      <div class=\"xgplayer-icon xg-icon-disable\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PIP\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"pip\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 6,\n        showIcon: false,\n        preferDocument: false,\n        width: void 0,\n        height: void 0,\n        docPiPNode: void 0,\n        docPiPStyle: void 0\n      };\n    }\n  }, {\n    key: \"checkWebkitSetPresentationMode\",\n    value: function checkWebkitSetPresentationMode(video) {\n      return typeof video.webkitSetPresentationMode === \"function\";\n    }\n  }]);\n  return PIP2;\n}(Icon);\nexport { PIP as default };\n","function Next() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"40\" viewBox=\"10 0 24 40\">\\n  <path transform=\"scale(0.038 0.028)\" d=\"M800 380v768h-128v-352l-320 320v-704l320 320v-352z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { Next as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { PLAYNEXT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Next from \"../assets/playNext.js\";\nvar PlayNextIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(PlayNextIcon2, _Plugin);\n  var _super = _createSuper(PlayNextIcon2);\n  function PlayNextIcon2(options) {\n    var _this;\n    _classCallCheck(this, PlayNextIcon2);\n    _this = _super.call(this, options);\n    _defineProperty(_assertThisInitialized(_this), \"playNext\", function(e) {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      e.preventDefault();\n      e.stopPropagation();\n      if (_this.idx + 1 < _this.config.urlList.length) {\n        _this.idx++;\n        _this.nextHandler(_this.config.urlList[_this.idx], _this.idx);\n        player.emit(PLAYNEXT, _this.idx + 1);\n      } else {\n        _this.nextHandler();\n        player.emit(PLAYNEXT);\n      }\n    });\n    _this.idx = -1;\n    return _this;\n  }\n  _createClass(PlayNextIcon2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.playNext);\n      this.initEvents();\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        playNext: Next\n      };\n    }\n  }, {\n    key: \"initEvents\",\n    value: function initEvents() {\n      this.nextHandler = this.hook(\"nextClick\", this.changeSrc);\n      var event = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n      this.bind(event, this.playNext);\n      this.show();\n    }\n  }, {\n    key: \"changeSrc\",\n    value: function changeSrc(url) {\n      var player = this.player;\n      if (!url) {\n        return;\n      }\n      player.pause();\n      player.currentTime = 0;\n      if (player.switchURL) {\n        player.switchURL(url);\n      } else {\n        player.src = url;\n      }\n      player.config.url = url;\n      player.play();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind([\"touchend\", \"click\"], this.playNext);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.urlList || this.config.urlList.length === 0) {\n        return;\n      }\n      return '\\n     <xg-icon class=\"xgplayer-playnext\">\\n      <div class=\"xgplayer-icon\">\\n      </div>\\n      '.concat(xgIconTips(this, \"PLAYNEXT_TIPS\", this.playerConfig.isHideTips), \"\\n     </xg-icon>\\n    \");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playNext\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_LEFT,\n        index: 1,\n        url: null,\n        urlList: []\n      };\n    }\n  }]);\n  return PlayNextIcon2;\n}(Plugin);\nexport { PlayNextIcon as default };\n","function DownloadSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\">\\n  <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\\n    <g transform=\"translate(-488.000000, -340.000000)\" fill=\"#FFFFFF\">\\n      <g id=\"Group-2\">\\n        <g id=\"volme_big-copy\" transform=\"translate(488.000000, 340.000000)\">\\n          <rect id=\"Rectangle-18\" x=\"11\" y=\"4\" width=\"2\" height=\"12\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" x=\"3\" y=\"18\" width=\"18\" height=\"2\" rx=\"1\"></rect>\\n          <rect id=\"Rectangle-2\" transform=\"translate(4.000000, 17.500000) rotate(90.000000) translate(-4.000000, -17.500000) \" x=\"1.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect><rect id=\"Rectangle-2-Copy-3\" transform=\"translate(20.000000, 17.500000) rotate(90.000000) translate(-20.000000, -17.500000) \" x=\"17.5\" y=\"16.5\" width=\"5\" height=\"2\" rx=\"1\"></rect>\\n          <path d=\"M9.48791171,8.26502656 L9.48791171,14.2650266 C9.48791171,14.8173113 9.04019646,15.2650266 8.48791171,15.2650266 C7.93562696,15.2650266 7.48791171,14.8173113 7.48791171,14.2650266 L7.48791171,7.26502656 C7.48791171,6.71274181 7.93562696,6.26502656 8.48791171,6.26502656 L15.4879117,6.26502656 C16.0401965,6.26502656 16.4879117,6.71274181 16.4879117,7.26502656 C16.4879117,7.81731131 16.0401965,8.26502656 15.4879117,8.26502656 L9.48791171,8.26502656 Z\" id=\"Combined-Shape\" transform=\"translate(11.987912, 10.765027) scale(1, -1) rotate(45.000000) translate(-11.987912, -10.765027) \"></path>\\n        </g>\\n      </g>\\n    </g>\\n  </g>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { DownloadSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport downloadUtil from \"downloadjs\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport DownloadSvg from \"../assets/download.js\";\nvar Download = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(Download2, _IconPlugin);\n  var _super = _createSuper(Download2);\n  function Download2(args) {\n    var _this;\n    _classCallCheck(this, Download2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"download\", function(e) {\n      if (_this.isLock) {\n        return;\n      }\n      _this.emitUserAction(e, \"download\");\n      var url = _this.playerConfig.url;\n      var dUrl = \"\";\n      if (util.typeOf(url) === \"String\") {\n        dUrl = url;\n      } else if (util.typeOf(url) === \"Array\" && url.length > 0) {\n        dUrl = url[0].src;\n      }\n      var newUrl = _this.getAbsoluteURL(dUrl);\n      downloadUtil(newUrl);\n      _this.isLock = true;\n      _this.timer = window.setTimeout(function() {\n        _this.isLock = false;\n        window.clearTimeout(_this.timer);\n        _this.timer = null;\n      }, 300);\n    });\n    _this.timer = null;\n    _this.isLock = false;\n    return _this;\n  }\n  _createClass(Download2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(Download2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", this.icons.download);\n      this._handler = this.hook(\"click\", this.download, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this._handler);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        download: DownloadSvg\n      };\n    }\n  }, {\n    key: \"getAbsoluteURL\",\n    value: function getAbsoluteURL(url) {\n      if (!url.match(/^https?:\\/\\//)) {\n        var div = document.createElement(\"div\");\n        div.innerHTML = '<a href=\"'.concat(url, '\">x</a>');\n        url = div.firstChild.href;\n      }\n      return url;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(Download2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.download);\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return '<xg-icon class=\"xgplayer-download\">\\n   <div class=\"xgplayer-icon\">\\n   </div>\\n   '.concat(xgIconTips(this, \"DOWNLOAD_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"download\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        disable: true\n      };\n    }\n  }]);\n  return Download2;\n}(Icon);\nexport { Download as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { VIDEO_RESIZE, SCREEN_SHOT } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport Icon from \"../common/iconPlugin.js\";\nvar ScreenShot = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(ScreenShot2, _IconPlugin);\n  var _super = _createSuper(ScreenShot2);\n  function ScreenShot2() {\n    _classCallCheck(this, ScreenShot2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ScreenShot2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.screenShot === \"boolean\") {\n        args.config.disable = !args.player.config.screenShot;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"afterCreate\", this).call(this);\n      this.appendChild(\".xgplayer-icon\", this.icons.screenshotIcon);\n      var config = this.config;\n      this.initSize = function(data) {\n        if (config.fitVideo) {\n          config.width = data.vWidth;\n          config.height = data.vHeight;\n        }\n      };\n      this.once(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      this.show();\n      this.onClickBtn = this.onClickBtn.bind(this);\n      this.bind([\"click\", \"touchend\"], this.onClickBtn);\n    }\n  }, {\n    key: \"saveScreenShot\",\n    value: function saveScreenShot(data, filename) {\n      var saveLink = document.createElement(\"a\");\n      saveLink.href = data;\n      saveLink.download = filename;\n      var event = document.createEvent(\"MouseEvents\");\n      event.initMouseEvent(\"click\", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n      saveLink.dispatchEvent(event);\n    }\n  }, {\n    key: \"createCanvas\",\n    value: function createCanvas(width, height) {\n      var canvas = document.createElement(\"canvas\");\n      var canvasCtx = canvas.getContext(\"2d\");\n      this.canvasCtx = canvasCtx;\n      this.canvas = canvas;\n      canvas.width = width || this.config.width;\n      canvas.height = height || this.config.height;\n      canvasCtx.imageSmoothingEnabled = true;\n      if (canvasCtx.imageSmoothingEnabled) {\n        canvasCtx.imageSmoothingQuality = \"high\";\n      }\n    }\n  }, {\n    key: \"onClickBtn\",\n    value: function onClickBtn(e) {\n      var _this = this;\n      e.preventDefault();\n      e.stopPropagation();\n      this.emitUserAction(e, \"shot\");\n      var config = this.config;\n      this.shot(config.width, config.height).then(function(data) {\n        _this.emit(SCREEN_SHOT, data);\n        if (config.saveImg) {\n          _this.saveScreenShot(data, config.name + config.format);\n        }\n      });\n    }\n  }, {\n    key: \"shot\",\n    value: function shot(width, height) {\n      var _this2 = this;\n      var option = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {\n        quality: 0.92,\n        type: \"image/png\"\n      };\n      var config = this.config, player = this.player;\n      var quality = option.quality || config.quality;\n      var type = option.type || config.type;\n      return new Promise(function(resolve, reject) {\n        var canvas = null;\n        var canvasCtx;\n        if (player.media.canvas) {\n          canvas = player.media.canvas;\n        } else {\n          if (!_this2.canvas) {\n            _this2.createCanvas(width, height);\n          } else {\n            _this2.canvas.width = width || config.width;\n            _this2.canvas.height = height || config.height;\n          }\n          canvas = _this2.canvas;\n          canvasCtx = _this2.canvasCtx;\n          var mediaRatio = player.media.videoWidth / player.media.videoHeight;\n          var canvasRatio = canvas.width / canvas.height;\n          var sx = 0, sy = 0, sw = player.media.videoWidth, sh = player.media.videoHeight;\n          var dx, dy, dw, dh;\n          if (mediaRatio > canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.width / mediaRatio;\n            dx = 0;\n            dy = Math.round((canvas.height - dh) / 2);\n          } else if (mediaRatio === canvasRatio) {\n            dw = canvas.width;\n            dh = canvas.height;\n            dx = 0;\n            dy = 0;\n          } else if (mediaRatio < canvasRatio) {\n            dw = canvas.height * mediaRatio;\n            dh = canvas.height;\n            dx = Math.round((canvas.width - dw) / 2);\n            dy = 0;\n          }\n          canvasCtx.drawImage(player.media, sx, sy, sw, sh, dx, dy, dw, dh);\n        }\n        var src = canvas.toDataURL(type, quality).replace(type, \"image/octet-stream\");\n        src = src.replace(/^data:image\\/[^;]+/, \"data:application/octet-stream\");\n        resolve(src);\n      });\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        screenshotIcon: null\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(ScreenShot2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.onClickBtn);\n      this.off(VIDEO_RESIZE, this.initSize);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      var className = this.icons.screenshotIcon ? \"xgplayer-icon\" : \"xgplayer-icon btn-text\";\n      var langKey = \"SCREENSHOT\";\n      return '\\n      <xg-icon class=\"xgplayer-shot\">\\n      <div class=\"'.concat(className, '\">\\n      ').concat(this.icons.screenshotIcon ? \"\" : '<span lang-key=\"'.concat(this.i18nKeys[langKey], '\">').concat(this.i18n[langKey], \"</span>\"), \"\\n      </div>\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"screenShot\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 5,\n        quality: 0.92,\n        type: \"image/png\",\n        format: \".png\",\n        width: 600,\n        height: 337,\n        saveImg: true,\n        fitVideo: true,\n        disable: false,\n        name: \"screenshot\"\n      };\n    }\n  }]);\n  return ScreenShot2;\n}(Icon);\nexport { ScreenShot as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar OptionList = /* @__PURE__ */ function() {\n  function OptionList2(args) {\n    _classCallCheck(this, OptionList2);\n    this.config = args.config;\n    this.parent = args.root;\n    this.root = util.createDom(\"ul\", \"\", {}, \"xg-options-list xg-list-slide-scroll \".concat(this.config.className));\n    args.root.appendChild(this.root);\n    var maxHeight = this.config.maxHeight;\n    if (maxHeight) {\n      this.setStyle({\n        maxHeight\n      });\n    }\n    this.onItemClick = this.onItemClick.bind(this);\n    this.renderItemList();\n    var eventName = sniffer.device === \"mobile\" ? \"touchend\" : \"click\";\n    this._delegates = Plugin.delegate.call(this, this.root, \"li\", eventName, this.onItemClick);\n  }\n  _createClass(OptionList2, [{\n    key: \"renderItemList\",\n    value: function renderItemList(data) {\n      var _this = this;\n      var config = this.config, root = this.root;\n      if (data) {\n        config.data = data;\n      } else {\n        data = config.data;\n      }\n      if (config.style) {\n        Object.keys(config.style).map(function(key) {\n          root.style[key] = config[key];\n        });\n      }\n      if (data.length > 0) {\n        this.attrKeys = Object.keys(data[0]);\n      }\n      this.root.innerHTML = \"\";\n      data.map(function(item, index) {\n        var className = item.selected ? \"option-item selected\" : \"option-item\";\n        item[\"data-index\"] = index;\n        _this.root.appendChild(util.createDom(\"li\", \"<span>\".concat(item.showText, \"</span>\"), item, className));\n      });\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e) {\n      if (!e.delegateTarget) {\n        e.delegateTarget = e.target;\n      }\n      var target = e.delegateTarget;\n      if (target && util.hasClass(target, \"selected\")) {\n        return false;\n      }\n      var changeCallback = typeof this.config.onItemClick === \"function\" ? this.config.onItemClick : null;\n      var curSelected = this.root.querySelector(\".selected\");\n      util.addClass(target, \"selected\");\n      curSelected && util.removeClass(curSelected, \"selected\");\n      changeCallback(e, {\n        from: curSelected ? this.getAttrObj(curSelected, this.attrKeys) : null,\n        to: this.getAttrObj(target, this.attrKeys)\n      });\n    }\n  }, {\n    key: \"getAttrObj\",\n    value: function getAttrObj(dom, keys) {\n      if (!dom || !keys) {\n        return {};\n      }\n      var obj = {};\n      keys.map(function(key) {\n        obj[key] = dom.getAttribute(key);\n      });\n      var index = dom.getAttribute(\"data-index\");\n      if (index) {\n        obj.index = Number(index);\n      }\n      return obj;\n    }\n  }, {\n    key: \"show\",\n    value: function show() {\n      util.removeClass(this.root, \"hide\");\n      util.addClass(this.root, \"active\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"active\");\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).forEach(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._delegates) {\n        this._delegates.map(function(item) {\n          item.destroy && item.destroy();\n        });\n        this._delegates = null;\n      }\n      this.root.innerHTML = null;\n      this.parent.removeChild(this.root);\n      this.root = null;\n    }\n  }]);\n  return OptionList2;\n}();\nexport { OptionList as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, typeof as _typeof } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { VIDEO_RESIZE, FULLSCREEN_CHANGE, CANPLAY, PLAYER_FOCUS } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin, { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionList from \"./optionList.js\";\nvar LIST_TYPES = {\n  SIDE: \"side\",\n  MIDDLE: \"middle\"\n};\nvar TOGGLE_MODES = {\n  CLICK: \"click\",\n  HOVER: \"hover\"\n};\nfunction getListClassName(listType, position) {\n  if (listType === LIST_TYPES.SIDE) {\n    return position === POSITIONS.CONTROLS_LEFT ? \"xg-side-list xg-left-side\" : \"xg-side-list xg-right-side\";\n  } else {\n    return \"\";\n  }\n}\nvar IS_MOBILE = sniffer.device === \"mobile\";\nvar OptionsIcon = /* @__PURE__ */ function(_Plugin) {\n  _inherits(OptionsIcon2, _Plugin);\n  var _super = _createSuper(OptionsIcon2);\n  function OptionsIcon2(args) {\n    var _this;\n    _classCallCheck(this, OptionsIcon2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onEnter\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseenter\", {\n        pluginName: _this.pluginName\n      });\n      _this.switchActiveState(e);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"switchActiveState\", function(e) {\n      e.stopPropagation();\n      var toggleMode = _this.config.toggleMode;\n      if (toggleMode === TOGGLE_MODES.CLICK) {\n        _this.toggle(!_this.isActive);\n      } else {\n        _this.toggle(true);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onLeave\", function(e) {\n      e.stopPropagation();\n      _this.emit(\"icon_mouseleave\", {\n        pluginName: _this.pluginName\n      });\n      if (_this.config.listType !== LIST_TYPES.SIDE) {\n        _this.isActive && _this.toggle(false);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListEnter\", function(e) {\n      _this.enterType = 2;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onListLeave\", function(e) {\n      _this.enterType = 0;\n      _this.isActive && _this.toggle(false);\n    });\n    _this.isIcons = false;\n    _this.isActive = false;\n    _this.curValue = null;\n    _this.curIndex = 0;\n    return _this;\n  }\n  _createClass(OptionsIcon2, [{\n    key: \"updateLang\",\n    value: function updateLang(value) {\n      this.renderItemList(this.config.list, this.curIndex);\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var config = this.config;\n      this.initIcons();\n      if (IS_MOBILE && config.listType !== LIST_TYPES.MIDDLE) {\n        config.listType = LIST_TYPES.SIDE;\n      }\n      config.hidePortrait && util.addClass(this.root, \"portrait\");\n      this.on([VIDEO_RESIZE, FULLSCREEN_CHANGE], function() {\n        _this2._resizeList();\n      });\n      this.once(CANPLAY, function() {\n        if (config.list && config.list.length > 0) {\n          _this2.renderItemList(config.list);\n          _this2.show();\n        }\n      });\n      IS_MOBILE && this.on(PLAYER_FOCUS, function() {\n        if (!_this2.isActive) {\n          return;\n        }\n        _this2.optionsList && _this2.optionsList.hide();\n        _this2.isActive = false;\n      });\n      if (IS_MOBILE) {\n        config.toggleMode = TOGGLE_MODES.CLICK;\n        this.activeEvent = \"touchend\";\n      } else {\n        this.activeEvent = config.toggleMode === TOGGLE_MODES.CLICK ? \"click\" : \"mouseenter\";\n      }\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.bind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.bind(this.activeEvent, this.onEnter);\n        this.bind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.bind(\"click\", this.onIconClick);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var _this3 = this;\n      var icons = this.icons;\n      var _c = Object.keys(icons);\n      var _isIcons = false;\n      if (_c.length > 0) {\n        _c.forEach(function(key) {\n          _this3.appendChild(\".xgplayer-icon\", icons[key]);\n          !_isIcons && (_isIcons = icons[key]);\n        });\n        this.isIcons = _isIcons;\n      }\n      if (_isIcons) {\n        return;\n      }\n      this.appendChild(\".xgplayer-icon\", util.createDom(\"span\", \"\", {}, \"icon-text\"));\n      util.addClass(this.find(\".xgplayer-icon\"), \"btn-text\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n    }\n  }, {\n    key: \"getTextByLang\",\n    value: function getTextByLang(item, key, lang) {\n      if (item === void 0) {\n        return \"\";\n      }\n      var list = this.config.list;\n      !lang && (lang = this.player.lang);\n      key = !key || util.isUndefined(item[key]) ? \"text\" : key;\n      typeof item === \"number\" && (item = list[item]);\n      try {\n        if (_typeof(item[key]) === \"object\") {\n          return item[key][lang] || item[key].en;\n        } else {\n          return item[key];\n        }\n      } catch (err) {\n        console.warn(err);\n        return \"\";\n      }\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle(isActive) {\n      if (isActive === this.isActive)\n        return;\n      var controls = this.player.controls;\n      var listType = this.config.listType;\n      if (isActive) {\n        listType === LIST_TYPES.SIDE ? controls.blur() : controls.focus();\n        this.optionsList && this.optionsList.show();\n      } else {\n        listType === LIST_TYPES.SIDE ? controls.focus() : controls.focusAwhile();\n        this.optionsList && this.optionsList.hide();\n      }\n      this.isActive = isActive;\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      e.stopPropagation();\n      var _this$config = this.config, listType = _this$config.listType, list = _this$config.list;\n      this.curIndex = data.to.index;\n      this.curItem = list[this.curIndex];\n      this.changeCurrentText();\n      var isItemClickHide = this.config.isItemClickHide;\n      (isItemClickHide || IS_MOBILE || listType === LIST_TYPES.SIDE) && this.toggle(false);\n    }\n  }, {\n    key: \"onIconClick\",\n    value: function onIconClick(e) {\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      if (!curItem)\n        return;\n      this.find(\".icon-text\").innerHTML = this.getTextByLang(curItem, \"iconText\");\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList(itemList, curIndex) {\n      var _this4 = this;\n      var config = this.config, optionsList = this.optionsList, player = this.player;\n      if (typeof curIndex === \"number\") {\n        this.curIndex = curIndex;\n        this.curItem = config.list[curIndex];\n      }\n      if (optionsList) {\n        optionsList.renderItemList(itemList);\n        this.changeCurrentText();\n        return;\n      }\n      var options = {\n        config: {\n          data: itemList || [],\n          className: getListClassName(config.listType, config.position),\n          onItemClick: function onItemClick(e, data) {\n            _this4.onItemClick(e, data);\n          }\n        },\n        root: config.listType === LIST_TYPES.SIDE ? player.innerContainer || player.root : this.root\n      };\n      if (this.config.isShowIcon) {\n        var _this$player$root$get = this.player.root.getBoundingClientRect(), height = _this$player$root$get.height;\n        var _maxH = config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n        if (_maxH && config.heightLimit) {\n          options.config.maxHeight = \"\".concat(_maxH, \"px\");\n        }\n        this.optionsList = new OptionList(options);\n        this.changeCurrentText();\n        this.show();\n      }\n      this._resizeList();\n    }\n  }, {\n    key: \"_resizeList\",\n    value: function _resizeList() {\n      if (!this.config.heightLimit) {\n        return;\n      }\n      var _this$player$root$get2 = this.player.root.getBoundingClientRect(), height = _this$player$root$get2.height;\n      var _maxH = this.config.listType === LIST_TYPES.MIDDLE ? height - 50 : height;\n      this.optionsList && this.optionsList.setStyle({\n        maxHeight: \"\".concat(_maxH, \"px\")\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var config = this.config;\n      if (config.toggleMode === TOGGLE_MODES.CLICK) {\n        this.unbind(this.activeEvent, this.switchActiveState);\n      } else {\n        this.unbind(this.activeEvent, this.onEnter);\n        this.unbind(\"mouseleave\", this.onLeave);\n      }\n      this.isIcons && this.unbind(\"click\", this.onIconClick);\n      if (this.optionsList) {\n        this.optionsList.destroy();\n        this.optionsList = null;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.config.isShowIcon) {\n        return;\n      }\n      return '<xg-icon class=\"xg-options-icon '.concat(this.config.className || \"\", '\">\\n    <div class=\"xgplayer-icon\">\\n    </div>\\n   </xg-icon>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"optionsIcon\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 100,\n        list: [],\n        listType: \"middle\",\n        listStyle: {},\n        hidePortrait: true,\n        isShowIcon: false,\n        isItemClickHide: true,\n        toggleMode: TOGGLE_MODES.HOVER,\n        heightLimit: true\n      };\n    }\n  }]);\n  return OptionsIcon2;\n}(Plugin);\nexport { OptionsIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DEFINITION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar DefinitionIcon = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(DefinitionIcon2, _OptionsIcon);\n  var _super = _createSuper(DefinitionIcon2);\n  function DefinitionIcon2(args) {\n    var _this;\n    _classCallCheck(this, DefinitionIcon2);\n    _this = _super.call(this, args);\n    _this.curTime = 0;\n    _this.isPaused = true;\n    return _this;\n  }\n  _createClass(DefinitionIcon2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var list = args.config.list;\n      if (Array.isArray(list) && list.length > 0) {\n        args.config.list = list.map(function(item) {\n          if (!item.text && item.name) {\n            item.text = item.name;\n          }\n          if (!item.text) {\n            item.text = item.definition;\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"afterCreate\", this).call(this);\n      this.on(\"resourceReady\", function(list) {\n        _this2.changeDefinitionList(list);\n      });\n      this.on(DEFINITION_CHANGE, function(data) {\n        _this2.renderItemList(_this2.config.list, data.to);\n      });\n      if (this.player.definitionList.length < 2) {\n        this.hide();\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.config.list || this.config.list.length < 2) {\n        return;\n      }\n      util.addClass(this.root, \"show\");\n    }\n  }, {\n    key: \"initDefinition\",\n    value: function initDefinition() {\n      var _this$config = this.config, list = _this$config.list, defaultDefinition = _this$config.defaultDefinition;\n      if (list.length > 0) {\n        var to = null;\n        list.map(function(item) {\n          if (item.definition === defaultDefinition) {\n            to = item;\n          }\n        });\n        if (!to) {\n          to = list[0];\n        }\n        this.changeDefinition(to);\n      }\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var list = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : this.config.list || [];\n      var to = arguments.length > 1 ? arguments[1] : void 0;\n      var targetDef = to && to.definition ? to.definition : this.config.defaultDefinition;\n      if (to) {\n        list.forEach(function(item) {\n          item.selected = false;\n        });\n      }\n      var curIndex = 0;\n      var items = list.map(function(item, index) {\n        var showItem = _objectSpread2(_objectSpread2({}, item), {}, {\n          showText: _this3.getTextByLang(item) || item.definition,\n          selected: false\n        });\n        if (item.selected || item.definition && item.definition == targetDef) {\n          showItem.selected = true;\n          curIndex = index;\n        }\n        return showItem;\n      });\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeDefinitionList\",\n    value: function changeDefinitionList(list) {\n      if (!Array.isArray(list)) {\n        return;\n      }\n      this.config.list = list.map(function(item) {\n        if (!item.text && item.name) {\n          item.text = item.name;\n        }\n        if (!item.text) {\n          item.text = item.definition;\n        }\n        return item;\n      });\n      this.renderItemList();\n      this.config.list.length < 2 ? this.hide() : this.show();\n    }\n  }, {\n    key: \"changeDefinition\",\n    value: function changeDefinition(to, from) {\n      this.player.changeDefinition(to, from);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, data) {\n      var definitionList = this.player.definitionList;\n      _get(_getPrototypeOf(DefinitionIcon2.prototype), \"onItemClick\", this).apply(this, arguments);\n      this.emitUserAction(e, \"change_definition\", {\n        from: data.from,\n        to: data.to\n      });\n      for (var i = 0; i < definitionList.length; i++) {\n        if (data.to && definitionList[i].definition === data.to.definition) {\n          data.to.url = definitionList[i].url;\n        }\n        if (data.from && definitionList[i].definition === data.from.definition) {\n          data.from.url = definitionList[i].url;\n        }\n      }\n      this.player.changeDefinition(data.to, data.from);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"definition\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 3,\n        list: [],\n        defaultDefinition: \"\",\n        disable: false,\n        hidePortrait: false,\n        className: \"xgplayer-definition\",\n        isShowIcon: true\n      });\n    }\n  }]);\n  return DefinitionIcon2;\n}(OptionsIcon);\nexport { DefinitionIcon as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, objectSpread2 as _objectSpread2, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { RATE_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport OptionsIcon from \"../common/optionsIcon.js\";\nvar PlaybackRate = /* @__PURE__ */ function(_OptionsIcon) {\n  _inherits(PlaybackRate2, _OptionsIcon);\n  var _super = _createSuper(PlaybackRate2);\n  function PlaybackRate2(args) {\n    var _this;\n    _classCallCheck(this, PlaybackRate2);\n    _this = _super.call(this, args);\n    _this.curRate = 1;\n    return _this;\n  }\n  _createClass(PlaybackRate2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var playbackRate = args.player.config.playbackRate;\n      var list = !playbackRate ? [] : Array.isArray(playbackRate) ? playbackRate : args.config.list;\n      if (Array.isArray(list)) {\n        args.config.list = list.map(function(item) {\n          if (typeof item === \"number\") {\n            item = {\n              rate: item,\n              text: \"\".concat(item, \"x\")\n            };\n          } else if (!item.text && item.rate) {\n            item.text = \"\".concat(item.rate, \"x\");\n          }\n          return item;\n        });\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"afterCreate\", this).call(this);\n      this.on(RATE_CHANGE, function() {\n        if (_this2.curValue === _this2.player.playbackRate) {\n          return;\n        }\n        _this2.renderItemList();\n      });\n      this.renderItemList();\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      if (!this.config.list || this.config.list.length === 0) {\n        return;\n      }\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"show\", this).call(this);\n    }\n  }, {\n    key: \"onItemClick\",\n    value: function onItemClick(e, _data) {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"onItemClick\", this).call(this, e, _data);\n      var target = e.delegateTarget;\n      var rate = Number(target.getAttribute(\"rate\"));\n      if (!rate || rate === this.curValue) {\n        return false;\n      }\n      var props = {\n        playbackRate: {\n          from: this.player.playbackRate,\n          to: rate\n        }\n      };\n      this.emitUserAction(e, \"change_rate\", {\n        props\n      });\n      this.curValue = rate;\n      this.player.playbackRate = rate;\n    }\n  }, {\n    key: \"renderItemList\",\n    value: function renderItemList() {\n      var _this3 = this;\n      var playbackRate = this.player.playbackRate || 1;\n      this.curValue = playbackRate;\n      var curIndex = -1;\n      var items = this.config.list.map(function(item, index) {\n        var itemInfo = {\n          rate: item.rate\n        };\n        if (itemInfo.rate === playbackRate) {\n          itemInfo.selected = true;\n          curIndex = index;\n        }\n        itemInfo.showText = _this3.getTextByLang(item);\n        return itemInfo;\n      });\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"renderItemList\", this).call(this, items, curIndex);\n    }\n  }, {\n    key: \"changeCurrentText\",\n    value: function changeCurrentText() {\n      if (this.isIcons) {\n        return;\n      }\n      var list = this.config.list;\n      var index = this.curIndex < list.length ? this.curIndex : 0;\n      var curItem = list[index];\n      var _text = \"\";\n      if (!curItem || this.curIndex < 0) {\n        _text = \"\".concat(this.player.playbackRate, \"x\");\n      } else {\n        _text = this.getTextByLang(curItem, \"iconText\");\n      }\n      this.find(\".icon-text\").innerHTML = _text;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(PlaybackRate2.prototype), \"destroy\", this).call(this);\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"playbackRate\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return _objectSpread2(_objectSpread2({}, OptionsIcon.defaultConfig), {}, {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 4,\n        list: [2, 1.5, 1, 0.75, 0.5],\n        className: \"xgplayer-playbackrate\",\n        isShowIcon: true,\n        hidePortrait: false\n      });\n    }\n  }]);\n  return PlaybackRate2;\n}(OptionsIcon);\nexport { PlaybackRate as default };\n","function CssFullSceenSvg() {\n  return new DOMParser().parseFromString(`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" class='path_full' d=\"M9,10v1a.9.9,0,0,1-1,1,.9.9,0,0,1-1-1V9A.9.9,0,0,1,8,8h2a.9.9,0,0,1,1,1,.9.9,0,0,1-1,1Zm6,4V13a1,1,0,0,1,2,0v2a.9.9,0,0,1-1,1H14a1,1,0,0,1,0-2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\n</svg>\n`, \"image/svg+xml\").firstChild;\n}\nexport { CssFullSceenSvg as default };\n","function ExitCssFullSceenSvg() {\n  return new DOMParser().parseFromString('<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"31\" height=\"40\" viewBox=\"0 -5 31 40\">\\n  <path fill=\"#fff\" transform=\"scale(1.3, 1.3)\" d=\"M9,10V9a.9.9,0,0,1,1-1,.9.9,0,0,1,1,1v2a.9.9,0,0,1-1,1H8a.9.9,0,0,1-1-1,.9.9,0,0,1,1-1Zm6,4v1a1,1,0,0,1-2,0V13a.9.9,0,0,1,1-1h2a1,1,0,0,1,0,2Zm3-7H6V17H18Zm2,0V17a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V7A2,2,0,0,1,6,5H18A2,2,0,0,1,20,7Z\"></path>\\n</svg>\\n', \"image/svg+xml\").firstChild;\n}\nexport { ExitCssFullSceenSvg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass, get as _get, getPrototypeOf as _getPrototypeOf } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { CSS_FULLSCREEN_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport { POSITIONS } from \"../../plugin/plugin.js\";\nimport { xgIconTips } from \"../common/iconTools.js\";\nimport Icon from \"../common/iconPlugin.js\";\nimport CssFullSceenSvg from \"../assets/requestCssFull.js\";\nimport ExitCssFullSceenSvg from \"../assets/exitCssFull.js\";\nvar CssFullScreen = /* @__PURE__ */ function(_IconPlugin) {\n  _inherits(CssFullScreen2, _IconPlugin);\n  var _super = _createSuper(CssFullScreen2);\n  function CssFullScreen2() {\n    _classCallCheck(this, CssFullScreen2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(CssFullScreen2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      if (typeof args.player.config.cssFullscreen === \"boolean\") {\n        args.config.disable = !args.player.config.cssFullscreen;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"afterCreate\", this).call(this);\n      if (this.config.disable) {\n        return;\n      }\n      if (this.config.target) {\n        this.playerConfig.fullscreenTarget = this.config.target;\n      }\n      this.initIcons();\n      this.on(CSS_FULLSCREEN_CHANGE, function(isCssfullScreen) {\n        _this.animate(isCssfullScreen);\n      });\n      this.btnClick = this.btnClick.bind(this);\n      this.handleCssFullscreen = this.hook(\"cssFullscreen_change\", this.btnClick, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.bind([\"click\", \"touchend\"], this.handleCssFullscreen);\n    }\n  }, {\n    key: \"initIcons\",\n    value: function initIcons() {\n      var icons = this.icons;\n      var contentIcon = this.find(\".xgplayer-icon\");\n      contentIcon.appendChild(icons.cssFullscreen);\n      contentIcon.appendChild(icons.exitCssFullscreen);\n    }\n  }, {\n    key: \"btnClick\",\n    value: function btnClick(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var isCssfullScreen = this.player.isCssfullScreen;\n      this.emitUserAction(e, \"switch_cssfullscreen\", {\n        cssfullscreen: isCssfullScreen\n      });\n      if (!isCssfullScreen) {\n        this.player.getCssFullscreen();\n      } else {\n        this.player.exitCssFullscreen();\n      }\n    }\n  }, {\n    key: \"animate\",\n    value: function animate(isFullScreen) {\n      if (!this.root) {\n        return;\n      }\n      isFullScreen ? this.setAttr(\"data-state\", \"full\") : this.setAttr(\"data-state\", \"normal\");\n      this.switchTips(isFullScreen);\n    }\n  }, {\n    key: \"switchTips\",\n    value: function switchTips(isFullScreen) {\n      var i18nKeys = this.i18nKeys;\n      var tipDom = this.find(\".xg-tips\");\n      tipDom && this.changeLangTextKey(tipDom, isFullScreen ? i18nKeys.EXITCSSFULLSCREEN_TIPS : i18nKeys.CSSFULLSCREEN_TIPS);\n    }\n  }, {\n    key: \"registerIcons\",\n    value: function registerIcons() {\n      return {\n        cssFullscreen: {\n          icon: CssFullSceenSvg,\n          class: \"xg-get-cssfull\"\n        },\n        exitCssFullscreen: {\n          icon: ExitCssFullSceenSvg,\n          class: \"xg-exit-cssfull\"\n        }\n      };\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      _get(_getPrototypeOf(CssFullScreen2.prototype), \"destroy\", this).call(this);\n      this.unbind([\"click\", \"touchend\"], this.btnClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.config.disable) {\n        return;\n      }\n      return `<xg-icon class='xgplayer-cssfullscreen'>\n    <div class=\"xgplayer-icon\">\n    </div>\n    `.concat(xgIconTips(this, \"CSSFULLSCREEN_TIPS\", this.playerConfig.isHideTips), \"\\n    </xg-icon>\");\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"cssFullscreen\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        position: POSITIONS.CONTROLS_RIGHT,\n        index: 1,\n        disable: false,\n        target: null\n      };\n    }\n  }]);\n  return CssFullScreen2;\n}(Icon);\nexport { CssFullScreen as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { ERROR } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar ErrorPlugin = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ErrorPlugin2, _Plugin);\n  var _super = _createSuper(ErrorPlugin2);\n  function ErrorPlugin2() {\n    _classCallCheck(this, ErrorPlugin2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ErrorPlugin2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.clickHandler = this.hook(\"errorRetry\", this.errorRetry, {\n        pre: function pre(e) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n      });\n      this.onError = this.hook(\"showError\", this.handleError);\n      this.bind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n      this.on(ERROR, function(error) {\n        _this.onError(error);\n      });\n    }\n  }, {\n    key: \"errorRetry\",\n    value: function errorRetry(e) {\n      this.emitUserAction(e, \"error_retry\", {});\n      this.player.retry();\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError() {\n      var error = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      var player = this.player;\n      var type = error.errorType;\n      var errorNote = player.errorNote ? this.i18n[player.errorNote] : \"\";\n      if (!errorNote) {\n        switch (type) {\n          case \"decoder\":\n            errorNote = this.i18n.MEDIA_ERR_DECODE;\n            break;\n          case \"network\":\n            errorNote = this.i18n.MEDIA_ERR_NETWORK;\n            break;\n          default:\n            errorNote = this.i18n.MEDIA_ERR_SRC_NOT_SUPPORTED;\n        }\n      }\n      this.find(\".xgplayer-error-text\").innerHTML = errorNote;\n      this.find(\".xgplayer-error-tips\").innerHTML = \"\".concat(this.i18n.REFRESH_TIPS, '<span class=\"xgplayer-error-refresh\">').concat(this.i18n.REFRESH, \"</span>\");\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.unbind(\".xgplayer-error-refresh\", \"click\", this.clickHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-error class=\"xgplayer-error\">\\n      <div class=\"xgplayer-errornote\">\\n       <span class=\"xgplayer-error-text\"></span>\\n       <span class=\"xgplayer-error-tips\"><em class=\"xgplayer-error-refresh\"></em></span>\\n      </div>\\n    </xg-error>';\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"error\";\n    }\n  }]);\n  return ErrorPlugin2;\n}(Plugin);\nexport { ErrorPlugin as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport STATE_CLASS from \"../../stateClassMap.js\";\nvar Prompt = /* @__PURE__ */ function(_Plugin) {\n  _inherits(Prompt2, _Plugin);\n  var _super = _createSuper(Prompt2);\n  function Prompt2() {\n    _classCallCheck(this, Prompt2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Prompt2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      this.intervalId = 0;\n      this.customConfig = null;\n      this.bind(\".highlight\", [\"click\", \"touchend\"], function(e) {\n        if (_this.config.onClick || _this.customOnClick) {\n          e.preventDefault();\n          e.stopPropagation();\n          _this.customOnClick ? _this.customOnClick(e) : _this.config.onClick(e);\n        }\n      });\n      this.player.showPrompt = function() {\n        _this.showPrompt.apply(_this, arguments);\n      };\n      this.player.hidePrompt = function() {\n        _this.hide();\n      };\n    }\n  }, {\n    key: \"setStyle\",\n    value: function setStyle(style) {\n      var _this2 = this;\n      Object.keys(style).map(function(key) {\n        _this2.root.style[key] = style[key];\n      });\n    }\n  }, {\n    key: \"showPrompt\",\n    value: function showPrompt(detail) {\n      var _this3 = this;\n      var config = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n      var onClick = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : function() {\n      };\n      if (!detail) {\n        return;\n      }\n      this.customOnClick = onClick;\n      var interval = this.config.interval;\n      if (this.intervalId) {\n        clearTimeout(this.intervalId);\n        this.intervalId = null;\n      }\n      util.addClass(this.root, \"show\");\n      config.mode === \"arrow\" && util.addClass(this.root, \"arrow\");\n      if (typeof detail === \"string\") {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = detail;\n      } else {\n        this.find(\".xgplayer-prompt-detail\").innerHTML = \"\".concat(detail.text || \"\") + \"\".concat(detail.highlight ? '<i class=\"highlight\">'.concat(detail.highlight, \"</i>\") : \"\");\n      }\n      config.style && this.setStyle(config.style);\n      var autoHide = typeof config.autoHide === \"boolean\" ? config.autoHide : this.config.autoHide;\n      if (autoHide) {\n        var hideinterval = config.interval || interval;\n        this.intervalId = setTimeout(function() {\n          _this3.hide();\n        }, hideinterval);\n      }\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.removeClass(this.root, \"show\");\n      util.removeClass(this.root, \"arrow\");\n      this.root.removeAttribute(\"style\");\n      this.customOnClick = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return '<xg-prompt class=\"xgplayer-prompt '.concat(STATE_CLASS.CONTROLS_FOLLOW, '\">\\n    <span class=\"xgplayer-prompt-detail\"></span>\\n    </xg-prompt>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"prompt\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        interval: 3e3,\n        style: {},\n        mode: \"arrow\",\n        autoHide: true,\n        detail: {\n          text: \"\",\n          highlight: \"\"\n        },\n        onClick: function onClick() {\n        }\n      };\n    }\n  }]);\n  return Prompt2;\n}(Plugin);\nexport { Prompt as default };\n","import util from \"../../utils/util.js\";\nimport { DURATION_CHANGE, VIDEO_RESIZE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport \"delegate\";\nvar ISPOT = {\n  time: 0,\n  text: \"\",\n  id: 1,\n  duration: 1,\n  color: \"#fff\",\n  style: {},\n  width: 6,\n  height: 6\n};\nfunction mergeISPOT(iSpot) {\n  Object.keys(ISPOT).map(function(key) {\n    if (iSpot[key] === void 0) {\n      iSpot[key] = ISPOT[key];\n    }\n  });\n}\nvar APIS = {\n  _updateDotDom: function _updateDotDom(iSpot, dotDom) {\n    if (!dotDom) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    dotDom.setAttribute(\"data-text\", iSpot.text);\n    dotDom.setAttribute(\"data-time\", iSpot.time);\n    if (ret.isMini) {\n      util.addClass(dotDom, \"mini\");\n    } else {\n      util.removeClass(dotDom, \"mini\");\n    }\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n  },\n  initDots: function initDots() {\n    var _this = this;\n    this._ispots.map(function(item) {\n      _this.createDot(item, false);\n    });\n    this.ispotsInit = true;\n  },\n  createDot: function createDot(iSpot) {\n    var isNew = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : true;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (isNew) {\n      mergeISPOT(iSpot);\n      this._ispots.push(iSpot);\n    }\n    if (!this.ispotsInit && isNew) {\n      return;\n    }\n    var ret = this.calcuPosition(iSpot.time, iSpot.duration);\n    var style = iSpot.style || {};\n    style.left = \"\".concat(ret.left, \"%\");\n    style.width = \"\".concat(ret.width, \"%\");\n    var className = \"xgspot_\".concat(iSpot.id, \" xgplayer-spot\");\n    ret.isMini && (className += \" mini\");\n    var _t = iSpot.template ? '<div class=\"xgplayer-spot-pop\">'.concat(iSpot.template, \"</div>\") : \"\";\n    var dotDom = util.createDom(\"xg-spot\", _t, {\n      \"data-text\": iSpot.text,\n      \"data-time\": iSpot.time,\n      \"data-id\": iSpot.id\n    }, className);\n    Object.keys(style).map(function(key) {\n      dotDom.style[key] = style[key];\n    });\n    progress.outer && progress.outer.appendChild(dotDom);\n    this.positionDot(dotDom, iSpot.id);\n  },\n  findDot: function findDot(id) {\n    if (!this.player.plugins.progress) {\n      return;\n    }\n    var ret = this._ispots.filter(function(cur, index) {\n      return cur.id === id;\n    });\n    return ret.length > 0 ? ret[0] : null;\n  },\n  updateDot: function updateDot(iSpot) {\n    var needShow = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var dot = this.findDot(iSpot.id);\n    if (dot) {\n      Object.keys(iSpot).map(function(key) {\n        dot[key] = iSpot[key];\n      });\n    }\n    if (!this.ispotsInit) {\n      return;\n    }\n    var dotDom = progress.find('xg-spot[data-id=\"'.concat(iSpot.id, '\"]'));\n    if (!dotDom) {\n      return;\n    }\n    this._updateDotDom(iSpot, dotDom);\n    if (needShow) {\n      this.showDot(iSpot.id);\n    }\n  },\n  deleteDot: function deleteDot(id) {\n    var _ispots = this._ispots;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var del = [];\n    for (var i = 0; i < _ispots.length; i++) {\n      if (_ispots[i].id === id) {\n        del.push(i);\n      }\n    }\n    var len = del.length;\n    for (var _i = len - 1; _i >= 0; _i--) {\n      _ispots.splice(del[_i], 1);\n      if (this.ispotsInit) {\n        var dotDom = progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n        if (dotDom) {\n          dotDom.parentElement.removeChild(dotDom);\n        }\n      }\n    }\n  },\n  deleteAllDots: function deleteAllDots() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = [];\n      return;\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    for (var i = dotDoms.length - 1; i >= 0; i--) {\n      progress.outer.removeChild(dotDoms[i]);\n    }\n    this._ispots = [];\n  },\n  updateAllDots: function updateAllDots() {\n    var _this2 = this;\n    var iSpots = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    if (!this.ispotsInit) {\n      this._ispots = iSpots;\n      return;\n    }\n    this._ispots = [];\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    var len = dotDoms.length;\n    if (len > iSpots.length) {\n      for (var i = len - 1; i > iSpots.length - 1; i--) {\n        progress.outer.removeChild(dotDoms[i]);\n      }\n    }\n    iSpots.forEach(function(ispot, index) {\n      if (index < len) {\n        dotDoms[index].setAttribute(\"data-id\", \"\".concat(ispot.id));\n        _this2._ispots.push(ispot);\n        _this2.updateDot(ispot);\n      } else {\n        _this2.createDot(ispot);\n      }\n    });\n  },\n  positionDots: function positionDots() {\n    var _this3 = this;\n    var _ispots = this._ispots, playerSize = this.playerSize;\n    var sizeInfo = this.player.sizeInfo;\n    var progress = this.player.plugins.progress;\n    if (!progress || sizeInfo.width === playerSize.width) {\n      return;\n    }\n    playerSize.width = sizeInfo.width;\n    playerSize.left = sizeInfo.left;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      dotDom && _this3.positionDot(dotDom, item.id);\n    });\n  },\n  positionDot: function positionDot(dotDom, id) {\n    var _pop = util.findDom(dotDom, \".xgplayer-spot-pop\");\n    if (!_pop) {\n      return;\n    }\n    var pRect = this.playerSize;\n    var rect1 = dotDom.getBoundingClientRect();\n    var rect = _pop.getBoundingClientRect();\n    var _left = rect1.left - pRect.left;\n    var _diff = pRect.width - _left - rect1.width / 2;\n    if (_left < rect.width / 2 || pRect.width < rect.width) {\n      var t = rect.width / 2 - _left;\n      _pop.style.left = \"\".concat(t, \"px\");\n    } else if (_diff < rect.width / 2) {\n      var _t2 = _diff - rect.width / 2 + rect1.width / 2;\n      _pop.style.left = \"\".concat(_t2, \"px\");\n    } else {\n      _pop.style.left = \"50%\";\n    }\n  },\n  updateDuration: function updateDuration() {\n    var _this4 = this;\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    var _ispots = this._ispots;\n    _ispots.forEach(function(item) {\n      var dotDom = progress.find('xg-spot[data-id=\"'.concat(item.id, '\"]'));\n      _this4._updateDotDom(item, dotDom);\n    });\n  },\n  getAllDotsDom: function getAllDotsDom() {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return [];\n    }\n    var dotDoms = progress.root.getElementsByTagName(\"xg-spot\");\n    return dotDoms;\n  },\n  getDotDom: function getDotDom(id) {\n    var progress = this.player.plugins.progress;\n    if (!progress) {\n      return;\n    }\n    return progress.find('xg-spot[data-id=\"'.concat(id, '\"]'));\n  }\n};\nfunction initDotsAPI(plugin) {\n  var config = plugin.config, player = plugin.player;\n  Object.keys(APIS).map(function(item) {\n    plugin[item] = APIS[item].bind(plugin);\n  });\n  var ispots = player.config.progressDot || config.ispots || [];\n  plugin._ispots = ispots.map(function(item) {\n    mergeISPOT(item);\n    return item;\n  });\n  plugin.ispotsInit = false;\n  plugin.playerSize = {\n    left: player.sizeInfo.left,\n    width: player.sizeInfo.width\n  };\n  plugin.on(DURATION_CHANGE, function() {\n    if (!plugin.ispotsInit) {\n      plugin.initDots();\n    } else {\n      plugin.updateDuration();\n    }\n  });\n  plugin.on(VIDEO_RESIZE, function() {\n    plugin.positionDots();\n  });\n}\nexport { initDotsAPI as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nimport initDotsAPI from \"./dotsApi.js\";\nvar CALLBACK_MAP = {\n  dragmove: \"onProgressMove\",\n  dragstart: \"onProgressDragStart\",\n  dragend: \"onProgressDragEnd\",\n  click: \"onProgressClick\",\n  mouseover: \"onProgressMouseOver\",\n  mouseenter: \"onProgressMouseOver\"\n};\nvar ProgressPreview = /* @__PURE__ */ function(_Plugin) {\n  _inherits(ProgressPreview2, _Plugin);\n  var _super = _createSuper(ProgressPreview2);\n  function ProgressPreview2(args) {\n    var _this;\n    _classCallCheck(this, ProgressPreview2);\n    _this = _super.call(this, args);\n    _defineProperty(_assertThisInitialized(_this), \"onMousemove\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xg-spot-content\") && _this.config.isHideThumbnailHover) {\n        _this.player.plugins.progress.onMouseLeave(e);\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMousedown\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (_this._state.f || util.hasClass(e.target, \"xg-spot-content\")) {\n        util.event(e);\n        e.stopPropagation();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseup\", function(e) {\n      if (!_this.isDrag) {\n        return;\n      }\n      var progress = _this.player.plugins.progress;\n      if (progress && progress.pos) {\n        progress.onMouseUp(e);\n        !progress.pos.isEnter && progress.onMouseLeave(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onDotMouseLeave\", function(e) {\n      if (_this.config.disable) {\n        return;\n      }\n      _this._curDot.removeEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      _this.blurDot(e.target);\n      _this._curDot = null;\n      var progress = _this.player.plugins.progress;\n      progress && progress.enableBlur();\n      _this.show();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onProgressMouseOver\", function(data, e) {\n      if (_this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\") && !_this._curDot) {\n        _this._curDot = e.target;\n        _this.focusDot(e.target);\n        if (_this._curDot.children.length > 0) {\n          _this.hide();\n        }\n        var progress = _this.player.plugins.progress;\n        progress && progress.disableBlur();\n        _this._curDot.addEventListener(\"mouseleave\", _this.onDotMouseLeave);\n      }\n    });\n    _this._ispots = [];\n    _this.videoPreview = null;\n    _this.videothumbnail = null;\n    _this.thumbnail = null;\n    _this.timeStr = \"\";\n    _this._state = {\n      now: 0,\n      f: false\n    };\n    return _this;\n  }\n  _createClass(ProgressPreview2, [{\n    key: \"beforeCreate\",\n    value: function beforeCreate(args) {\n      var progress = args.player.plugins.progress;\n      if (progress) {\n        args.root = progress.root;\n      }\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      this._curDot = null;\n      this.handlerSpotClick = this.hook(\"spotClick\", function(_event, data) {\n        if (data.seekTime) {\n          _this2.player.seek(data.seekTime);\n        }\n      });\n      this.transformTimeHook = this.hook(\"transformTime\", function(time) {\n        _this2.setTimeContent(util.format(time));\n      });\n      initDotsAPI(this);\n      this.on(DURATION_CHANGE, function() {\n        _this2.show();\n      });\n      if (this.config.disable) {\n        this.disable();\n      }\n      this.extTextRoot = this.find(\".xg-spot-ext-text\");\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      Object.keys(config).map(function(key) {\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"onPluginsReady\",\n    value: function onPluginsReady() {\n      var player = this.player;\n      if (!player.plugins.progress) {\n        return;\n      }\n      this.previewLine = this.find(\".xg-spot-line\");\n      this.timePoint = this.find(\".xgplayer-progress-point\");\n      this.timeText = this.find(\".xg-spot-time\");\n      this.tipText = this.find(\".spot-inner-text\");\n      this._hasThumnail = false;\n      this.registerThumbnail();\n      this.bindEvents();\n    }\n  }, {\n    key: \"bindEvents\",\n    value: function bindEvents() {\n      var _this4 = this;\n      var progress = this.player.plugins.progress;\n      if (!progress) {\n        return;\n      }\n      Object.keys(CALLBACK_MAP).map(function(key) {\n        _this4[CALLBACK_MAP[key]] = _this4[CALLBACK_MAP[key]].bind(_this4);\n        progress.addCallBack(key, _this4[CALLBACK_MAP[key]]);\n      });\n      if (sniffer.device === \"mobile\")\n        return;\n      this.bind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.bind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.bind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      var fun = this.hook(\"previewClick\", function() {\n      });\n      this.handlerPreviewClick = function(e) {\n        e.stopPropagation();\n        fun(parseInt(_this4._state.now * 1e3, 10) / 1e3, e);\n      };\n      this.bind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"onProgressMove\",\n    value: function onProgressMove(data, e) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.updatePosition(data.offset, data.width, data.currentTime, data.e);\n    }\n  }, {\n    key: \"onProgressDragStart\",\n    value: function onProgressDragStart(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = true;\n      this.videoPreview && util.addClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressDragEnd\",\n    value: function onProgressDragEnd(data) {\n      if (this.config.disable || !this.player.duration) {\n        return;\n      }\n      this.isDrag = false;\n      this.videoPreview && util.removeClass(this.videoPreview, \"show\");\n    }\n  }, {\n    key: \"onProgressClick\",\n    value: function onProgressClick(data, e) {\n      if (this.config.disable) {\n        return;\n      }\n      if (util.hasClass(e.target, \"xgplayer-spot\")) {\n        e.stopPropagation();\n        e.preventDefault();\n        [\"time\", \"id\", \"text\"].map(function(key) {\n          data[key] = e.target.getAttribute(\"data-\".concat(key));\n        });\n        data.time && (data.time = Number(data.time));\n        this.handlerSpotClick(e, data);\n      }\n    }\n  }, {\n    key: \"updateLinePos\",\n    value: function updateLinePos(offset, cwidth) {\n      var root = this.root, previewLine = this.previewLine, player = this.player, config = this.config;\n      var mode = player.controls.mode;\n      var isflex = mode === \"flex\";\n      var lwidth = root.getBoundingClientRect().width;\n      if (!lwidth && this._hasThumnail) {\n        return;\n      }\n      lwidth = this._hasThumnail && lwidth < config.width ? config.width : lwidth;\n      var x = offset - lwidth / 2;\n      var _t;\n      if (x < 0 && !isflex) {\n        x = 0;\n        _t = offset - lwidth / 2;\n      } else if (x > cwidth - lwidth && !isflex) {\n        _t = x - (cwidth - lwidth);\n        x = cwidth - lwidth;\n      } else {\n        _t = 0;\n      }\n      _t !== void 0 && (previewLine.style.transform = \"translateX(\".concat(_t.toFixed(2), \"px)\"));\n      root.style.transform = \"translateX(\".concat(x.toFixed(2), \"px) translateZ(0)\");\n    }\n  }, {\n    key: \"updateTimeText\",\n    value: function updateTimeText(timeStr) {\n      var timeText = this.timeText, timePoint = this.timePoint;\n      timeText.innerHTML = timeStr;\n      !this.thumbnail && (timePoint.innerHTML = timeStr);\n    }\n  }, {\n    key: \"updatePosition\",\n    value: function updatePosition(offset, cwidth, time, e) {\n      var root = this.root, config = this.config, _state = this._state;\n      if (!root) {\n        return;\n      }\n      _state.now = time;\n      this.transformTimeHook(time);\n      var timeStr = this.timeStr;\n      if (e && e.target && util.hasClass(e.target, \"xgplayer-spot\")) {\n        this.showTips(e.target.getAttribute(\"data-text\"), false, timeStr);\n        this.focusDot(e.target);\n        _state.f = true;\n        config.isFocusDots && _state.f && (_state.now = parseInt(e.target.getAttribute(\"data-time\"), 10));\n      } else if (config.defaultText) {\n        _state.f = false;\n        this.showTips(config.defaultText, true, timeStr);\n      } else {\n        _state.f = false;\n        this.hideTips(\"\");\n      }\n      this.updateTimeText(timeStr);\n      this.updateThumbnails(_state.now);\n      this.updateLinePos(offset, cwidth);\n    }\n  }, {\n    key: \"setTimeContent\",\n    value: function setTimeContent(str) {\n      this.timeStr = str;\n    }\n  }, {\n    key: \"updateThumbnails\",\n    value: function updateThumbnails(time) {\n      var player = this.player, videoPreview = this.videoPreview, config = this.config;\n      var thumbnail = player.plugins.thumbnail;\n      if (thumbnail && thumbnail.usable) {\n        this.thumbnail && thumbnail.update(this.thumbnail, time, config.width, config.height);\n        var rect = videoPreview && videoPreview.getBoundingClientRect();\n        this.videothumbnail && thumbnail.update(this.videothumbnail, time, rect.width, rect.height);\n      }\n    }\n  }, {\n    key: \"registerThumbnail\",\n    value: function registerThumbnail() {\n      var thumbnailConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      if (sniffer.device === \"mobile\") {\n        return;\n      }\n      var player = this.player, config = this.config;\n      var thumbnail = player.getPlugin(\"thumbnail\");\n      if (thumbnail) {\n        thumbnail.setConfig(thumbnailConfig);\n      }\n      if (!thumbnail || !thumbnail.usable || !config.isShowThumbnail) {\n        util.addClass(this.root, \"short-line no-thumbnail\");\n        return;\n      } else {\n        util.removeClass(this.root, \"short-line no-thumbnail\");\n      }\n      if (config.mode === \"short\") {\n        util.addClass(this.root, \"short-line\");\n      }\n      this._hasThumnail = true;\n      var tRoot = this.find(\".xg-spot-thumbnail\");\n      this.thumbnail = thumbnail.createThumbnail(tRoot, \"progress-thumbnail\");\n      if (config.isShowCoverPreview) {\n        this.videoPreview = util.createDom(\"xg-video-preview\", \"\", {}, \"xgvideo-preview\");\n        player.root.appendChild(this.videoPreview);\n        this.videothumbnail = thumbnail.createThumbnail(this.videoPreview, \"xgvideo-thumbnail\");\n      }\n      this.updateThumbnails(0);\n    }\n  }, {\n    key: \"calcuPosition\",\n    value: function calcuPosition(time, duration) {\n      var progress = this.player.plugins.progress;\n      var player = this.player;\n      var totalWidth = progress.root.getBoundingClientRect().width;\n      var widthPerSeconds = player.duration / totalWidth * 6;\n      if (time + duration > player.duration) {\n        duration = player.duration - time;\n      }\n      time / player.duration * 100;\n      duration / player.duration;\n      return {\n        left: time / player.duration * 100,\n        width: duration / player.duration * 100,\n        isMini: duration < widthPerSeconds\n      };\n    }\n  }, {\n    key: \"showDot\",\n    value: function showDot(id) {\n      var dot = this.findDot(id);\n      if (dot) {\n        var rect = this.root.getBoundingClientRect();\n        var width = rect.width;\n        var offset = dot.time / this.player.duration * width;\n        this.updatePosition(offset, width, dot.time);\n      }\n    }\n  }, {\n    key: \"focusDot\",\n    value: function focusDot(target, id) {\n      if (!target) {\n        return;\n      }\n      if (!id) {\n        id = target.getAttribute(\"data-id\");\n      }\n      util.addClass(target, \"active\");\n      this._activeDotId = id;\n    }\n  }, {\n    key: \"blurDot\",\n    value: function blurDot(target) {\n      if (!target) {\n        var id = this._activeDotId;\n        target = this.getDotDom(id);\n      }\n      if (!target) {\n        return;\n      }\n      util.removeClass(target, \"active\");\n      this._activeDotId = null;\n    }\n  }, {\n    key: \"showTips\",\n    value: function showTips(text, isDefault) {\n      var timeStr = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"\";\n      util.addClass(this.root, \"no-timepoint\");\n      if (!text) {\n        return;\n      }\n      util.addClass(this.find(\".xg-spot-content\"), \"show-text\");\n      if (isDefault && this.config.mode === \"production\") {\n        util.addClass(this.root, \"product\");\n        this.tipText.textContent = text;\n      } else {\n        util.removeClass(this.root, \"product\");\n        this.tipText.textContent = this._hasThumnail ? text : \"\".concat(timeStr, \" \").concat(text);\n      }\n    }\n  }, {\n    key: \"hideTips\",\n    value: function hideTips() {\n      util.removeClass(this.root, \"no-timepoint\");\n      this.tipText.textContent = \"\";\n      util.removeClass(this.find(\".xg-spot-content\"), \"show-text\");\n      util.removeClass(this.root, \"product\");\n    }\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      util.addClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"show\",\n    value: function show(value) {\n      util.removeClass(this.root, \"hide\");\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var config = this.config, playerConfig = this.playerConfig;\n      this.config.disable = false;\n      this.show();\n      if (!this.thumbnail && config.isShowThumbnail) {\n        this.registerThumbnail(playerConfig.thumbnail || {});\n      }\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.config.disable = true;\n      this.hide();\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n      var progress = this.player.plugins.progress;\n      progress && Object.keys(CALLBACK_MAP).map(function(key) {\n        progress.removeCallBack(key, _this5[CALLBACK_MAP[key]]);\n      });\n      this.videothumbnail = null;\n      this.thumbnail = null;\n      this.videoPreview && this.player.root.removeChild(this.videoPreview);\n      this.unbind(\".xg-spot-info\", \"mousemove\", this.onMousemove);\n      this.unbind(\".xg-spot-info\", \"mousedown\", this.onMousedown);\n      this.unbind(\".xg-spot-info\", \"mouseup\", this.onMouseup);\n      this.unbind(\".xg-spot-content\", \"mouseup\", this.handlerPreviewClick);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (sniffer.device === \"mobile\" || this.playerConfig.isMobileSimulateMode === \"mobile\") {\n        return \"\";\n      }\n      return '<div class=\"xg-spot-info hide '.concat(this.config.mode === \"short\" ? \"short-line\" : \"\", '\">\\n      <div class=\"xg-spot-content\">\\n        <div class=\"xg-spot-thumbnail\">\\n          <span class=\"xg-spot-time\"></span>\\n        </div>\\n        <div class=\"xg-spot-text\"><span class=\"spot-inner-text\"></span></div>\\n      </div>\\n      <div class=\"xgplayer-progress-point\">00:00</div>\\n      <div class=\"xg-spot-ext-text\"></div>\\n      <div class=\"xg-spot-line\"></div>\\n    </div>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"progresspreview\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        index: 1,\n        miniWidth: 6,\n        ispots: [],\n        defaultText: \"\",\n        isFocusDots: true,\n        isHideThumbnailHover: true,\n        isShowThumbnail: true,\n        isShowCoverPreview: false,\n        mode: \"\",\n        disable: false,\n        width: 160,\n        height: 90\n      };\n    }\n  }]);\n  return ProgressPreview2;\n}(Plugin);\nexport { ProgressPreview as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DURATION_CHANGE } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar Thumbnail = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Thumbnail2, _BasePlugin);\n  var _super = _createSuper(Thumbnail2);\n  function Thumbnail2(args) {\n    var _this;\n    _classCallCheck(this, Thumbnail2);\n    _this = _super.call(this, args);\n    _this.ratio = 1;\n    _this.interval = null;\n    _this._preloadMark = {};\n    return _this;\n  }\n  _createClass(Thumbnail2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.usable) {\n        this.initThumbnail();\n      }\n      this.on([DURATION_CHANGE], function() {\n        var _this2$config = _this2.config, pic_num = _this2$config.pic_num, interval = _this2$config.interval;\n        _this2.usable && (_this2.interval = interval > 0 ? interval : Math.round(_this2.player.duration * 1e3 / pic_num) / 1e3);\n      });\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      if (!config) {\n        return;\n      }\n      var keys = Object.keys(config);\n      if (keys.length < 1) {\n        return;\n      }\n      keys.forEach(function(key) {\n        _this3.config[key] = config[key];\n      });\n      this.usable && this.initThumbnail();\n    }\n  }, {\n    key: \"usable\",\n    get: function get() {\n      var _this$config = this.config, urls = _this$config.urls, pic_num = _this$config.pic_num;\n      return urls && urls.length > 0 && pic_num > 0;\n    }\n  }, {\n    key: \"initThumbnail\",\n    value: function initThumbnail() {\n      var _this$config2 = this.config, width = _this$config2.width, height = _this$config2.height, pic_num = _this$config2.pic_num, interval = _this$config2.interval;\n      this.ratio = width / height * 100;\n      this.interval = interval || Math.round(this.player.duration / pic_num);\n      this._preloadMark = {};\n    }\n  }, {\n    key: \"getUrlByIndex\",\n    value: function getUrlByIndex(index) {\n      return index >= 0 && index < this.config.urls.length ? this.config.urls[index] : \"\";\n    }\n  }, {\n    key: \"preload\",\n    value: function preload(index) {\n      var _this4 = this;\n      if (this._preloadMark[index]) {\n        return;\n      }\n      var urls = this.config.urls;\n      var len = urls.length;\n      var arr = [];\n      index > 0 && arr.push(index - 1);\n      arr.push(index);\n      index > 0 && index < len - 1 && arr.push(index + 1);\n      arr.map(function(item) {\n        if (!_this4._preloadMark[item] && item >= 0 && item < len) {\n          _this4._preloadMark[item] = 1;\n          util.preloadImg(urls[item], function() {\n            _this4._preloadMark[item] = 2;\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition(now) {\n      var containerWidth = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;\n      var containerHeight = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var _this$config3 = this.config, pic_num = _this$config3.pic_num, row = _this$config3.row, col = _this$config3.col, width = _this$config3.width, height = _this$config3.height;\n      this.interval = Math.round(this.player.duration / pic_num);\n      var index = Math.ceil(now / this.interval);\n      index = index > pic_num ? pic_num : index;\n      var urlIndex = index < row * col ? 0 : Math.ceil(index / (row * col)) - 1;\n      var indexInPage = index - urlIndex * (col * row);\n      var rowIndex = indexInPage > 0 ? Math.ceil(indexInPage / col) - 1 : 0;\n      var colIndex = indexInPage > 0 ? indexInPage - rowIndex * col - 1 : 0;\n      var swidth = 0;\n      var sHeight = 0;\n      if (containerWidth && containerHeight) {\n        var per = containerWidth / containerHeight;\n        if (per < width / height) {\n          sHeight = containerHeight;\n          swidth = sHeight * (width / height);\n        } else {\n          swidth = containerWidth;\n          sHeight = swidth / (width / height);\n        }\n      } else if (!containerHeight) {\n        swidth = containerWidth || width;\n        sHeight = swidth / (width / height);\n      } else if (!containerWidth) {\n        sHeight = containerHeight || height;\n        swidth = sHeight * (width / height);\n      }\n      var url = this.getUrlByIndex(urlIndex);\n      return {\n        urlIndex,\n        rowIndex,\n        colIndex,\n        url,\n        height: sHeight,\n        width: swidth,\n        style: {\n          backgroundImage: \"url(\".concat(url, \")\"),\n          backgroundSize: \"\".concat(swidth * col, \"px auto\"),\n          backgroundPosition: \"-\".concat(colIndex * swidth, \"px -\").concat(rowIndex * sHeight, \"px\"),\n          width: \"\".concat(swidth, \"px\"),\n          height: \"\".concat(sHeight, \"px\")\n        }\n      };\n    }\n  }, {\n    key: \"update\",\n    value: function update(dom, now) {\n      var containerWidth = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0;\n      var containerHeight = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 0;\n      var customStyle = arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : \"\";\n      var _this$config4 = this.config, pic_num = _this$config4.pic_num, urls = _this$config4.urls;\n      if (pic_num <= 0 || !urls || urls.length === 0) {\n        return;\n      }\n      var pos = this.getPosition(now, containerWidth, containerHeight);\n      this.preload(pos.urlIndex);\n      Object.keys(pos.style).map(function(key) {\n        dom.style[key] = pos.style[key];\n      });\n      Object.keys(customStyle).map(function(key) {\n        dom.style[key] = customStyle[key];\n      });\n    }\n  }, {\n    key: \"changeConfig\",\n    value: function changeConfig() {\n      var newConfig = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n      this.setConfig(newConfig);\n    }\n  }, {\n    key: \"createThumbnail\",\n    value: function createThumbnail(root, className) {\n      var dom = util.createDom(\"xg-thumbnail\", \"\", {}, \"thumbnail \".concat(className));\n      root && root.appendChild(dom);\n      return dom;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"thumbnail\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isShow: false,\n        urls: [],\n        pic_num: 0,\n        col: 0,\n        row: 0,\n        height: 90,\n        width: 160,\n        scale: 1,\n        className: \"\",\n        hidePortrait: false\n      };\n    }\n  }]);\n  return Thumbnail2;\n}(Plugin);\nexport { Thumbnail as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { TIME_UPDATE, EMPTIED } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nfunction getBgColor(color) {\n  return color ? \"background:\".concat(color, \";\") : \"\";\n}\nvar MiniProgress = /* @__PURE__ */ function(_Plugin) {\n  _inherits(MiniProgress2, _Plugin);\n  var _super = _createSuper(MiniProgress2);\n  function MiniProgress2() {\n    var _this;\n    _classCallCheck(this, MiniProgress2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onTimeupdate\", function() {\n      var ended = _this.player.ended;\n      var _assertThisInitialize = _assertThisInitialized(_this), offsetDuration = _assertThisInitialize.offsetDuration;\n      var time = _this.currentTime;\n      time = util.adjustTimeByDuration(time, offsetDuration, ended);\n      _this.update({\n        played: time\n      }, offsetDuration);\n    });\n    return _this;\n  }\n  _createClass(MiniProgress2, [{\n    key: \"offsetDuration\",\n    get: function get() {\n      return this.playerConfig.customDuration || this.player.offsetDuration || this.player.duration;\n    }\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      var _this$player = this.player, offsetCurrentTime = _this$player.offsetCurrentTime, currentTime = _this$player.currentTime;\n      return offsetCurrentTime >= 0 ? offsetCurrentTime : currentTime;\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (!this.root) {\n        return;\n      }\n      this.on(TIME_UPDATE, this.onTimeupdate);\n      this.on(EMPTIED, function() {\n        _this2.reset();\n      });\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.update({\n        played: 0,\n        cached: 0\n      }, 0);\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var data = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {\n        cached: 0,\n        played: 0\n      };\n      var duration = arguments.length > 1 ? arguments[1] : void 0;\n      if (!duration || !this.root) {\n        return;\n      }\n      if (data.cached) {\n        this.find(\"xg-mini-progress-cache\").style.width = \"\".concat(data.cached / duration * 100, \"%\");\n      }\n      if (data.played) {\n        this.find(\"xg-mini-progress-played\").style.width = \"\".concat(data.played / duration * 100, \"%\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$playerConfig = this.playerConfig, commonStyle = _this$playerConfig.commonStyle, miniprogress = _this$playerConfig.miniprogress;\n      if (!miniprogress) {\n        return;\n      }\n      var _this$config = this.config, mode = _this$config.mode, height = _this$config.height;\n      var _style = {\n        cached: getBgColor(commonStyle.cachedColor),\n        played: getBgColor(commonStyle.playedColor),\n        progress: getBgColor(commonStyle.progressColor),\n        height: height > 0 && height !== 2 ? \"height: \".concat(height, \"px;\") : \"\"\n      };\n      var stateClass = mode === \"show\" ? \"xg-mini-progress-show\" : \"\";\n      return '<xg-mini-progress class=\"xg-mini-progress '.concat(stateClass, '\" style=\"').concat(_style.progress, \" \").concat(_style.height, '\">\\n    <xg-mini-progress-cache class=\"xg-mini-progress-cache\" style=\"').concat(_style.cached, '\"></xg-mini-progress-cache>\\n    <xg-mini-progress-played class=\"xg-mini-progress-played\" style=\"').concat(_style.played, '\"></xg-mini-progress-played>\\n    </xg-mini-progress>');\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"MiniProgress\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        mode: \"auto\",\n        height: 2\n      };\n    }\n  }]);\n  return MiniProgress2;\n}(Plugin);\nexport { MiniProgress as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport sniffer from \"../../utils/sniffer.js\";\nimport { TIME_UPDATE, COMPLETE, EMPTIED, PLAY, PAUSE, LOADED_DATA, LOAD_START } from \"../../events.js\";\nimport XG_DEBUG from \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar MODES = {\n  REAL_TIME: \"realtime\",\n  FIRST_FRAME: \"firstframe\",\n  FRAME_RATE: \"framerate\",\n  POSTER: \"poster\"\n};\nfunction nowTime() {\n  try {\n    return parseInt(window.performance.now(), 10);\n  } catch (e) {\n    return new Date().getTime();\n  }\n}\nfunction checkIsSupportCanvas() {\n  try {\n    var ctx = document.createElement(\"canvas\").getContext;\n    if (ctx) {\n      return true;\n    }\n    return false;\n  } catch (e) {\n    return false;\n  }\n}\nvar isSupportCanvas = null;\nvar DynamicBg = /* @__PURE__ */ function(_Plugin) {\n  _inherits(DynamicBg2, _Plugin);\n  var _super = _createSuper(DynamicBg2);\n  function DynamicBg2() {\n    var _this;\n    _classCallCheck(this, DynamicBg2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onLoadedData\", function(e) {\n      if (!_this.player) {\n        return;\n      }\n      _this._frameCount = _this.config.startFrameCount;\n      _this.stop();\n      _this.renderOnTimeupdate(e);\n      _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n      _this.on(TIME_UPDATE, _this.renderOnTimeupdate);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onVisibilitychange\", function(e) {\n      if (document.visibilityState === \"visible\") {\n        _this._checkIfCanStart() && _this.start();\n      } else if (document.visibilityState === \"hidden\") {\n        _this.stop();\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderOnTimeupdate\", function(e) {\n      if (_this._frameCount > 0) {\n        _this.renderOnce();\n        _this._frameCount--;\n      } else {\n        _this._isLoaded = true;\n        _this.off(TIME_UPDATE, _this.renderOnTimeupdate);\n        var startInterval = _this.config.startInterval;\n        !_this.player.paused && _this._checkIfCanStart() && _this.start(0, startInterval);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"start\", function(time, interval) {\n      var video = _this.player.video;\n      var _now = nowTime();\n      var _sVideo = _this.checkVideoIsSupport(video);\n      if (!_sVideo || !_this.canvasCtx) {\n        return;\n      }\n      if (!interval) {\n        interval = _this.interval;\n      }\n      _this.stop();\n      if (video.videoWidth && video.videoHeight) {\n        _this.videoPI = video.videoHeight > 0 ? parseInt(video.videoWidth / video.videoHeight * 100, 10) : 0;\n        if (_this.config.mode === MODES.REAL_TIME) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        } else if (_now - _this.preTime >= interval) {\n          video && video.videoWidth && _this.update(_sVideo, _this.videoPI);\n          _this.preTime = _now;\n        }\n      }\n      _this.frameId = _this._loopType === \"timer\" ? util.setTimeout(_assertThisInitialized(_this), _this.start, interval) : util.requestAnimationFrame(_this.start);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"stop\", function() {\n      if (_this.frameId) {\n        _this._loopType === \"timer\" ? util.clearTimeout(_assertThisInitialized(_this), _this.frameId) : util.cancelAnimationFrame(_this.frameId);\n        _this.frameId = null;\n      }\n    });\n    return _this;\n  }\n  _createClass(DynamicBg2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      if (this.playerConfig.dynamicBg === true) {\n        this.config.disable = false;\n      }\n      if (!DynamicBg2.isSupport) {\n        this.config.disable = true;\n      }\n      var _this$config = this.config, disable = _this$config.disable, mode = _this$config.mode, frameRate = _this$config.frameRate;\n      if (disable) {\n        return;\n      }\n      this._pos = {\n        width: 0,\n        height: 0,\n        rwidth: 0,\n        rheight: 0,\n        x: 0,\n        y: 0,\n        pi: 0\n      };\n      this.isStart = false;\n      this._isLoaded = false;\n      this.videoPI = 0;\n      this.preTime = 0;\n      this.interval = parseInt(1e3 / frameRate, 10);\n      this.canvas = null;\n      this.canvasCtx = null;\n      this._frameCount = 0;\n      this._loopType = this.config.mode !== MODES.REAL_TIME && this.interval >= 1e3 ? \"timer\" : \"animation\";\n      this.once(COMPLETE, function() {\n        if (!_this2.player) {\n          return;\n        }\n        _this2.init();\n        _this2.renderByPoster();\n        if (!_this2.player.paused) {\n          _this2.start();\n        }\n      });\n      if (mode === MODES.POSTER) {\n        return;\n      }\n      if (mode !== MODES.FIRST_FRAME) {\n        this.on(EMPTIED, function() {\n          _this2.stop();\n        });\n        this.on(PLAY, function() {\n          var startInterval = _this2.config.startInterval;\n          _this2._checkIfCanStart() && _this2.start(0, startInterval);\n        });\n        this.on(PAUSE, function() {\n          _this2.stop();\n        });\n      }\n      this.on(LOADED_DATA, this.onLoadedData);\n      this.on(LOAD_START, function() {\n        _this2._isLoaded = false;\n        _this2.stop();\n      });\n      document.addEventListener(\"visibilitychange\", this.onVisibilitychange);\n    }\n  }, {\n    key: \"setConfig\",\n    value: function setConfig(config) {\n      var _this3 = this;\n      Object.keys(config).forEach(function(key) {\n        if (key === \"root\" && config[key] !== _this3.config[key]) {\n          _this3.reRender(config[key]);\n        } else if (key === \"frameRate\") {\n          _this3.interval = parseInt(1e3 / config[key], 10);\n        } else if (key === \"disable\" && config[key]) {\n          _this3.stop();\n        }\n        _this3.config[key] = config[key];\n      });\n    }\n  }, {\n    key: \"init\",\n    value: function init(_root) {\n      var player = this.player, config = this.config;\n      this.canvasFilter = DynamicBg2.supportCanvasFilter();\n      try {\n        var parent = _root || config.root;\n        if (!parent) {\n          parent = !config.isInnerRender ? player.root : player.innerContainer || player.root;\n        }\n        parent.insertAdjacentHTML(\"afterbegin\", '<div class=\"xgplayer-dynamic-bg\" data-index=\"'.concat(config.index, '\"><canvas>\\n        </canvas><xgmask></xgmask></div>'));\n        this.root = parent.children[0];\n        this.canvas = this.find(\"canvas\");\n        if (!this.canvasFilter) {\n          this.canvas.style.filter = config.filter;\n          this.canvas.style.webkitFilter = config.filter;\n        }\n        this.mask = this.find(\"xgmask\");\n        config.addMask && (this.mask.style.background = config.maskBg);\n        this.canvasCtx = this.canvas.getContext(\"2d\");\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"reRender\",\n    value: function reRender(root) {\n      var disable = this.config.disable;\n      if (!disable && !this.root) {\n        return;\n      }\n      this.stop();\n      var _p = this.root ? this.root.parentElement : null;\n      if (_p !== root) {\n        _p.removeChild(this.root);\n      }\n      if (!root) {\n        this.root = null;\n        return;\n      }\n      this.init(root);\n      this.renderOnce();\n      var startInterval = this.config.startInterval;\n      this._checkIfCanStart() && this.start(0, startInterval);\n    }\n  }, {\n    key: \"checkVideoIsSupport\",\n    value: function checkVideoIsSupport(video) {\n      if (!video) {\n        return null;\n      }\n      var _tVideo = video && video instanceof window.HTMLVideoElement ? video : video.canvas ? video.canvas : video.flyVideo ? video.flyVideo : null;\n      if (_tVideo && !(sniffer.browser === \"safari\" && util.isMSE(_tVideo))) {\n        return _tVideo;\n      }\n      var _tagName = _tVideo ? _tVideo.tagName.toLowerCase() : \"\";\n      if (_tagName === \"canvas\" || _tagName === \"img\") {\n        return _tVideo;\n      }\n      return null;\n    }\n  }, {\n    key: \"renderByPoster\",\n    value: function renderByPoster() {\n      var poster = this.playerConfig.poster;\n      if (poster) {\n        var url = util.typeOf(poster) === \"String\" ? poster : util.typeOf(poster.poster) === \"String\" ? poster.poster : null;\n        this.updateImg(url);\n      }\n    }\n  }, {\n    key: \"_checkIfCanStart\",\n    value: function _checkIfCanStart() {\n      var mode = this.config.mode;\n      return this._isLoaded && !this.player.paused && mode !== MODES.FIRST_FRAME && mode !== MODES.POSTER;\n    }\n  }, {\n    key: \"renderOnce\",\n    value: function renderOnce() {\n      var video = this.player.video;\n      if (!video.videoWidth || !video.videoHeight) {\n        return;\n      }\n      this.videoPI = parseInt(video.videoWidth / video.videoHeight * 100, 10);\n      var _sVideo = this.checkVideoIsSupport(video);\n      _sVideo && this.update(_sVideo, this.videoPI);\n    }\n  }, {\n    key: \"updateImg\",\n    value: function updateImg(url) {\n      var _this4 = this;\n      if (!url) {\n        return;\n      }\n      var _this$canvas$getBound = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound.width, height = _this$canvas$getBound.height;\n      var image = new window.Image();\n      image.onload = function() {\n        if (!_this4.canvas || _this4.frameId || _this4.isStart) {\n          return;\n        }\n        _this4.canvas.height = height;\n        _this4.canvas.width = width;\n        var pi = parseInt(width / height * 100, 10);\n        _this4.update(image, pi);\n        image = null;\n      };\n      image.src = url;\n    }\n  }, {\n    key: \"update\",\n    value: function update(video, sourcePI) {\n      if (!this.canvas || !this.canvasCtx || !sourcePI) {\n        return;\n      }\n      try {\n        var _pos = this._pos, config = this.config;\n        var _this$canvas$getBound2 = this.canvas.getBoundingClientRect(), width = _this$canvas$getBound2.width, height = _this$canvas$getBound2.height;\n        if (width !== _pos.width || height !== _pos.height || _pos.pi !== sourcePI) {\n          var pi = parseInt(width / height * 100, 10);\n          _pos.pi = sourcePI;\n          _pos.width !== width && (_pos.width = this.canvas.width = width);\n          _pos.height !== height && (_pos.height = this.canvas.height = height);\n          var rheight = height;\n          var rwidth = width;\n          if (pi < sourcePI) {\n            rwidth = parseInt(height * sourcePI / 100, 10);\n          } else if (pi > sourcePI) {\n            rheight = parseInt(width * 100 / sourcePI, 10);\n          }\n          _pos.rwidth = rwidth * config.multiple;\n          _pos.rheight = rheight * config.multiple;\n          _pos.x = (width - _pos.rwidth) / 2;\n          _pos.y = (height - _pos.rheight) / 2;\n        }\n        this.canvasFilter && (this.canvasCtx.filter = config.filter);\n        this.canvasCtx.drawImage(video, _pos.x, _pos.y, _pos.rwidth, _pos.rheight);\n      } catch (e) {\n        XG_DEBUG.logError(\"plugin:DynamicBg\", e);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.stop();\n      document.removeEventListener(\"visibilitychange\", this.onVisibilitychange);\n      this.canvasCtx = null;\n      this.canvas = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return \"\";\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"dynamicBg\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        isInnerRender: false,\n        disable: true,\n        index: -1,\n        mode: \"framerate\",\n        frameRate: 10,\n        filter: \"blur(50px)\",\n        startFrameCount: 2,\n        startInterval: 0,\n        addMask: true,\n        multiple: 1.2,\n        maskBg: \"rgba(0,0,0,0.7)\"\n      };\n    }\n  }, {\n    key: \"isSupport\",\n    get: function get() {\n      if (typeof isSupportCanvas === \"boolean\") {\n        return isSupportCanvas;\n      }\n      isSupportCanvas = checkIsSupportCanvas();\n      return isSupportCanvas;\n    }\n  }, {\n    key: \"supportCanvasFilter\",\n    value: function supportCanvasFilter() {\n      return !(sniffer.browser === \"safari\" || sniffer.browser === \"firefox\");\n    }\n  }]);\n  return DynamicBg2;\n}(Plugin);\nexport { DynamicBg as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, objectSpread2 as _objectSpread2, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { USER_ACTION, STATS_EVENTS as STATS_EVENTS$1 } from \"../../events.js\";\nimport BasePlugin from \"../../plugin/basePlugin.js\";\nimport \"delegate\";\nvar INFO = \"info\";\nvar STATS_EVENTS = STATS_EVENTS$1;\nvar Stats = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(Stats2, _BasePlugin);\n  var _super = _createSuper(Stats2);\n  function Stats2() {\n    var _this;\n    _classCallCheck(this, Stats2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_recordUserActions\", function(actionData) {\n      var time = _this._getTime();\n      var payload = Object.assign({}, actionData, {\n        msg: actionData.msg || actionData.action\n      });\n      _this._stats[INFO].push(_objectSpread2(_objectSpread2({\n        type: \"userAction\"\n      }, time), {}, {\n        payload\n      }));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onReset\", function() {\n      _this.reset();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_recordInfo\", function(data) {\n      _this.info(data);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_downloadStats\", function() {\n      var stats = _this.getStats();\n      var blob = new Blob([JSON.stringify(stats)], {\n        type: \"application/json\"\n      });\n      var downloadUrl = window.URL.createObjectURL(blob);\n      var link = document.createElement(\"a\");\n      link.style.display = \"none\";\n      link.href = downloadUrl;\n      link.download = \"player.txt\";\n      link.disabled = false;\n      link.click();\n    });\n    return _this;\n  }\n  _createClass(Stats2, [{\n    key: \"_getTime\",\n    value: function _getTime() {\n      return {\n        timestamp: Date.now(),\n        timeFormat: new Date().toISOString()\n      };\n    }\n  }, {\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      this.reset();\n      this.on(USER_ACTION, this._recordUserActions);\n      this.on(STATS_EVENTS.STATS_INFO, this._recordInfo);\n      this.on(STATS_EVENTS.STATS_DOWNLOAD, this._downloadStats);\n      this.on(STATS_EVENTS.STATS_RESET, this._onReset);\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.offAll();\n    }\n  }, {\n    key: \"downloadStats\",\n    value: function downloadStats() {\n      this._downloadStats();\n    }\n  }, {\n    key: \"info\",\n    value: function info(data) {\n      if (data.profile) {\n        this._infoProfile(data);\n      } else {\n        this._info(data);\n      }\n    }\n  }, {\n    key: \"_info\",\n    value: function _info(data) {\n      var time = this._getTime();\n      this._stats[INFO].push(_objectSpread2(_objectSpread2({}, time), {}, {\n        payload: data\n      }));\n    }\n  }, {\n    key: \"_infoProfile\",\n    value: function _infoProfile(data) {\n      if (data && data.startMs) {\n        var endMs = Date.now();\n        var dur = endMs - data.startMs;\n        var profile = _objectSpread2({\n          cat: \"function\",\n          dur,\n          name: data.name || data.msg,\n          ph: \"X\",\n          pid: 0,\n          tid: 0,\n          ts: data.startMs,\n          profile: true\n        }, data);\n        this._info(profile);\n      } else {\n        console.warn(\"infoProfile need object data, include startMs\");\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var _this$_stats;\n      this._stats = (_this$_stats = {}, _defineProperty(_this$_stats, INFO, []), _defineProperty(_this$_stats, \"media\", {}), _this$_stats);\n    }\n  }, {\n    key: \"getStats\",\n    value: function getStats() {\n      var player = this.player;\n      var mediaElem = player.media;\n      var buffered = [];\n      for (var i = 0; i < mediaElem.buffered.length; i++) {\n        buffered.push({\n          start: mediaElem.buffered.start(i),\n          end: mediaElem.buffered.end(i)\n        });\n      }\n      var mediaInfo = {\n        currentTime: mediaElem.currentTime,\n        readyState: mediaElem.readyState,\n        buffered,\n        paused: mediaElem.paused,\n        ended: mediaElem.ended\n      };\n      this._stats.media = mediaInfo;\n      return {\n        raw: this._stats,\n        timestat: this._getTimeStats(),\n        profile: this._getProfile()\n      };\n    }\n  }, {\n    key: \"_getTimeStats\",\n    value: function _getTimeStats() {\n      var allStat = this._stats[INFO];\n      var msgs = allStat.map(function(stat) {\n        var data = stat.payload.data;\n        var msg = \"\";\n        try {\n          if (data instanceof Error) {\n            msg = data.msg;\n          } else if (data !== void 0) {\n            msg = JSON.stringify(data);\n          }\n        } catch (error) {\n          console.log(\"err\", error);\n        }\n        return \"[\".concat(stat.timeFormat, \"] : \").concat(stat.payload.msg, \" \").concat(msg, \" \");\n      });\n      return msgs;\n    }\n  }, {\n    key: \"_getProfile\",\n    value: function _getProfile() {\n      var profile = {\n        traceEvents: []\n      };\n      var allStat = this._stats[INFO];\n      allStat.forEach(function(stat) {\n        if (stat.payload.profile) {\n          profile.traceEvents.push(stat.payload);\n        }\n      });\n      return profile;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"stats\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {};\n    }\n  }]);\n  return Stats2;\n}(BasePlugin);\nexport { Stats as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAY, SEEKING } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar GapJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(GapJump2, _BasePlugin);\n  var _super = _createSuper(GapJump2);\n  function GapJump2() {\n    var _this;\n    _classCallCheck(this, GapJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onGapJump\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player, config = _assertThisInitialize.config;\n      if (player.media.readyState === HTMLMediaElement.HAVE_NOTHING) {\n        return;\n      }\n      if (player.media.seeking) {\n        if (!_this.seekingEventReceived) {\n          return;\n        }\n      } else {\n        _this.seekingEventReceived = false;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      var buffered = player.media.buffered;\n      var smallGapLimit = config.smallGapLimit || 0.5;\n      var gapDetectionThreshold = config.gapDetectionThreshold || 0.3;\n      var currentTime = player.media.currentTime;\n      var idx = _this._getIndex(buffered, currentTime, gapDetectionThreshold);\n      if (idx === null || idx === 0) {\n        return;\n      }\n      console.log(\"GapJump  bufferRange \", buffered.start(idx), buffered.end(idx));\n      var jumpTo = buffered.start(idx) + 0.1;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      var jumpSize = jumpTo - currentTime;\n      var isGapSmall = jumpSize <= smallGapLimit;\n      if (jumpSize < GapJump2.BROWSER_GAP_TOLERANCE) {\n        return;\n      }\n      if (isGapSmall) {\n        if (config.useGapJump !== false) {\n          player.media.currentTime = _this.isSafari ? jumpTo + 0.1 : jumpTo;\n        }\n        _this.player && _this.player.emit(\"detectGap\");\n        console.log(\"gapJump gapIndex\", idx, \" isGapSamll:\", isGapSmall, \" currentTime:\", player.media.currentTime, \" jumpSize:\", currentTime - player.media.currentTime);\n        if (jumpTo !== 0.08) {\n          player && player.emit(\"log\", {\n            type: \"oneevent\",\n            end_type: \"gap\",\n            vid: player.config.vid,\n            ext: {\n              video_postion: Math.floor(jumpTo * 1e3)\n            }\n          });\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(GapJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var useGapJump = this.config.useGapJump;\n      if (useGapJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.seekingEventReceived = false;\n      this.isSafari = /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n      this.on(WAITING, this.onGapJump);\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n      this.on(SEEKING, function() {\n        _this2.seekingEventReceived = true;\n      });\n    }\n  }, {\n    key: \"_getIndex\",\n    value: function _getIndex(buffered, time, threshold) {\n      if (!buffered || !buffered.length) {\n        return null;\n      }\n      if (buffered.length === 1 && buffered.end(0) - buffered.start(0) < 1e-6) {\n        return null;\n      }\n      var bufferedInfo = this._getBuffered(buffered);\n      var idx = null;\n      for (var i = 0; i < bufferedInfo.length; i++) {\n        var item = bufferedInfo[i];\n        if (item.start > time && (i === 0 || bufferedInfo[i - 1].end - time <= threshold)) {\n          idx = i;\n          break;\n        }\n      }\n      return idx;\n    }\n  }, {\n    key: \"_getBuffered\",\n    value: function _getBuffered(b) {\n      if (!b) {\n        return [];\n      }\n      var ret = [];\n      for (var i = 0; i < b.length; i++) {\n        ret.push({\n          start: b.start(i),\n          end: b.end(i)\n        });\n      }\n      return ret;\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"gapJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useGapJump: false,\n        smallGapLimit: 0.5,\n        gapDetectionThreshold: 0.3\n      };\n    }\n  }]);\n  return GapJump2;\n}(Plugin);\nGapJump.BROWSER_GAP_TOLERANCE = 1e-3;\nexport { GapJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { WAITING, PLAYING, CANPLAY, PLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar WaitingTimeoutJump = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(WaitingTimeoutJump2, _BasePlugin);\n  var _super = _createSuper(WaitingTimeoutJump2);\n  function WaitingTimeoutJump2() {\n    var _this;\n    _classCallCheck(this, WaitingTimeoutJump2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"onWaiting\", function() {\n      var _assertThisInitialize = _assertThisInitialized(_this), config = _assertThisInitialize.config;\n      if (_this.jumpCnt > config.jumpCntMax || _this.timer || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      _this.timer = setTimeout(_this.onJump, config.waitingTime * 1e3);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onJump\", function() {\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player, config = _assertThisInitialize2.config;\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (_this.jumpCnt > config.jumpCntMax || config.useWaitingTimeoutJump === false) {\n        return;\n      }\n      if (player.media.paused && player.media.currentTime !== 0 && _this.hasPlayed) {\n        return;\n      }\n      _this.jumpSize = config.jumpSize * (_this.jumpCnt + 1);\n      if (_this.jumpCnt === config.jumpSize && _this.jumpSize < 6) {\n        _this.jumpSize = 6;\n      }\n      var jumpTo = player.currentTime + _this.jumpSize;\n      var seekEnd = player.media.duration;\n      if (jumpTo > seekEnd) {\n        return;\n      }\n      console.log(\"waitintTimeout, currentTime:\", player.currentTime, \", jumpTo:\", jumpTo);\n      _this.jumpCnt++;\n      player.currentTime = jumpTo;\n    });\n    return _this;\n  }\n  _createClass(WaitingTimeoutJump2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this2 = this;\n      var _this$config = this.config, useWaitingTimeoutJump = _this$config.useWaitingTimeoutJump, jumpSize = _this$config.jumpSize;\n      if (useWaitingTimeoutJump === false) {\n        return;\n      }\n      this.hasPlayed = false;\n      this.jumpCnt = 0;\n      this.timer = null;\n      this.jumpSize = jumpSize;\n      this.on(WAITING, this.onWaiting);\n      this.on([PLAYING, CANPLAY], function() {\n        clearTimeout(_this2.timer);\n        _this2.timer = null;\n        _this2.jumpSize = _this2.config.jumpSize;\n      });\n      this.on(PLAY, function() {\n        _this2.hasPlayed = true;\n      });\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"waitingTimeoutJump\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        useWaitingTimeoutJump: false,\n        waitingTime: 15,\n        jumpSize: 2,\n        jumpCntMax: 4\n      };\n    }\n  }]);\n  return WaitingTimeoutJump2;\n}(Plugin);\nexport { WaitingTimeoutJump as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, defineProperty as _defineProperty, assertThisInitialized as _assertThisInitialized, createClass as _createClass, toConsumableArray as _toConsumableArray } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport util from \"../../utils/util.js\";\nimport { DOWNLOAD_SPEED_CHANGE, LOADED_DATA, REPLAY } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar DEFAULT_SPEED_TYPE = \"cdn\";\nvar SPEED_TYPE = [\"cdn\"];\nvar TestSpeed = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(TestSpeed2, _BasePlugin);\n  var _super = _createSuper(TestSpeed2);\n  function TestSpeed2() {\n    var _this;\n    _classCallCheck(this, TestSpeed2);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"getSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return 0;\n      if (_this.speedListCache[type].length <= 0)\n        return 0;\n      var total = 0;\n      _this.speedListCache[type].map(function(item) {\n        total += item;\n      });\n      return Math.floor(total / _this.speedListCache[type].length);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"startTimer\", function() {\n      if (util.isMSE(_this.player.video)) {\n        return;\n      }\n      _this.initSpeedList();\n      _this.cnt = 0;\n      _this.timer = setTimeout(_this.testSpeed, _this.config.testTimeStep);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"initSpeedList\", function() {\n      _this.speedListCache = {};\n      SPEED_TYPE.forEach(function(type) {\n        _this.speedListCache[type] = [];\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"_onRealSpeedChange\", function(data) {\n      data.speed && _this.appendList(data.speed, data.type || DEFAULT_SPEED_TYPE);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"testSpeed\", function() {\n      clearTimeout(_this.timer);\n      _this.timer = null;\n      if (!_this.player || !_this.config.openSpeed)\n        return;\n      var _this$config = _this.config, url = _this$config.url, loadSize = _this$config.loadSize, testCnt = _this$config.testCnt, testTimeStep = _this$config.testTimeStep;\n      var testSpeedUrl = url + (url.indexOf(\"?\") < 0 ? \"?testst=\" : \"&testst=\") + Date.now();\n      if (_this.cnt >= testCnt) {\n        return;\n      }\n      _this.cnt++;\n      try {\n        var start = new Date().getTime();\n        var end = null;\n        var xhr = new XMLHttpRequest();\n        _this.xhr = xhr;\n        xhr.open(\"GET\", testSpeedUrl);\n        var headers = {};\n        var random = Math.floor(Math.random() * 10);\n        headers.Range = \"bytes=\" + random + \"-\" + (loadSize + random);\n        if (headers) {\n          Object.keys(headers).forEach(function(k) {\n            xhr.setRequestHeader(k, headers[k]);\n          });\n        }\n        xhr.onreadystatechange = function() {\n          if (xhr.readyState === 4) {\n            _this.xhr = null;\n            end = new Date().getTime();\n            var size = xhr.getResponseHeader(\"Content-Length\") / 1024 * 8;\n            var speed = Math.round(size * 1e3 / (end - start));\n            _this.appendList(speed);\n            _this.timer = setTimeout(_this.testSpeed, testTimeStep);\n          }\n        };\n        xhr.send();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"appendList\", function(speed) {\n      var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : DEFAULT_SPEED_TYPE;\n      if (!_this.speedListCache || !_this.speedListCache[type])\n        return;\n      var saveSpeedMax = _this.config.saveSpeedMax;\n      if (_this.speedListCache[type].length >= saveSpeedMax) {\n        _this.speedListCache[type].shift();\n      }\n      _this.speedListCache[type].push(speed);\n      var _assertThisInitialize = _assertThisInitialized(_this), player = _assertThisInitialize.player;\n      if (player) {\n        type === DEFAULT_SPEED_TYPE ? player.realTimeSpeed = speed : player[_this.getSpeedName(\"realTime\", type)] = speed;\n      }\n      _this.updateSpeed(type);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"updateSpeed\", function() {\n      var type = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : DEFAULT_SPEED_TYPE;\n      var speed = _this.getSpeed(type);\n      var _assertThisInitialize2 = _assertThisInitialized(_this), player = _assertThisInitialize2.player;\n      if (player) {\n        if (type === DEFAULT_SPEED_TYPE) {\n          if (!player.avgSpeed || speed !== player.avgSpeed) {\n            player.avgSpeed = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        } else {\n          var speedName = _this.getSpeedName(\"avg\", type);\n          if (!player[speedName] || speed !== player[speedName]) {\n            player[speedName] = speed;\n            player.emit(DOWNLOAD_SPEED_CHANGE, {\n              speed,\n              realTimeSpeed: player.realTimeSpeed\n            });\n          }\n        }\n      }\n    });\n    return _this;\n  }\n  _createClass(TestSpeed2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this$config2 = this.config, openSpeed = _this$config2.openSpeed, addSpeedTypeList = _this$config2.addSpeedTypeList;\n      if ((addSpeedTypeList === null || addSpeedTypeList === void 0 ? void 0 : addSpeedTypeList.length) > 0) {\n        SPEED_TYPE.push.apply(SPEED_TYPE, _toConsumableArray(addSpeedTypeList));\n      }\n      this.initSpeedList();\n      this.on(\"real_time_speed\", this._onRealSpeedChange);\n      this.timer = null;\n      this.cnt = 0;\n      this.xhr = null;\n      if (!openSpeed) {\n        return;\n      }\n      this.on([LOADED_DATA, REPLAY], this.startTimer);\n    }\n  }, {\n    key: \"getSpeedName\",\n    value: function getSpeedName(namePrefix, type) {\n      return namePrefix + \"Speed\" + type.toUpperCase();\n    }\n  }, {\n    key: \"openSpeed\",\n    get: function get() {\n      return this.config.openSpeed;\n    },\n    set: function set(value) {\n      this.config.openSpeed = value;\n      if (!value && this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n        return;\n      }\n      if (this.config.openSpeed) {\n        if (this.timer)\n          return;\n        this.timer = setTimeout(this.testSpeed, this.config.testTimeStep);\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.off(\"real_time_speed\", this._onRealSpeedChange);\n      this.off([LOADED_DATA, REPLAY], this.startTimer);\n      SPEED_TYPE.forEach(function(type) {\n        _this2.speedListCache && _this2.speedListCache[type] && (_this2.speedListCache[type] = []);\n      });\n      this.speedListCache && (this.speedListCache = {});\n      clearTimeout(this.timer);\n      this.timer = null;\n      if (this.xhr && this.xhr.readyState !== 4) {\n        this.xhr.cancel && this.xhr.cancel();\n        this.xhr = null;\n      }\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"testspeed\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        openSpeed: false,\n        testCnt: 3,\n        loadSize: 200 * 1024,\n        testTimeStep: 3e3,\n        url: \"\",\n        saveSpeedMax: 5,\n        addSpeedTypeList: []\n      };\n    }\n  }]);\n  return TestSpeed2;\n}(Plugin);\nexport { TestSpeed as default };\n","import { inherits as _inherits, createSuper as _createSuper, classCallCheck as _classCallCheck, createClass as _createClass } from \"../../_virtual/_rollupPluginBabelHelpers.js\";\nimport \"../../utils/util.js\";\nimport { PLAY, PAUSE, ENDED, EMPTIED, FPS_STUCK } from \"../../events.js\";\nimport \"../../utils/debug.js\";\nimport Plugin from \"../../plugin/plugin.js\";\nvar FpsDetect = /* @__PURE__ */ function(_BasePlugin) {\n  _inherits(FpsDetect2, _BasePlugin);\n  var _super = _createSuper(FpsDetect2);\n  function FpsDetect2() {\n    _classCallCheck(this, FpsDetect2);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FpsDetect2, [{\n    key: \"afterCreate\",\n    value: function afterCreate() {\n      var _this = this;\n      var player = this.player, config = this.config;\n      var media = player.media || player.video;\n      this.timer = null;\n      this._lastDecodedFrames = 0;\n      this._currentStuckCount = 0;\n      this._lastCheckPoint = null;\n      this._payload = [];\n      if (config.disabled)\n        return;\n      var getVideoPlaybackQuality = media.getVideoPlaybackQuality;\n      if (!getVideoPlaybackQuality)\n        return;\n      this.on(PLAY, function() {\n        _this._startTick();\n      });\n      this.on(PAUSE, function() {\n        _this._stopTick();\n      });\n      this.on(ENDED, function() {\n        _this._stopTick();\n      });\n      this.on(EMPTIED, function() {\n        _this._stopTick();\n      });\n    }\n  }, {\n    key: \"_startTick\",\n    value: function _startTick() {\n      var _this2 = this;\n      this._stopTick();\n      this._timer = setTimeout(function() {\n        _this2._checkDecodeFPS();\n        _this2._startTick();\n      }, this.config.tick);\n    }\n  }, {\n    key: \"_stopTick\",\n    value: function _stopTick() {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  }, {\n    key: \"_checkBuffer\",\n    value: function _checkBuffer(curTime, buffered) {\n      var enoughBuffer = false;\n      var buffers = [];\n      for (var i = 0; i < buffered.length; i++) {\n        var start = buffered.start(i);\n        var end = buffered.end(i);\n        buffers.push({\n          start,\n          end\n        });\n        if (start <= curTime && curTime <= end - 1) {\n          enoughBuffer = true;\n          break;\n        }\n      }\n      return {\n        enoughBuffer,\n        buffers\n      };\n    }\n  }, {\n    key: \"_checkStuck\",\n    value: function _checkStuck(curDecodedFrames, totalVideoFrames, droppedVideoFrames, checkInterval) {\n      var media = this.player.media || this.player.video;\n      var hidden = document.hidden;\n      var paused = media.paused, readyState = media.readyState, currentTime = media.currentTime, buffered = media.buffered;\n      if (hidden || paused || readyState < 4) {\n        return;\n      }\n      var _this$_checkBuffer = this._checkBuffer(currentTime, buffered), enoughBuffer = _this$_checkBuffer.enoughBuffer, buffers = _this$_checkBuffer.buffers;\n      if (!enoughBuffer) {\n        return;\n      }\n      if (curDecodedFrames <= this.config.reportFrame) {\n        this._currentStuckCount++;\n        this._payload.push({\n          currentTime,\n          buffers,\n          curDecodedFrames,\n          totalVideoFrames,\n          droppedVideoFrames,\n          checkInterval\n        });\n        if (this._currentStuckCount >= this.config.stuckCount) {\n          this.emit(FPS_STUCK, this._payload);\n          this._reset();\n        }\n      } else {\n        this._reset();\n      }\n    }\n  }, {\n    key: \"_reset\",\n    value: function _reset() {\n      this._payload = [];\n      this._currentStuckCount = 0;\n    }\n  }, {\n    key: \"_checkDecodeFPS\",\n    value: function _checkDecodeFPS() {\n      var media = this.player.media || this.player.video;\n      if (!media) {\n        return;\n      }\n      var _media$getVideoPlayba = media.getVideoPlaybackQuality(), totalVideoFrames = _media$getVideoPlayba.totalVideoFrames, droppedVideoFrames = _media$getVideoPlayba.droppedVideoFrames;\n      var currTime = performance.now();\n      if (totalVideoFrames) {\n        if (this._lastCheckPoint) {\n          var curDecoded = totalVideoFrames - this._lastDecodedFrames;\n          var checkInterval = currTime - this._lastCheckPoint;\n          this._checkStuck(curDecoded, totalVideoFrames, droppedVideoFrames, checkInterval);\n        }\n      }\n      this._lastDecodedFrames = totalVideoFrames;\n      this._lastCheckPoint = currTime;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._stopTick();\n    }\n  }], [{\n    key: \"pluginName\",\n    get: function get() {\n      return \"FpsDetect\";\n    }\n  }, {\n    key: \"defaultConfig\",\n    get: function get() {\n      return {\n        disabled: false,\n        tick: 1e3,\n        stuckCount: 3,\n        reportFrame: 0\n      };\n    }\n  }]);\n  return FpsDetect2;\n}(Plugin);\nexport { FpsDetect as default };\n","import { createClass as _createClass, classCallCheck as _classCallCheck, toConsumableArray as _toConsumableArray } from \"../_virtual/_rollupPluginBabelHelpers.js\";\nimport sniffer from \"../utils/sniffer.js\";\nimport XGLogger from \"../plugins/logger/index.js\";\nimport Replay from \"../plugins/replay/index.js\";\nimport Poster from \"../plugins/poster/index.js\";\nimport Start from \"../plugins/start/index.js\";\nimport Enter from \"../plugins/enter/index.js\";\nimport MiniScreen from \"../plugins/miniScreen/index.js\";\nimport PCPlugin from \"../plugins/pc/index.js\";\nimport MobilePlugin from \"../plugins/mobile/index.js\";\nimport Keyboard from \"../plugins/keyboard/index.js\";\nimport Loading from \"../plugins/loading/index.js\";\nimport Progress from \"../plugins/progress/index.js\";\nimport Play from \"../plugins/play/index.js\";\nimport Fullscreen from \"../plugins/fullscreen/index.js\";\nimport Time from \"../plugins/time/index.js\";\nimport TimeSegmentsControls from \"../plugins/time/timesegments.js\";\nimport Volume from \"../plugins/volume/index.js\";\nimport Rotate from \"../plugins/rotate/index.js\";\nimport PIP from \"../plugins/pip/index.js\";\nimport PlayNextIcon from \"../plugins/playNext/index.js\";\nimport Download from \"../plugins/download/index.js\";\nimport ScreenShot from \"../plugins/screenShot/index.js\";\nimport DefinitionIcon from \"../plugins/definition/index.js\";\nimport PlaybackRate from \"../plugins/playbackRate/index.js\";\nimport CssFullScreen from \"../plugins/cssFullScreen/index.js\";\nimport ErrorPlugin from \"../plugins/error/index.js\";\nimport Prompt from \"../plugins/prompt/index.js\";\nimport ProgressPreview from \"../plugins/progressPreview/index.js\";\nimport Thumbnail from \"../plugins/common/thumbnail.js\";\nimport MiniProgress from \"../plugins/progress/miniProgress.js\";\nimport DynamicBg from \"../plugins/dynamicBg/index.js\";\nimport ZH from \"../lang/zh-cn.js\";\nimport Stats from \"../plugins/stats/index.js\";\nimport GapJump from \"../plugins/gapJump/index.js\";\nimport WaitingTimeoutJump from \"../plugins/waitingTimeoutJump/index.js\";\nimport TestSpeed from \"../plugins/testspeed/index.js\";\nimport I18N from \"../lang/i18n.js\";\nimport FpsDetect from \"../plugins/fpsDetect/index.js\";\nI18N.use(ZH);\nvar DefaultPreset = /* @__PURE__ */ _createClass(function DefaultPreset2(options, playerConfig) {\n  var _this$plugins, _this$plugins2, _this$plugins3;\n  _classCallCheck(this, DefaultPreset2);\n  var simulateMode = playerConfig && playerConfig.isMobileSimulateMode === \"mobile\";\n  var isLive = playerConfig.isLive;\n  var vodPlugins = isLive ? [] : [TimeSegmentsControls, Progress, MiniProgress, ProgressPreview, Time];\n  var contolsIcons = [].concat(vodPlugins, [Play, Fullscreen, Rotate, PlayNextIcon, DefinitionIcon, PlaybackRate, Download, ScreenShot, Volume, PIP]);\n  var layers = [Replay, Poster, Start, Loading, Enter, ErrorPlugin, Prompt, Thumbnail, MiniScreen];\n  this.plugins = [Stats, XGLogger].concat(_toConsumableArray(contolsIcons), layers, [GapJump, WaitingTimeoutJump]);\n  var mode = simulateMode ? \"mobile\" : sniffer.device;\n  switch (mode) {\n    case \"pc\":\n      (_this$plugins = this.plugins).push.apply(_this$plugins, [Keyboard, PCPlugin, CssFullScreen, TestSpeed, FpsDetect]);\n      break;\n    case \"mobile\":\n      (_this$plugins2 = this.plugins).push.apply(_this$plugins2, [MobilePlugin]);\n      break;\n    default:\n      (_this$plugins3 = this.plugins).push.apply(_this$plugins3, [Keyboard, PCPlugin, CssFullScreen]);\n  }\n  if (sniffer.os.isIpad || mode === \"pc\") {\n    this.plugins.push(DynamicBg);\n  }\n  if (sniffer.os.isIpad) {\n    this.plugins.push(PCPlugin);\n  }\n  this.ignores = [];\n  this.i18n = [];\n});\nexport { DefaultPreset as default };\n","var ZH = {\n  LANG: \"zh-cn\",\n  TEXT: {\n    ERROR_TYPES: {\n      network: {\n        code: 1,\n        msg: \"\\u89C6\\u9891\\u4E0B\\u8F7D\\u9519\\u8BEF\"\n      },\n      mse: {\n        code: 2,\n        msg: \"\\u6D41\\u8FFD\\u52A0\\u9519\\u8BEF\"\n      },\n      parse: {\n        code: 3,\n        msg: \"\\u89E3\\u6790\\u9519\\u8BEF\"\n      },\n      format: {\n        code: 4,\n        msg: \"\\u683C\\u5F0F\\u9519\\u8BEF\"\n      },\n      decoder: {\n        code: 5,\n        msg: \"\\u89E3\\u7801\\u9519\\u8BEF\"\n      },\n      runtime: {\n        code: 6,\n        msg: \"\\u8BED\\u6CD5\\u9519\\u8BEF\"\n      },\n      timeout: {\n        code: 7,\n        msg: \"\\u64AD\\u653E\\u8D85\\u65F6\"\n      },\n      other: {\n        code: 8,\n        msg: \"\\u5176\\u4ED6\\u9519\\u8BEF\"\n      }\n    },\n    HAVE_NOTHING: \"\\u6CA1\\u6709\\u5173\\u4E8E\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u5426\\u5C31\\u7EEA\\u7684\\u4FE1\\u606F\",\n    HAVE_METADATA: \"\\u97F3\\u9891/\\u89C6\\u9891\\u7684\\u5143\\u6570\\u636E\\u5DF2\\u5C31\\u7EEA\",\n    HAVE_CURRENT_DATA: \"\\u5173\\u4E8E\\u5F53\\u524D\\u64AD\\u653E\\u4F4D\\u7F6E\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u4F46\\u6CA1\\u6709\\u8DB3\\u591F\\u7684\\u6570\\u636E\\u6765\\u64AD\\u653E\\u4E0B\\u4E00\\u5E27/\\u6BEB\\u79D2\",\n    HAVE_FUTURE_DATA: \"\\u5F53\\u524D\\u53CA\\u81F3\\u5C11\\u4E0B\\u4E00\\u5E27\\u7684\\u6570\\u636E\\u662F\\u53EF\\u7528\\u7684\",\n    HAVE_ENOUGH_DATA: \"\\u53EF\\u7528\\u6570\\u636E\\u8DB3\\u4EE5\\u5F00\\u59CB\\u64AD\\u653E\",\n    NETWORK_EMPTY: \"\\u97F3\\u9891/\\u89C6\\u9891\\u5C1A\\u672A\\u521D\\u59CB\\u5316\",\n    NETWORK_IDLE: \"\\u97F3\\u9891/\\u89C6\\u9891\\u662F\\u6D3B\\u52A8\\u7684\\u4E14\\u5DF2\\u9009\\u53D6\\u8D44\\u6E90\\uFF0C\\u4F46\\u5E76\\u672A\\u4F7F\\u7528\\u7F51\\u7EDC\",\n    NETWORK_LOADING: \"\\u6D4F\\u89C8\\u5668\\u6B63\\u5728\\u4E0B\\u8F7D\\u6570\\u636E\",\n    NETWORK_NO_SOURCE: \"\\u672A\\u627E\\u5230\\u97F3\\u9891/\\u89C6\\u9891\\u6765\\u6E90\",\n    MEDIA_ERR_ABORTED: \"\\u53D6\\u56DE\\u8FC7\\u7A0B\\u88AB\\u7528\\u6237\\u4E2D\\u6B62\",\n    MEDIA_ERR_NETWORK: \"\\u7F51\\u7EDC\\u9519\\u8BEF\",\n    MEDIA_ERR_DECODE: \"\\u89E3\\u7801\\u9519\\u8BEF\",\n    MEDIA_ERR_SRC_NOT_SUPPORTED: \"\\u4E0D\\u652F\\u6301\\u7684\\u97F3\\u9891/\\u89C6\\u9891\\u683C\\u5F0F\",\n    REPLAY: \"\\u91CD\\u64AD\",\n    ERROR: \"\\u7F51\\u7EDC\\u8FDE\\u63A5\\u4F3C\\u4E4E\\u51FA\\u73B0\\u4E86\\u95EE\\u9898\",\n    PLAY_TIPS: \"\\u64AD\\u653E\",\n    PAUSE_TIPS: \"\\u6682\\u505C\",\n    PLAYNEXT_TIPS: \"\\u4E0B\\u4E00\\u96C6\",\n    DOWNLOAD_TIPS: \"\\u4E0B\\u8F7D\",\n    ROTATE_TIPS: \"\\u65CB\\u8F6C\",\n    RELOAD_TIPS: \"\\u91CD\\u65B0\\u8F7D\\u5165\",\n    FULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u5168\\u5C4F\",\n    EXITFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u5168\\u5C4F\",\n    CSSFULLSCREEN_TIPS: \"\\u8FDB\\u5165\\u6837\\u5F0F\\u5168\\u5C4F\",\n    EXITCSSFULLSCREEN_TIPS: \"\\u9000\\u51FA\\u6837\\u5F0F\\u5168\\u5C4F\",\n    TEXTTRACK: \"\\u5B57\\u5E55\",\n    PIP: \"\\u753B\\u4E2D\\u753B\",\n    SCREENSHOT: \"\\u622A\\u56FE\",\n    LIVE: \"\\u6B63\\u5728\\u76F4\\u64AD\",\n    OFF: \"\\u5173\\u95ED\",\n    OPEN: \"\\u5F00\\u542F\",\n    MINI_DRAG: \"\\u70B9\\u51FB\\u6309\\u4F4F\\u53EF\\u62D6\\u52A8\\u89C6\\u9891\",\n    MINISCREEN: \"\\u5C0F\\u5C4F\\u5E55\",\n    REFRESH_TIPS: \"\\u8BF7\\u8BD5\\u8BD5\",\n    REFRESH: \"\\u5237\\u65B0\",\n    FORWARD: \"\\u5FEB\\u8FDB\\u4E2D\",\n    LIVE_TIP: \"\\u76F4\\u64AD\"\n  }\n};\nexport { ZH as default };\n","import { defineProperty as _defineProperty, inherits as _inherits, createSuper as _createSuper, createClass as _createClass, classCallCheck as _classCallCheck } from \"./_virtual/_rollupPluginBabelHelpers.js\";\nimport Player from \"./player.js\";\nimport Plugin from \"./plugin/plugin.js\";\nimport BasePlugin from \"./plugin/basePlugin.js\";\nimport * as events from \"./events.js\";\nimport STATE_CLASS from \"./stateClassMap.js\";\nimport I18N from \"./lang/i18n.js\";\nimport Errors from \"./error.js\";\nimport sniffer from \"./utils/sniffer.js\";\nimport util from \"./utils/util.js\";\nimport { InstManager } from \"./instManager.js\";\nimport DefaultPreset from \"./presets/default.js\";\nvar PresetPlayer = /* @__PURE__ */ function(_Player) {\n  _inherits(PresetPlayer2, _Player);\n  var _super = _createSuper(PresetPlayer2);\n  function PresetPlayer2() {\n    _classCallCheck(this, PresetPlayer2);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(PresetPlayer2);\n}(Player);\n_defineProperty(PresetPlayer, \"defaultPreset\", DefaultPreset);\n_defineProperty(PresetPlayer, \"Util\", util);\n_defineProperty(PresetPlayer, \"Sniffer\", sniffer);\n_defineProperty(PresetPlayer, \"Errors\", Errors);\n_defineProperty(PresetPlayer, \"Events\", events);\n_defineProperty(PresetPlayer, \"Plugin\", Plugin);\n_defineProperty(PresetPlayer, \"BasePlugin\", BasePlugin);\n_defineProperty(PresetPlayer, \"I18N\", I18N);\n_defineProperty(PresetPlayer, \"STATE_CLASS\", STATE_CLASS);\n_defineProperty(PresetPlayer, \"InstManager\", InstManager);\nexport { PresetPlayer as default };\n","import React, { useEffect, useRef } from 'react';\nimport Player from 'xgplayer'; // 确保正确导入XGPlayer库\nimport 'xgplayer/dist/index.min.css'; // 引入XGPlayer的样式文件\nimport { useLocation } from 'react-router-dom';\n\nconst XGPlayerComponent = ({ src }) => {\n  const playerRef = useRef(null); // 创建一个ref来引用DOM元素\n  const location = useLocation();\n  console.log(location);\n  const { id, url } = location.state || {};\n  console.log(id, url);\n  useEffect(() => {\n    if (playerRef.current) {\n      const height = '40vh';\n      // 初始化XGPlayer实例，使用ref.current来引用DOM元素\n      const player = new Player({\n        el: playerRef.current, // 绑定到指定的DOM元素\n        url: url, // 视频链接\n        width: '100%', // 播放器宽度\n        height: `calc(100vh - ${height})`, // 播放器高度\n        playbackRate: [0.5, 0.75, 1, 1.5, 2], // 播放速率选项\n        defaultPlaybackRate: 1, // 默认播放速率\n        playsinline: true, // 在iPhone Safari中直接播放，不全屏\n      });\n\n      // 清理函数，用于销毁播放器实例\n      return () => {\n        player.destroy();\n      };\n    }\n  }, [src]); // 监听src的变化\n\n  // 渲染一个div元素，并将ref绑定到它上面\n  return (\n    <div\n      ref={playerRef}\n      id='xgplayer'\n      style={{ width: '100%', height: '100%' }}\n    ></div>\n  );\n};\n\nexport default XGPlayerComponent;\n","var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n"],"names":["ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","obj2","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","value","_inherits","subClass","superClass","create","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","bind","o2","__proto__","p","p2","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","call","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","NewTarget","this","_get","get","property","receiver","base","hasOwnProperty","_superPropBase","desc","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","minLen","n","toString","slice","name","test","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","arg","input","hint","prim","toPrimitive","res","String","Number","_toPrimitive","XG_DEBUG_OPEN","window","location","href","indexOf","STYLE","info","error","warn","XGTAG","XG_DEBUG","config","debug","logInfo","message","_console","_len","optionalParams","_key","console","log","concat","logWarn","_console2","_len2","_key2","logError","_console3","_fun","_len3","_key3","XgplayerTimeRange","XgplayerTimeRange2","bufferedList","index","start","end","util","isObject","type","debounce","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","useRAF","requestAnimationFrame","invokeFunc","time","args","thisArg","startTimer","pendingFunc","wait2","cancelAnimationFrame","setTimeout","shouldInvoke","timeSinceLastCall","timerExpired","Date","now","trailingEdge","timeSinceLastInvoke","timeWaiting","Math","min","remainingWait","debounced","isInvoking","leadingEdge","max","cancel","id","clearTimeout","cancelTimer","flush","pending","createDom","el","tpl","attrs","cname","dom","document","createElement","className","innerHTML","item","setAttribute","createDomFromHtml","html","classname","doc","children","addClass","err","hasClass","some","classList","orgClassName","getAttribute","match","RegExp","replace","split","add","removeClass","remove","reg","toggleClass","classNames","_arguments","_loop","i2","typeOf","map","join","findDom","sel","querySelector","getElementById","getCss","currentStyle","defaultView","getComputedStyle","padStart","str","pad","charstr","maxlen","ceil","chars","r","substring","format","isNaN","round","hour","floor","minute","second","event","touches","touch","changedTouches","clientX","clientY","offsetX","pageX","offsetLeft","offsetY","pageY","offsetTop","_target","srcElement","deepCopy","dst","src","Node","deepMerge","_dst$key","getBgImage","url","backgroundImage","a","copyDom","nodeType","back","tagName","attributes","node","setInterval","context","eventName","intervalFunc","frequency","_interval","clearInterval","fun","_timers","splice","clearAllTimers","_timerIds","createImgBtn","imgUrl","width","height","w","h","unit","btn","style","every","parseFloat","trim","backgroundSize","margin","Hex2RGBA","hex","alpha","rgb","sixHex","kw","parseInt","getFullScreenEl","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","checkIsFunction","checkIsObject","hide","display","show","isUndefined","val","isNotNull","setStyleFromCsstext","text","filterStyleFromText","list","_cssText","cssText","styleArr","ret","remain","checkIsIn","getStyleFromCsstext","preloadImg","onload","onerror","img","Image","stopPropagation","scrollTop","pageYOffset","documentElement","body","scrollLeft","pageXOffset","checkTouchSupport","getBuffered2","vbuffered","maxHoleDuration","buffered","sort","b","diff","buffered2","_i","buf2len","buf2end","getEventPos","zoom","x","y","callback","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","getHostFromUrl","results","domain","frameId","mozCancelAnimationFrame","cancelRequestAnimationFrame","isMSE","video","media","HTMLMediaElement","currentSrc","isBlob","generateSessionId","did","d","getTime","performance","c","random","createEvent","Event","initEvent","adjustTimeByDuration","duration","isEnded","createPositionBar","root","appendChild","getTransformStyle","pos","scale","rotate","transformValue","styles","translate","fn","lastIndex","convertDeg","abs","getIndexByTime","segments","_index","getOffsetCurrentTime","currentTime","_segments$_index","cTime","offset","getCurrentTimeByOffset","offsetTime","VERSION_REG","H264_MIMETYPES","sniffer","device","os","isPc","browser","navigator","ua","userAgent","toLowerCase","ie","firefox","chrome","opera","safari","isWindowsPhone","isSymbian","isAndroid","isFireFox","isIpad","platform","maxTouchPoints","isTablet","isPhone","isIos","osVersion","_match","exec","version","isWeixin","toLocaleLowerCase","isSupportMP4","isSupport","mime","supportResult","canPlayType","isMSESupport","MediaSource","isTypeSupported","_logger","isHevcSupported","probeConfigSupported","defaults","supported","smooth","powerEfficient","Promise","resolve","mediaCapabilities","decodingInfo","videoConfig","audioConfig","audio","videoSupported","contentType","audioSupported","ERROR_TYPE_MAP","ERROR_MAP","Errors","Errors2","player","errorInfo","errorType","errorCode","errorMessage","originError","ext","mediaError","ERROR_TYPES","i18n","ended","_player$media","readyState","networkState","_errc","code","playerVersion","stack","host","_r","ex","msg","PLAY","PLAYING","ENDED","PAUSE","ERROR","SEEKING","SEEKED","TIME_UPDATE","WAITING","CANPLAY","CANPLAY_THROUGH","DURATION_CHANGE","VOLUME_CHANGE","LOADED_DATA","LOADED_METADATA","RATE_CHANGE","PROGRESS","LOAD_START","EMPTIED","STALLED","SUSPEND","ABORT","BUFFER_CHANGE","PLAYER_FOCUS","PLAYER_BLUR","READY","URL_NULL","AUTOPLAY_STARTED","AUTOPLAY_PREVENTED","COMPLETE","REPLAY","DESTROY","URL_CHANGE","DOWNLOAD_SPEED_CHANGE","LEAVE_PLAYER","ENTER_PLAYER","LOADING","FULLSCREEN_CHANGE","CSS_FULLSCREEN_CHANGE","MINI_STATE_CHANGE","DEFINITION_CHANGE","BEFORE_DEFINITION_CHANGE","AFTER_DEFINITION_CHANGE","SEI_PARSED","RETRY","VIDEO_RESIZE","PIP_CHANGE","ROTATE","SCREEN_SHOT","PLAYNEXT","SHORTCUT","XGLOG","USER_ACTION","RESET","SOURCE_ERROR","SOURCE_SUCCESS","SWITCH_SUBTITLE","VIDEO_EVENTS","STATS_EVENTS","STATS_INFO","STATS_DOWNLOAD","STATS_RESET","FPS_STUCK","emitVideoEvent","eventKey","emit","errorHandler","MediaProxy","_EventEmitter","MediaProxy2","_super","_this","_hasStart","_currentTime","_duration","_internalOp","_lastMuted","vtype","_rate","mediaConfig","assign","controls","autoplay","playsinline","x5VideoPlayerFullscreen","x5VideoOrientation","airplay","tabindex","mediaType","videoAttributes","playerType","x5VideoPlayerType","loop","autoplayMuted","muted","defaultPlaybackRate","playbackRate","volume","mediaEventMiddleware","attachVideoEvents","middlewares","_this2","_this3","_this4","_evHandlers","funName","charAt","toUpperCase","on","_err","eData","originalEvent","detail","timeStamp","paused","isInternalOp","removeInnerOP","isMutedChange","getVideoEventHandler","addEventListener","_this5","removeEventListener","off","urls","_this6","removeAttribute","load","_c","_videoSourceCount","_videoSourceIndex","_vLoadeddata","_eHandler","_sourceError","_dIndex","removeChild","_e","k","pause","detachVideoEvents","removeAllListeners","set","play","range","isTrue","_buffered","crossOrigin","defaultMuted","rate","Infinity","played","preload","seekable","seeking","onWaiting","_detachSourceEvents","_attachSourceEvents","vol","videoWidth","videoHeight","data","_get2","_get3","_get4","_get5","_len4","_key4","EventEmitter","INDEXDB","INDEXDB2","mydb","db","ojstore","keypath","indexedDB","webkitindexedDB","IDBKeyRange","webkitIDBKeyRange","myDB","request","open","onsuccess","onupgradeneeded","transaction","objectStoreNames","contains","createObjectStore","keyPath","deleteDatabase","close","storename","store","objectStore","put","delete","clear","FULLSCREEN_EVENTS","GET_FULLSCREEN_API","EXIT_FULLSCREEN_API","PLATER_ID","callHandler","handler","next","then","args2","hook","hookName","preset","pre","__hooks","_preset$pre","pluginName","_this$__hooks$hookNam","preRet","isContinue","catch","useHooks","removeHooks","usePluginHooks","plugins","plugin","removePluginHooks","hooksDescriptor","presetHooks","delHooksDescriptor","runHooks","_len5","_key5","_obj$__hooks$hookName","showErrorMsg","BasePlugin","BasePlugin2","beforeCreate","__args","__events","__onceEvents","playerConfig","__init","logger","lang","i18nKeys","domEventType","once","_this$player","action","params","nParams","emitUserAction","registerPlugin","getPlugin","offAll","destroy","unRegisterPlugin","Obj","ROOT_TYPES","CONTROLS","ROOT","POSITIONS","ROOT_LEFT","ROOT_RIGHT","ROOT_TOP","CONTROLS_LEFT","CONTROLS_RIGTH","CONTROLS_RIGHT","CONTROLS_CENTER","PLUGIN_STATE_CLASS","isUrl","createIcon","icon","attr","newIcon","Element","key2","tag","registerIconsObj","iconsConfig","_icons","icons","orgIcon","class","mergeIconClass","mergeIconAttr","Plugin","_BasePlugin","Plugin2","__delegates","_parent","_el","parent","registerIcons","langText","textConfig","defaultTexConfig","registerLanguageTexts","renderStr","render","Error","insert","setAttr","setStyle","__registerChildren","_children","_Plugin","_plugin","checkChildren","langKey","langTextShow","disable","find","qs","eventType","bindEL","delegate","unbindEL","htmlStr","eventHandle","isBubble","getPropertyValue","pdom","child","_this7","parentNode","insertIdx","isDomElement","coordinate","mode","curIdx","insertBefore","insertAdjacentHTML","capture","dels","ret2","_delegate","ResizeObserver","ResizeObserver2","entries","t","__runHandler","__handlers","observer","throttle","__trigger","observe","_pid","playerId","unobserve","disconnect","resizeObserver","pluginsManager","pluginGroup","init","cgid","_pluginInfoId","closeResizeObserver","resize","addObserver","_originalOptions","_plugins","formatPluginInfo","PLUFGIN","checkPluginIfExits","getRootByConfig","_pConfig","position","lazyRegister","lazyPlugin","timeout","race","loader","__esModule","default","register","reject","originalOptions","isSupported","codecType","defaultConfig","unRegister","_instance","afterCreate","__destroy","deletePlugin","getPlugins","findPlugin","cName","beforeInit","retPromise","_loadingPlugins","all","pluginsRet","pName","beforePlayerInit","afterInit","afterPlayerInit","setLang","updateLang","reRender","_pList","onPluginsReady","unObserver","_Object$keys","STATE_CLASS","DEFAULT","DEFAULT_SKIN","ENTER","PAUSED","NO_START","ACTIVE","INACTIVE","FULLSCREEN","CSS_FULLSCREEN","ROTATE_FULLSCREEN","PARENT_ROTATE_FULLSCREEN","PARENT_FULLSCREEN","INNER_FULLSCREEN","NO_CONTROLS","FLEX_CONTROLS","CONTROLS_FOLLOW","CONTROLS_AUTOHIDE","TOP_BAR_AUTOHIDE","NOT_ALLOW_AUTOPLAY","PC","MOBILE","MINI","getDefaultConfig","nullUrlStart","fluid","fitVideoSize","videoFillMode","isLive","videoInit","poster","isMobileSimulateMode","execBeforePluginsCall","allowSeekAfterEnded","enableContextmenu","closeVideoClick","closeVideoDblclick","closePlayerBlur","closeDelayBlur","leavePlayerTime","closePlayVideoFocus","closePauseVideoFocus","closeFocusVideoFocus","closeControlsBlur","topBarAutoHide","startTime","seekedStatus","miniprogress","disableSwipeHandler","enableSwipeHandler","preProcessUrl","ignores","whitelist","inactive","language","marginControls","fullscreenTarget","screenShot","pip","download","mini","cssFullscreen","keyShortcut","presets","definition","customDuration","timeOffset","thumbnail","isHideTips","minWaitDelay","commonStyle","progressColor","playedColor","cachedColor","sliderBtnStyle","volumeColor","Controls","Controls2","_assertThisInitialize","focus","autoHide","_this$config","left","center","right","innerRoot","isMini","onMouseEnter","onMouseLeave","blur","ignorePaused","unbind","_this$config2","initShow","XGI18nLang","langKeys","textKeys","_s","_t","updateKeys","en","use","langData","i18nLangs","_clang","LANG","texts","TEXT","network","mse","parse","decoder","runtime","other","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","PLAY_TIPS","PAUSE_TIPS","PLAYNEXT_TIPS","DOWNLOAD_TIPS","ROTATE_TIPS","RELOAD_TIPS","FULLSCREEN_TIPS","EXITFULLSCREEN_TIPS","CSSFULLSCREEN_TIPS","EXITCSSFULLSCREEN_TIPS","TEXTTRACK","PIP","SCREENSHOT","LIVE","OFF","OPEN","MINI_DRAG","MINISCREEN","REFRESH_TIPS","REFRESH","FORWARD","LIVE_TIP","I18N","zh","extend","i18nTextList","lang2","_ret$langKeys","pId","STATES","STATE_ARRAY","InstManager","InstManager2","setActive","isUserActive","endEarly","_iterate","flag","isActive","inst","isInstNext","isNext","PlAYER_HOOKS","REAL_TIME_SPEED","AVG_SPEED","instManager","Player","_MediaProxy","Player2","_config","__startTime","_useAutoplay","mediaPlay","canPlayFunc","isFullScreen","delayResize","fullEl","_fullActionFrom","prop","to","isVideo","element","pid","checkIsCurrentVideo","_fullscreenEl","fullscreen","changeFullStyle","_fullScreenOffset","cssfullscreen","exitCssFullscreen","needFullscreenScroll","scrollTo","top","recoverFullStyle","onFullscreenChange","defaultPreset","defaultIdx","userTimer","waitTimer","handleSource","_state","isError","isSeeking","isCanplay","rotateDeg","isRotateFullscreen","timeSegments","_cssfullscreenEl","curDefinition","_orgCss","_videoHeight","_videoWidth","videoPos","pi","vy","vx","sizeInfo","_accPlayed","acc","loopAcc","_offsetInfo","innerContainer","topBar","__i18n","database","_onceSeekCanplay","_isPauseBeforeSeek","innerStates","isActiveLocked","_initDOM","_this$config2$definit","defaultDefinitionObj","defaultDefinition","_bindEvents","_registerPresets","_registerPlugins","getInitDefinition","setState","onReady","hasStart","state","_instManager","vid","line","handle","checkPlayerRoot","_initBaseDoms","XgVideoProxy","_nVideo","_root","_this$config3","_width","_height","_this$root$getBoundin","getBoundingClientRect","leftBar","rightBar","_onWebkitbeginfullscreen","_onWebkitendfullscreen","playFunc","mousemoveFunc","firstChild","isInit","ignoresStr","cuPlugins","lazy","loadingPlugin","forceBeforeInit","Preset","_player$config$plugin","_player$config$ignore","_presetInst","_presetInst$plugins","_presetInst$ignores","_presetInst$icons","_presetInst$i18n","_ci18n","usePreset","_retPlugin","_getRootByPosition","removedFromConfig","deregister","removePluginFromConfig","_this8","_furl","_preProcessUrl","_startInit","fileName","lineNumber","_this9","_src","curTime","isPaused","_error","_canplay","_this10","playPromise","onError","_errorTimer","_this11","_this12","status","_this13","_this$config4","isSeekedPlay","_status","_this14","_this$config5","_this15","bitrate","switchURL","seamless","reloadFunc","_this16","clsList","mediaPause","cls","_this17","unregisterPlugins","isResetConfig","resetState","pn","de","_instManager2","_this18","updateAcc","_unbindEvents","exitFullscreen","cList","_this19","onPlay","_this20","cur","_srcRet","rootClass","pClassName","_orgPCss","webkitRequestFullscreen","ALLOW_KEYBOARD_INPUT","fullscreenEnabled","webkitSupportsFullscreen","webkitEnterFullscreen","exitRotateFullscreen","webkitExitFullScreen","_class","_this$config$fullscre","useCssFullscreen","_this$config$fullscre2","setRotateDeg","_rootStyle","innerHeight","deg","orientation","delay","onFocus","_clearUserTimer","onBlur","_this21","isLock","_ref$ignorePaused","_this22","_this23","endType","_at","_ref2","startDiff","endDiff","_ref2$startDiff","_ref2$endDiff","_this$videoPos","_pi","_pos","offsetWidth","offsetHeight","rHeight","rWidth","formStyle","transform","webkitTransform","resizePosition","_this24","setConfig","_this25","_this26","containerSize","_this$media","_this$config6","controlsHeight","videoFit","fit","_style","paddingTop","videoScale","vWidth","vHeight","cWidth","cHeight","updateObjectPosition","objectPosition","newState","bool","_this27","curDef","targetDef","_this27$curDefinition","changeDefinition","total","dropped","corrupted","droppedRate","droppedDuration","getVideoPlaybackQuality","_quality","droppedVideoFrames","totalVideoFrames","corruptedVideoFrames","cumulateTime","_l","__url","posterUrl","update","_this$_accPlayed","isMuted","_instManager3","addInnerOP","_instManager4","getActiveId","_instManager5","getInstance","LOG_TYPES","XGLogger","XGLogger2","isTimeUpdate","autoplayStart","_sendFF","vt","isFFLoading","isFFSend","isLs","pt","fvt","newPointTime","loadedCostTime","startCostTime","_isSeeking","seekingStart","waitingStart","fixedWaitingStart","_isWaiting","_waitTimer","_waittTimer","_waitType","suspendWaitingStatus","emitLog","suspendSeekingStatus","fixedStart","_startWaitTimeout","_onReset","_initOnceEvents","_onWaitingLoadStart","_this2$_state","_onSeeking","_onSeeked","endState","_onPlaying","_onWaiting","_onError","_onAutoplayStart","_onTimeupdate","s","_this$_state","costTime","waitTimeout","_now","_cost","_fixedCost","fixedCostTime","ReplaySvg","DOMParser","parseFromString","Replay","Replay2","replay","__handleReplay","preventDefault","path","Poster","Poster2","isEndedShow","hideCanplay","onTimeUpdate","_bg","fillMode","notHidden","getBgSize","PlaySvg","PauseSvg","AnimateMap","clearAnimation","Start","Start2","autoPlayStart","onPlayPause","initIcons","onAutoplayStart","onPlayerReset","clickHandler","switchPausePlay","cancelable","startPlay","startPause","isAnimate","endShow","_animateId","seconds","addAnimate","switchStatus","isShowPause","isShowEnd","endAnimate","disableAnimate","animate","Enter","Enter2","innerHtml","HTMLElement","barStr","logo","xgIconTips","textKey","isShow","MiniScreenIcon","MiniScreenIcon2","getMini","exitMini","onClick","getStyleSize","num","measurements","measurementsLength","getSize","elem","getStyle","size","innerWidth","outerWidth","outerHeight","getZeroSize","isBorderBox","boxSizing","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderWidth","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","getTouch","dentifier","identifier","EVENTS","POST_START_EVENTS","mousedown","touchstart","pointerdown","Draggabilly","Draggabilly2","isEnabled","isDragging","isDown","downPoint","dragPoint","startPos","_handlerDom","_bindStartEvent","_startKey","events","_boundPointerEvents","onUp","positionDrag","webKitTransform","dragStart","dragMove","dragEnd","touchIdentifier","pointerId","dragCancel","pointer","_getPosition","maxY","maxX","setLeftTop","_bindPostStartEvents","_unbindPostStartEvents","presetInfo","moveVector","hasDragStarted","dragRealStart","_this$startPos","_dragPointerMove","dragX","dragY","checkContain","_unbindStartEvent","axis","drag","grid","_getPositionCoord","_addTransformPosition","matrixValues","xIndex","translateX","translateY","styleSide","measure","parentSize","MiniScreen","MiniScreen2","isClose","scrollY","scrollHeight","lastStyle","isShowIcon","onCancelClick","onCenterClick","disableDrag","_draggabilly","isScrollSwitch","onScroll","MOUSE_EVENTS","mouseenter","mouseleave","mousemove","HOOKS","PCPlugin","PCPlugin2","_assertThisInitialize2","_this$playerConfig","_assertThisInitialize3","__canvas","closeVideoStopPropagation","_clickCount","clickTimer","switchPlayPause","_assertThisInitialize4","getFullscreen","initEvents","onVideoClick","onVideoDblClick","onContextmenu","returnValue","cancelBubble","_this$player2","TOUCHS","move","MOUSES","Touche","Touche2","__setPress","onTouchEnd","onTouchCancel","onTouchMove","trigger","__clearPress","moving","press","__setDb","diffx","diffy","miniStep","pressDelay","dbClickDelay","disablePress","disableDbClick","needPreventDefault","pressIntrvalId","dbIntrvalId","_initEvent","onTouchStart","__clearDb","handlers","touchend","touchmove","SeekTipIcon","ACTIONS","MobilePlugin","MobilePlugin2","touche","getTouche","disableGesture","isStart","timer","rect","_x","_y","scopeL","scopeR","scopeM1","scopeM","scopeM2","miniMoveStep","hideControlsActive","scope","checkScope","gestureY","gestureX","executeMove","resetSeekState","endLastMove","resetPos","changeAction","checkIsRootTarget","light","seekTipIcon","closedbClick","xgMask","initCustomStyle","registerThumbnail","onRootTouchMove","onRootTouchEnd","player2","config2","moveDuration","_this2$pos","eventsMap","pressend","click","doubleclick","disableActive","progressPlugin","progress","addCallBack","activeSeekNote","forward","usable","createThumbnail","timePreview","timePreviewStyle","curTimeColor","durationColor","backgroundColor","previewDom","curColor","durColor","color","disableTimeProgress","startPlugin","recover","mold","updateTime","updateBrightness","updateVolume","lastScope","seek","toFixed","hideControlsEnd","sendUseAction","focusVideoClick","dbClickHandler","pressRate","percent","updatePercent","isTouchingSeek","maxDarkness","isForward","focusHide","updateThumbnails","gradient","disableSeekIcon","miniYPer","darkness","isDisableTag","isContentEditable","Keyboard","Keyboard2","keyCode","_keyState","disableBodyTrigger","isIgnoreUserActive","checkIsVisible","metaKey","altKey","ctrlKey","isBodyKeyDown","repeat","isKeyDown","isGlobalTrigger","checkCode","onBodyKeyUp","handleKeyDown","handleKeyUp","disableRootTrigger","onKeyup","extendkeyCodeMap","keyCodeMap","key1","seekStep","space","noBodyTarget","up","down","pressAction","esc","mergekeyCodeMap","isPress","tt","onKeydown","onBodyKeyDown","newConfig","checkVisible","rec","bottom","isBodyTarget","offsetCurrentTime","offsetDuration","_time","_step","_seekTime","handleKeyCode","curKeyCode","_this$keyCodeMap$arr$","_action","loadingIcon","Loading","Loading2","TPL","styleKey","InnerList","InnerList2","fragments","_callBack","actionCallback","fragConfig","fragFocusClass","fragAutoFocus","fragClass","cachedIndex","playedIndex","focusIndex","newIndex","curIndex","millisecond","progressList","curPFrag","per","newPIndex","findIndex","unHightLight","setHightLight","_data2","preIndex","fragment","_data","cached","updateDuration","updateProgress","newCIndex","newOptions","_this$fragConfig","inner","isFocus","item2","FRAGMENT_FOCUS_CLASS","POINT","HIGHLIGHT","Progress","Progress2","_ePos","computeTime","triggerCallbacks","_updateInnerFocus","isLocked","updateWidth","seekTime","isPauseMoving","closeMoveSeek","isPlaying","onMoveStart","prePlayTime","isProgressMoving","progressBtn","_mouseDownHandlerHook","onMouseMove","onMouseUp","onMoveOnly","_assertThisInitialize5","onMoveEnd","_mouseUpHandlerHook","isEnter","_assertThisInitialize6","miniStartStep","_mouseMoveHandlerHook","_assertThisInitialize7","unlock","_this$pos","useable","__dragCallBacks","direc","_disableBlur","innerList","reset","outer","updateFocus","_initInner","isDragingSeek","isMobile","onTimeupdate","onCacheUpdate","onReset","onVideoResize","bindDomEvents","frags","boxShadow","_mouseDownHandler","_mouseUpHandler","_mouseMoveHandler","onMouseDown","onMouseOver","onMouseOut","onBodyClick","pauseAutoHide","recoverAutoHide","isCloseClickSeek","realTime","endedDiff","rLeft","timeIcon","resetActive","notSeek","_end","bufferedPoint","thumbnailPlugin","controlsMode","Icon","Icon2","_onMouseenter","_onMouseLeave","Play","_IconPlugin","Play2","btnClick","tipDom","changeLangTextKey","BackSVG","TopBackIcon","TopBackIcon2","screenBack","FullScreenSvg","ExitFullScreenSvg","Fullscreen","Fullscreen2","rotateFullscreen","handleFullscreen","toggleFullScreen","tipsDom","needBackIcon","topBackIcon","_onOrientationChange","getCssFullscreen","getRotateFullscreen","switchCallback","useScreenOrientation","unlockScreen","e2","aspectRatio","lockScreen","lockOrientationType","screen","lock","Time","Time2","isActiving","constrolsMode","createCenterTime","durationDom","timeDom","centerCurDom","centerDurDom","current","minWidthTime","timeStr","updateState","TimeSegmentsControls","TimeSegmentsControls2","updateSegments","_checkIfEnabled","changeIndex","curPos","lastCurrentTime","_this$curPos","_this$player3","getSeekTime","_this$player4","_onDurationChange","_onLoadedData","_onPlay","_segs","formatTimeSegments","_item","_segDuration","segDuration","last","_timeSegments$index","diff2","volumeLargeSvg","volumeSmallSvg","volumeMutedSvg","Volume","Volume2","bar","barRect","barH","updateVolumePos","onBarMouseUp","_d","isMoving","unFocus","showValueLabel","updateVolumeValue","volumeSmall","volumeLarge","volumeMuted","_timerId","changeMutedHandler","changeMuted","_onMouseenterHandler","onMouseenter","_onMouseleaveHandler","onMouseleave","onBarMousedown","onBarMouseMove","onVolumeChange","$labelValue","innerText","isForce","miniVolume","isShowVolumeValue","RotateSvg","Rotate","Rotate2","onBtnClick","innerRotate","updateRotateDeg","rootWidth","clientWidth","rootHeight","clientHeight","clockwise","videoRotateDeg","_transform","_styles","transformOrigin","times","factor","PipIcon","PipIconExit","PresentationMode","PIP2","isPIPAvailable","isPip","exitPIP","requestPIP","showIcon","pMode","initPipEvents","switchPIP","pipIcon","pipIconExit","leavePIPCallback","pipWindow","enterPIPCallback","pictureInPictureWindow","onWebkitpresentationmodechanged","webkitPresentationMode","checkWebkitSetPresentationMode","pipWin","textContent","styleSheets","style2","cssRules","rule","link","rel","head","preferDocument","isDocPIPAvailable","pipOptions","playerRect","documentPictureInPicture","requestWindow","docPiPNode","docPiPStyle","pipRoot","parentElement","previousSibling","nextSibling","copyStyleIntoPiPWindow","append","cssContent","webkitSetPresentationMode","requestPictureInPicture","reason","_documentPictureInPic","exitPictureInPicture","_documentPictureInPic2","pictureInPictureElement","pictureInPictureEnabled","disablePictureInPicture","webkitSupportsPresentationMode","protocol","Next","PlayNextIcon","PlayNextIcon2","idx","urlList","nextHandler","playNext","changeSrc","DownloadSvg","Download","Download2","dUrl","newUrl","getAbsoluteURL","downloadUtil","_handler","div","ScreenShot","ScreenShot2","screenshotIcon","initSize","fitVideo","onClickBtn","filename","saveLink","initMouseEvent","dispatchEvent","canvas","canvasCtx","getContext","imageSmoothingEnabled","imageSmoothingQuality","shot","saveImg","saveScreenShot","option","quality","createCanvas","dx","dy","dw","dh","mediaRatio","canvasRatio","sw","sh","drawImage","toDataURL","OptionList","OptionList2","maxHeight","onItemClick","renderItemList","_delegates","attrKeys","selected","showText","delegateTarget","changeCallback","curSelected","getAttrObj","LIST_TYPES","TOGGLE_MODES","IS_MOBILE","OptionsIcon","OptionsIcon2","switchActiveState","toggleMode","toggle","listType","enterType","isIcons","curValue","hidePortrait","_resizeList","optionsList","activeEvent","onEnter","onLeave","onIconClick","_isIcons","focusAwhile","curItem","changeCurrentText","isItemClickHide","getTextByLang","itemList","_maxH","heightLimit","listStyle","DefinitionIcon","_OptionsIcon","DefinitionIcon2","changeDefinitionList","definitionList","items","showItem","PlaybackRate","PlaybackRate2","curRate","itemInfo","_text","CssFullSceenSvg","ExitCssFullSceenSvg","CssFullScreen","CssFullScreen2","isCssfullScreen","handleCssFullscreen","contentIcon","switchTips","ErrorPlugin","ErrorPlugin2","errorRetry","handleError","retry","errorNote","Prompt","Prompt2","intervalId","customConfig","customOnClick","showPrompt","hidePrompt","interval","highlight","hideinterval","ISPOT","mergeISPOT","iSpot","APIS","_updateDotDom","dotDom","calcuPosition","initDots","_ispots","createDot","ispotsInit","isNew","template","positionDot","findDot","updateDot","needShow","dot","showDot","deleteDot","del","deleteAllDots","dotDoms","getElementsByTagName","updateAllDots","iSpots","ispot","positionDots","playerSize","_pop","pRect","rect1","_left","_diff","_t2","getAllDotsDom","getDotDom","CALLBACK_MAP","dragmove","dragstart","dragend","mouseover","ProgressPreview","ProgressPreview2","isHideThumbnailHover","f","isDrag","_curDot","onDotMouseLeave","blurDot","enableBlur","focusDot","disableBlur","videoPreview","videothumbnail","handlerSpotClick","_event","transformTimeHook","setTimeContent","ispots","progressDot","initDotsAPI","extTextRoot","previewLine","timePoint","timeText","tipText","_hasThumnail","bindEvents","onMousemove","onMousedown","onMouseup","handlerPreviewClick","updatePosition","cwidth","isflex","lwidth","showTips","isFocusDots","defaultText","hideTips","updateTimeText","updateLinePos","thumbnailConfig","isShowThumbnail","tRoot","isShowCoverPreview","totalWidth","widthPerSeconds","_activeDotId","isDefault","removeCallBack","miniWidth","Thumbnail","Thumbnail2","ratio","_preloadMark","initThumbnail","_this2$config","pic_num","containerWidth","containerHeight","row","col","urlIndex","indexInPage","rowIndex","colIndex","swidth","sHeight","getUrlByIndex","backgroundPosition","customStyle","getPosition","getBgColor","MiniProgress","MiniProgress2","MODES","isSupportCanvas","DynamicBg","DynamicBg2","_frameCount","startFrameCount","stop","renderOnTimeupdate","visibilityState","_checkIfCanStart","renderOnce","_isLoaded","startInterval","nowTime","_sVideo","checkVideoIsSupport","videoPI","preTime","_loopType","dynamicBg","frameRate","rwidth","rheight","renderByPoster","onLoadedData","onVisibilitychange","canvasFilter","supportCanvasFilter","isInnerRender","webkitFilter","mask","addMask","background","maskBg","_p","_tVideo","HTMLVideoElement","flyVideo","_tagName","updateImg","_this$canvas$getBound","image","sourcePI","_this$canvas$getBound2","multiple","checkIsSupportCanvas","INFO","STATS_EVENTS$1","Stats","Stats2","actionData","_getTime","payload","_stats","stats","getStats","blob","Blob","JSON","stringify","downloadUrl","URL","createObjectURL","disabled","timestamp","timeFormat","toISOString","_recordUserActions","_recordInfo","_downloadStats","profile","_infoProfile","_info","startMs","cat","dur","ph","tid","ts","_this$_stats","mediaElem","mediaInfo","raw","timestat","_getTimeStats","_getProfile","stat","traceEvents","GapJump","GapJump2","seekingEventReceived","hasPlayed","smallGapLimit","gapDetectionThreshold","_getIndex","jumpTo","jumpSize","isGapSmall","BROWSER_GAP_TOLERANCE","useGapJump","isSafari","end_type","video_postion","onGapJump","threshold","bufferedInfo","_getBuffered","WaitingTimeoutJump","WaitingTimeoutJump2","jumpCnt","jumpCntMax","useWaitingTimeoutJump","onJump","waitingTime","DEFAULT_SPEED_TYPE","SPEED_TYPE","TestSpeed","TestSpeed2","speedListCache","initSpeedList","cnt","testSpeed","testTimeStep","speed","appendList","openSpeed","loadSize","testCnt","testSpeedUrl","xhr","XMLHttpRequest","headers","Range","setRequestHeader","onreadystatechange","getResponseHeader","send","saveSpeedMax","shift","realTimeSpeed","getSpeedName","updateSpeed","getSpeed","avgSpeed","speedName","addSpeedTypeList","_onRealSpeedChange","namePrefix","FpsDetect","FpsDetect2","_lastDecodedFrames","_currentStuckCount","_lastCheckPoint","_payload","_startTick","_stopTick","_timer","_checkDecodeFPS","tick","enoughBuffer","buffers","curDecodedFrames","checkInterval","hidden","_this$_checkBuffer","_checkBuffer","reportFrame","stuckCount","_reset","_media$getVideoPlayba","currTime","curDecoded","_checkStuck","DefaultPreset","DefaultPreset2","_this$plugins","_this$plugins2","_this$plugins3","simulateMode","contolsIcons","layers","PresetPlayer","_Player","PresetPlayer2","_ref","playerRef","useRef","useLocation","useEffect","_jsx","ref","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","module","exports","selector","closest","require","useCapture","listenerFn","listener","elements","querySelectorAll","define","strFileName","strMimeType","reader","defaultMime","mimeType","anchor","myBlob","MozBlob","WebKitBlob","pop","ajax","responseType","response","msSaveBlob","dataUrlToBlob","saver","tempUiArr","Uint8Array","mx","charCodeAt","strUrl","parts","binData","atob","decodeURIComponent","uiArr","winMode","revokeObjectURL","confirm","btoa","encodeURIComponent","FileReader","readAsDataURL","has","prefix","Events","EE","addListener","emitter","evt","_events","_eventsCount","clearEvent","eventNames","names","listeners","l","ee","listenerCount","a1","a2","a3","a4","a5","removeListener","undefined","j","prefixed"],"sourceRoot":""}